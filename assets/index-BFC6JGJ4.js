(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Tv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var id={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function s1(){if(Hy)return Yl;Hy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Yl.Fragment=t,Yl.jsx=i,Yl.jsxs=i,Yl}var Fy;function a1(){return Fy||(Fy=1,id.exports=s1()),id.exports}var j=a1(),rd={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function l1(){if(Gy)return Et;Gy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),D=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=D&&O[D]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,Q={};function K(O,Y,nt){this.props=O,this.context=Y,this.refs=Q,this.updater=nt||tt}K.prototype.isReactComponent={},K.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},K.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=K.prototype;function rt(O,Y,nt){this.props=O,this.context=Y,this.refs=Q,this.updater=nt||tt}var lt=rt.prototype=new W;lt.constructor=rt,it(lt,K.prototype),lt.isPureReactComponent=!0;var At=Array.isArray;function pt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(O,Y,nt){var ut=nt.ref;return{$$typeof:a,type:O,key:Y,ref:ut!==void 0?ut:null,props:nt}}function N(O,Y){return w(O.type,Y,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function se(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function pe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(pt,pt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,Y,nt,ut,_t){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var zt=!1;if(O===null)zt=!0;else switch(wt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(O.$$typeof){case a:case t:zt=!0;break;case A:return zt=O._init,B(zt(O._payload),Y,nt,ut,_t)}}if(zt)return _t=_t(O),zt=ut===""?"."+se(O,0):ut,At(_t)?(nt="",zt!=null&&(nt=zt.replace(R,"$&/")+"/"),B(_t,Y,nt,"",function(Yn){return Yn})):_t!=null&&(V(_t)&&(_t=N(_t,nt+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+zt)),Y.push(_t)),1;zt=0;var Ue=ut===""?".":ut+":";if(At(O))for(var ae=0;ae<O.length;ae++)ut=O[ae],wt=Ue+se(ut,ae),zt+=B(ut,Y,nt,wt,_t);else if(ae=F(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(ut=O.next()).done;)ut=ut.value,wt=Ue+se(ut,ae++),zt+=B(ut,Y,nt,wt,_t);else if(wt==="object"){if(typeof O.then=="function")return B(pe(O),Y,nt,ut,_t);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return zt}function et(O,Y,nt){if(O==null)return O;var ut=[],_t=0;return B(O,ut,"","",function(wt){return Y.call(nt,wt,_t++)}),ut}function ct(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var It=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ut={map:et,forEach:function(O,Y,nt){et(O,function(){Y.apply(this,arguments)},nt)},count:function(O){var Y=0;return et(O,function(){Y++}),Y},toArray:function(O){return et(O,function(Y){return Y})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=b,Et.Children=Ut,Et.Component=K,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=rt,Et.StrictMode=s,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,Y,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ut=it({},O.props),_t=O.key;if(Y!=null)for(wt in Y.key!==void 0&&(_t=""+Y.key),Y)!S.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(ut[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)ut.children=nt;else if(1<wt){for(var zt=Array(wt),Ue=0;Ue<wt;Ue++)zt[Ue]=arguments[Ue+2];ut.children=zt}return w(O.type,_t,ut)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},Et.createElement=function(O,Y,nt){var ut,_t={},wt=null;if(Y!=null)for(ut in Y.key!==void 0&&(wt=""+Y.key),Y)S.call(Y,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=Y[ut]);var zt=arguments.length-2;if(zt===1)_t.children=nt;else if(1<zt){for(var Ue=Array(zt),ae=0;ae<zt;ae++)Ue[ae]=arguments[ae+2];_t.children=Ue}if(O&&O.defaultProps)for(ut in zt=O.defaultProps,zt)_t[ut]===void 0&&(_t[ut]=zt[ut]);return w(O,wt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:g,render:O}},Et.isValidElement=V,Et.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ct}},Et.memo=function(O,Y){return{$$typeof:v,type:O,compare:Y===void 0?null:Y}},Et.startTransition=function(O){var Y=I.T,nt={};I.T=nt;try{var ut=O(),_t=I.S;_t!==null&&_t(nt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(pt,It)}catch(wt){It(wt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),I.T=Y}},Et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Et.use=function(O){return I.H.use(O)},Et.useActionState=function(O,Y,nt){return I.H.useActionState(O,Y,nt)},Et.useCallback=function(O,Y){return I.H.useCallback(O,Y)},Et.useContext=function(O){return I.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},Et.useEffect=function(O,Y){return I.H.useEffect(O,Y)},Et.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Et.useId=function(){return I.H.useId()},Et.useImperativeHandle=function(O,Y,nt){return I.H.useImperativeHandle(O,Y,nt)},Et.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},Et.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},Et.useMemo=function(O,Y){return I.H.useMemo(O,Y)},Et.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},Et.useReducer=function(O,Y,nt){return I.H.useReducer(O,Y,nt)},Et.useRef=function(O){return I.H.useRef(O)},Et.useState=function(O){return I.H.useState(O)},Et.useSyncExternalStore=function(O,Y,nt){return I.H.useSyncExternalStore(O,Y,nt)},Et.useTransition=function(){return I.H.useTransition()},Et.version="19.2.4",Et}var Qy;function Fd(){return Qy||(Qy=1,rd.exports=l1()),rd.exports}var kt=Fd();const Av=Tv(kt);var sd={exports:{}},Kl={},ad={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function o1(){return Yy||(Yy=1,(function(a){function t(B,et){var ct=B.length;B.push(et);t:for(;0<ct;){var It=ct-1>>>1,Ut=B[It];if(0<o(Ut,et))B[It]=et,B[ct]=Ut,ct=It;else break t}}function i(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var et=B[0],ct=B.pop();if(ct!==et){B[0]=ct;t:for(var It=0,Ut=B.length,O=Ut>>>1;It<O;){var Y=2*(It+1)-1,nt=B[Y],ut=Y+1,_t=B[ut];if(0>o(nt,ct))ut<Ut&&0>o(_t,nt)?(B[It]=_t,B[ut]=ct,It=ut):(B[It]=nt,B[Y]=ct,It=Y);else if(ut<Ut&&0>o(_t,ct))B[It]=_t,B[ut]=ct,It=ut;else break t}}return et}function o(B,et){var ct=B.sortIndex-et.sortIndex;return ct!==0?ct:B.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],v=[],A=1,b=null,D=3,F=!1,tt=!1,it=!1,Q=!1,K=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function lt(B){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=B)s(v),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(v)}}function At(B){if(it=!1,lt(B),!tt)if(i(y)!==null)tt=!0,pt||(pt=!0,U());else{var et=i(v);et!==null&&pe(At,et.startTime-B)}}var pt=!1,I=-1,S=5,w=-1;function N(){return Q?!0:!(a.unstable_now()-w<S)}function V(){if(Q=!1,pt){var B=a.unstable_now();w=B;var et=!0;try{t:{tt=!1,it&&(it=!1,W(I),I=-1),F=!0;var ct=D;try{e:{for(lt(B),b=i(y);b!==null&&!(b.expirationTime>B&&N());){var It=b.callback;if(typeof It=="function"){b.callback=null,D=b.priorityLevel;var Ut=It(b.expirationTime<=B);if(B=a.unstable_now(),typeof Ut=="function"){b.callback=Ut,lt(B),et=!0;break e}b===i(y)&&s(y),lt(B)}else s(y);b=i(y)}if(b!==null)et=!0;else{var O=i(v);O!==null&&pe(At,O.startTime-B),et=!1}}break t}finally{b=null,D=ct,F=!1}et=void 0}}finally{et?U():pt=!1}}}var U;if(typeof rt=="function")U=function(){rt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=V,U=function(){se.postMessage(null)}}else U=function(){K(V,0)};function pe(B,et){I=K(function(){B(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(B){B.callback=null},a.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(B){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ct=D;D=et;try{return B()}finally{D=ct}},a.unstable_requestPaint=function(){Q=!0},a.unstable_runWithPriority=function(B,et){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ct=D;D=B;try{return et()}finally{D=ct}},a.unstable_scheduleCallback=function(B,et,ct){var It=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?It+ct:It):ct=It,B){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=ct+Ut,B={id:A++,callback:et,priorityLevel:B,startTime:ct,expirationTime:Ut,sortIndex:-1},ct>It?(B.sortIndex=ct,t(v,B),i(y)===null&&B===i(v)&&(it?(W(I),I=-1):it=!0,pe(At,ct-It))):(B.sortIndex=Ut,t(y,B),tt||F||(tt=!0,pt||(pt=!0,U()))),B},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(B){var et=D;return function(){var ct=D;D=et;try{return B.apply(this,arguments)}finally{D=ct}}}})(ld)),ld}var Ky;function u1(){return Ky||(Ky=1,ad.exports=o1()),ad.exports}var od={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function c1(){if(Xy)return Ke;Xy=1;var a=Fd();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(y,v,null,A)},Ke.flushSync=function(y){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=A,s.d.f()}},Ke.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},Ke.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ke.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,b=g(A,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:F}):A==="script"&&s.d.X(y,{crossOrigin:b,integrity:D,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},Ke.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=g(A,v.crossOrigin);s.d.L(y,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},Ke.requestFormReset=function(y){s.d.r(y)},Ke.unstable_batchedUpdates=function(y,v){return y(v)},Ke.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.4",Ke}var Zy;function h1(){if(Zy)return od.exports;Zy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),od.exports=c1(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function f1(){if($y)return Kl;$y=1;var a=u1(),t=Fd(),i=h1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return y(c),e;if(f===l)return y(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=f;break}if(E===l){p=!0,l=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=c;break}if(E===l){p=!0,l=f,r=c;break}E=E.sibling}if(!p)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,D=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case K:return"Profiler";case Q:return"StrictMode";case At:return"Suspense";case pt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case rt:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var pe=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},It=[],Ut=-1;function O(e){return{current:e}}function Y(e){0>Ut||(e.current=It[Ut],It[Ut]=null,Ut--)}function nt(e,n){Ut++,It[Ut]=e.current,e.current=n}var ut=O(null),_t=O(null),wt=O(null),zt=O(null);function Ue(e,n){switch(nt(wt,n),nt(_t,e),nt(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?fy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=fy(n),e=dy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ut),nt(ut,e)}function ae(){Y(ut),Y(_t),Y(wt)}function Yn(e){e.memoizedState!==null&&nt(zt,e);var n=ut.current,r=dy(n,e.type);n!==r&&(nt(_t,e),nt(ut,r))}function mi(e){_t.current===e&&(Y(ut),Y(_t)),zt.current===e&&(Y(zt),Hl._currentValue=ct)}var $r,ks;function zn(e){if($r===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);$r=n&&n[1]||"",ks=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+e+ks}var Jr=!1;function Ps(e,n){if(!e||Jr)return"";Jr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var P=q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(q){P=q}e.call(Z.prototype)}}else{try{throw Error()}catch(q){P=q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),k=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===k.length)for(l=C.length-1,c=k.length-1;1<=l&&0<=c&&C[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==k[c]){var G=`
`+C[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=c);break}}}finally{Jr=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?zn(r):""}function Wc(e,n){switch(e.tag){case 26:case 27:case 5:return zn(e.type);case 16:return zn("Lazy");case 13:return e.child!==n&&n!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return Ps(e.type,!1);case 11:return Ps(e.type.render,!1);case 1:return Ps(e.type,!0);case 31:return zn("Activity");default:return""}}function Co(e){try{var n="",r=null;do n+=Wc(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var js=Object.prototype.hasOwnProperty,Wr=a.unstable_scheduleCallback,Bs=a.unstable_cancelCallback,th=a.unstable_shouldYield,Qa=a.unstable_requestPaint,ze=a.unstable_now,Io=a.unstable_getCurrentPriorityLevel,be=a.unstable_ImmediatePriority,Ie=a.unstable_UserBlockingPriority,gi=a.unstable_NormalPriority,No=a.unstable_LowPriority,Ya=a.unstable_IdlePriority,eh=a.log,ts=a.unstable_setDisableYieldValue,Gi=null,Qe=null;function An(e){if(typeof eh=="function"&&ts(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Gi,e)}catch{}}var Je=Math.clz32?Math.clz32:Do,nh=Math.log,Ka=Math.LN2;function Do(e){return e>>>=0,e===0?32:31-(nh(e)/Ka|0)|0}var es=256,Kn=262144,Qi=4194304;function Ln(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sn(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Ln(l):(p&=E,p!==0?c=Ln(p):r||(r=E&~e,r!==0&&(c=Ln(r))))):(E=l&~f,E!==0?c=Ln(E):p!==0?c=Ln(p):r||(r=l&~e,r!==0&&(c=Ln(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Yi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xa(){var e=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),e}function pi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Ki(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,n,r,l,c,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,k=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Je(r),Z=1<<G;E[G]=0,C[G]=-1;var P=k[G];if(P!==null)for(k[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}r&=~Z}l!==0&&Za(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Za(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Je(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Xi(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Je(r),c=1<<l;c&n|e[l]&n&&(e[l]|=n),r&=~c}}function Zi(e,n){var r=n&-n;return r=(r&42)!==0?1:$a(r),(r&(e.suspendedLanes|n))!==0?0:r}function $a(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:zy(e.type))}function xo(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var Xn=Math.random().toString(36).slice(2),oe="__reactFiber$"+Xn,ke="__reactProps$"+Xn,Zn="__reactContainer$"+Xn,$i="__reactEvents$"+Xn,$n="__reactListeners$"+Xn,Oo="__reactHandles$"+Xn,Wa="__reactResources$"+Xn,_i="__reactMarker$"+Xn;function ns(e){delete e[oe],delete e[ke],delete e[$i],delete e[$n],delete e[Oo]}function vi(e){var n=e[oe];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Zn]||r[oe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Ey(e);e!==null;){if(r=e[oe])return r;e=Ey(e)}return n}e=r,r=e.parentNode}return null}function Ei(e){if(e=e[oe]||e[Zn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function is(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function kn(e){var n=e[Wa];return n||(n=e[Wa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(e){e[_i]=!0}var Hs=new Set,Ji={};function We(e,n){Jn(e,n),Jn(e+"Capture",n)}function Jn(e,n){for(Ji[e]=n,e=0;e<n.length;e++)Hs.add(n[e])}var ih=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function Vo(e){return js.call(el,e)?!0:js.call(tl,e)?!1:ih.test(e)?el[e]=!0:(tl[e]=!0,!1)}function Wi(e,n,r){if(Vo(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function tr(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function bn(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function rh(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Fs(e){if(!e._valueTracker){var n=Mo(e)?"checked":"value";e._valueTracker=rh(e,n,""+e[n])}}function nl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Mo(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ti=/[\n"\\]/g;function ue(e){return e.replace(Ti,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function er(e,n,r,l,c,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+tn(n)):e.value!==""+tn(n)&&(e.value=""+tn(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Qs(e,p,tn(n)):r!=null?Qs(e,p,tn(r)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+tn(E):e.removeAttribute("name")}function rs(e,n,r,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Fs(e);return}r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Fs(e)}function Qs(e,n,r){n==="number"&&Gs(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function jt(e,n,r,l){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function ss(e,n,r){if(n!=null&&(n=""+tn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+tn(r):""}function nr(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=tn(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Fs(e)}function wn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||sh.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Uo(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&il(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&il(e,f,n[f])}function rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(e){return lh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ne(){}var Ys=null;function Ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,dn=null;function zo(e){var n=Ei(e);if(n&&(e=n.stateNode)){var r=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(er(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ue(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var c=l[ke]||null;if(!c)throw Error(s(90));er(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&nl(l)}break t;case"textarea":ss(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&jt(e,!!r.multiple,n,!1)}}}var sl=!1;function Lo(e,n,r){if(sl)return e(n,r);sl=!0;try{var l=e(n);return l}finally{if(sl=!1,(Ai!==null||dn!==null)&&(Vu(),Ai&&(n=Ai,e=dn,dn=Ai=null,zo(n),e)))for(n=0;n<e.length;n++)zo(e[n])}}function sn(e,n){var r=e.stateNode;if(r===null)return null;var l=r[ke]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),al=!1;if(Pn)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){al=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{al=!1}var mn=null,Xs=null,ei=null;function ir(){if(ei)return ei;var e,n=Xs,r=n.length,l,c="value"in mn?mn.value:mn.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var p=r-e;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return ei=c.slice(e,1<l?1-l:void 0)}function as(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function rr(){return!0}function te(){return!1}function Ye(e){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?rr:te,this.isPropagationStopped=te,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Ye(Si),sr=b({},Si,{view:0,detail:0}),ko=Ye(sr),ar,Zs,en,os=b({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&e.type==="mousemove"?(ar=e.screenX-en.screenX,Zs=e.screenY-en.screenY):Zs=ar=0,en=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:Zs}}),Po=Ye(os),us=b({},os,{dataTransfer:0}),jo=Ye(us),ll=b({},sr,{relatedTarget:0}),lr=Ye(ll),Bo=b({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=Ye(Bo),oh=b({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qo=Ye(oh),cs=b({},Si,{data:0}),ol=Ye(cs),Ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ul={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cl[e])?!!n[e]:!1}function or(){return Fo}var Go=b({},sr,{key:function(e){if(e.key){var n=Ho[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ul[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qo=Ye(Go),bi=b({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Ye(bi),Yo=b({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),Ko=Ye(Yo),Xo=b({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Js=Ye(Xo),nn=b({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zo=Ye(nn),$o=b({},Si,{newState:0,oldState:0}),ur=Ye($o),u=[9,13,27,32],m=Pn&&"CompositionEvent"in window,_=null;Pn&&"documentMode"in document&&(_=document.documentMode);var T=Pn&&"TextEvent"in window&&!_,z=Pn&&(!m||_&&8<_&&11>=_),H=" ",st=!1;function Gt(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rt=!1;function De(e,n){switch(e){case"compositionend":return ye(n);case"keypress":return n.which!==32?null:(st=!0,H);case"textInput":return e=n.data,e===H&&st?null:e;default:return null}}function xe(e,n){if(Rt)return e==="compositionend"||!m&&Gt(e,n)?(e=ir(),ei=Xs=mn=null,Rt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return z&&n.locale!=="ko"?null:n.data;default:return null}}var cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cr[e.type]:n==="textarea"}function hs(e,n,r,l){Ai?dn?dn.push(l):dn=[l]:Ai=l,n=ju(n,"onChange"),0<n.length&&(r=new ls("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var wi=null,fl=null;function OE(e){ay(e,0)}function Jo(e){var n=is(e);if(nl(n))return e}function wm(e,n){if(e==="change")return n}var Rm=!1;if(Pn){var uh;if(Pn){var ch="oninput"in document;if(!ch){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),ch=typeof Cm.oninput=="function"}uh=ch}else uh=!1;Rm=uh&&(!document.documentMode||9<document.documentMode)}function Im(){wi&&(wi.detachEvent("onpropertychange",Nm),fl=wi=null)}function Nm(e){if(e.propertyName==="value"&&Jo(fl)){var n=[];hs(n,fl,e,Ks(e)),Lo(OE,n)}}function VE(e,n,r){e==="focusin"?(Im(),wi=n,fl=r,wi.attachEvent("onpropertychange",Nm)):e==="focusout"&&Im()}function ME(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jo(fl)}function UE(e,n){if(e==="click")return Jo(n)}function zE(e,n){if(e==="input"||e==="change")return Jo(n)}function LE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:LE;function dl(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!js.call(n,c)||!gn(e[c],n[c]))return!1}return!0}function Dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xm(e,n){var r=Dm(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Dm(r)}}function Om(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Om(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Vm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Gs(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Gs(e.document)}return n}function hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var kE=Pn&&"documentMode"in document&&11>=document.documentMode,Ws=null,fh=null,ml=null,dh=!1;function Mm(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dh||Ws==null||Ws!==Gs(l)||(l=Ws,"selectionStart"in l&&hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=ju(fh,"onSelect"),0<l.length&&(n=new ls("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Ws)))}function fs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ta={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},mh={},Um={};Pn&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function ds(e){if(mh[e])return mh[e];if(!ta[e])return e;var n=ta[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Um)return mh[e]=n[r];return e}var zm=ds("animationend"),Lm=ds("animationiteration"),km=ds("animationstart"),PE=ds("transitionrun"),jE=ds("transitionstart"),BE=ds("transitioncancel"),Pm=ds("transitionend"),jm=new Map,gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gh.push("scrollEnd");function jn(e,n){jm.set(e,n),We(n,[e])}var Wo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ea=0,ph=0;function tu(){for(var e=ea,n=ph=ea=0;n<e;){var r=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&Bm(r,c,f)}}function eu(e,n,r,l){Rn[ea++]=e,Rn[ea++]=n,Rn[ea++]=r,Rn[ea++]=l,ph|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yh(e,n,r,l){return eu(e,n,r,l),nu(e)}function ms(e,n){return eu(e,null,null,n),nu(e)}function Bm(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Je(r),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function nu(e){if(50<zl)throw zl=0,Cf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var na={};function qE(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,l){return new qE(e,n,r,l)}function _h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ri(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function qm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function iu(e,n,r,l,c,f){var p=0;if(l=e,typeof e=="function")_h(e)&&(p=1);else if(typeof e=="string")p=YT(e,r,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=pn(31,r,n,c),e.elementType=w,e.lanes=f,e;case it:return gs(r.children,c,f,n);case Q:p=8,c|=24;break;case K:return e=pn(12,r,n,c|2),e.elementType=K,e.lanes=f,e;case At:return e=pn(13,r,n,c),e.elementType=At,e.lanes=f,e;case pt:return e=pn(19,r,n,c),e.elementType=pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:p=10;break t;case W:p=9;break t;case lt:p=11;break t;case I:p=14;break t;case S:p=16,l=null;break t}p=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=pn(p,r,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function gs(e,n,r,l){return e=pn(7,e,l,n),e.lanes=r,e}function vh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function Hm(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Eh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Fm=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var r=Fm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Co(n)},Fm.set(e,n),n)}return{value:e,source:n,stack:Co(n)}}var ia=[],ra=0,ru=null,gl=0,In=[],Nn=0,hr=null,ni=1,ii="";function Ci(e,n){ia[ra++]=gl,ia[ra++]=ru,ru=e,gl=n}function Gm(e,n,r){In[Nn++]=ni,In[Nn++]=ii,In[Nn++]=hr,hr=e;var l=ni;e=ii;var c=32-Je(l)-1;l&=~(1<<c),r+=1;var f=32-Je(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,ni=1<<32-Je(n)+c|r<<c|l,ii=f+e}else ni=1<<f|r<<c|l,ii=e}function Th(e){e.return!==null&&(Ci(e,1),Gm(e,1,0))}function Ah(e){for(;e===ru;)ru=ia[--ra],ia[ra]=null,gl=ia[--ra],ia[ra]=null;for(;e===hr;)hr=In[--Nn],In[Nn]=null,ii=In[--Nn],In[Nn]=null,ni=In[--Nn],In[Nn]=null}function Qm(e,n){In[Nn++]=ni,In[Nn++]=ii,In[Nn++]=hr,ni=n.id,ii=n.overflow,hr=e}var Pe=null,ee=null,Lt=!1,fr=null,Dn=!1,Sh=Error(s(519));function dr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Cn(n,e)),Sh}function Ym(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[oe]=e,n[ke]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<kl.length;r++)Dt(kl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),rs(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),nr(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||cy(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Ne),n=!0):n=!1,n||dr(e,!0)}function Km(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Pe=Pe.return}}function sa(e){if(e!==Pe)return!1;if(!Lt)return Km(e),Lt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||qf(e.type,e.memoizedProps)),r=!r),r&&ee&&dr(e),Km(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=vy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=vy(e)}else n===27?(n=ee,Cr(e.type)?(e=Yf,Yf=null,ee=e):ee=n):ee=Pe?On(e.stateNode.nextSibling):null;return!0}function ps(){ee=Pe=null,Lt=!1}function bh(){var e=fr;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),fr=null),e}function pl(e){fr===null?fr=[e]:fr.push(e)}var wh=O(null),ys=null,Ii=null;function mr(e,n,r){nt(wh,n._currentValue),n._currentValue=r}function Ni(e){e._currentValue=wh.current,Y(wh)}function Rh(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Ch(e,n,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Rh(f.return,r,e),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Rh(p,r,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function aa(e,n,r,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=c.type;gn(c.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(c===zt.current){if(p=c.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Hl):e=[Hl])}c=c.return}e!==null&&Ch(n,e,r,l),n.flags|=262144}function su(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ys=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return Xm(ys,e)}function au(e,n){return ys===null&&_s(e),Xm(e,n)}function Xm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ii===null){if(e===null)throw Error(s(308));Ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ii=Ii.next=n;return r}var HE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},FE=a.unstable_scheduleCallback,GE=a.unstable_NormalPriority,_e={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ih(){return{controller:new HE,data:new Map,refCount:0}}function yl(e){e.refCount--,e.refCount===0&&FE(GE,function(){e.controller.abort()})}var _l=null,Nh=0,la=0,oa=null;function QE(e,n){if(_l===null){var r=_l=[];Nh=0,la=Vf(),oa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Nh++,n.then(Zm,Zm),n}function Zm(){if(--Nh===0&&_l!==null){oa!==null&&(oa.status="fulfilled");var e=_l;_l=null,la=0,oa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function YE(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var $m=B.S;B.S=function(e,n){Mp=ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&QE(e,n),$m!==null&&$m(e,n)};var vs=O(null);function Dh(){var e=vs.current;return e!==null?e:Jt.pooledCache}function lu(e,n){n===null?nt(vs,vs.current):nt(vs,n.pool)}function Jm(){var e=Dh();return e===null?null:{parent:_e._currentValue,pool:e}}var ua=Error(s(460)),xh=Error(s(474)),ou=Error(s(542)),uu={then:function(){}};function Wm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Ne,Ne),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e;default:if(typeof n.status=="string")n.then(Ne,Ne);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e}throw Ts=n,ua}}function Es(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ts=r,ua):r}}var Ts=null;function eg(){if(Ts===null)throw Error(s(459));var e=Ts;return Ts=null,e}function ng(e){if(e===ua||e===ou)throw Error(s(483))}var ca=null,vl=0;function cu(e){var n=vl;return vl+=1,ca===null&&(ca=[]),tg(ca,e,n)}function El(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function hu(e,n){throw n.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ig(e){function n(M,x){if(e){var L=M.deletions;L===null?(M.deletions=[x],M.flags|=16):L.push(x)}}function r(M,x){if(!e)return null;for(;x!==null;)n(M,x),x=x.sibling;return null}function l(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function c(M,x){return M=Ri(M,x),M.index=0,M.sibling=null,M}function f(M,x,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<x?(M.flags|=67108866,x):L):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,x,L,X){return x===null||x.tag!==6?(x=vh(L,M.mode,X),x.return=M,x):(x=c(x,L),x.return=M,x)}function C(M,x,L,X){var dt=L.type;return dt===it?G(M,x,L.props.children,X,L.key):x!==null&&(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Es(dt)===x.type)?(x=c(x,L.props),El(x,L),x.return=M,x):(x=iu(L.type,L.key,L.props,null,M.mode,X),El(x,L),x.return=M,x)}function k(M,x,L,X){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=Eh(L,M.mode,X),x.return=M,x):(x=c(x,L.children||[]),x.return=M,x)}function G(M,x,L,X,dt){return x===null||x.tag!==7?(x=gs(L,M.mode,X,dt),x.return=M,x):(x=c(x,L),x.return=M,x)}function Z(M,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=vh(""+x,M.mode,L),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F:return L=iu(x.type,x.key,x.props,null,M.mode,L),El(L,x),L.return=M,L;case tt:return x=Eh(x,M.mode,L),x.return=M,x;case S:return x=Es(x),Z(M,x,L)}if(pe(x)||U(x))return x=gs(x,M.mode,L,null),x.return=M,x;if(typeof x.then=="function")return Z(M,cu(x),L);if(x.$$typeof===rt)return Z(M,au(M,x),L);hu(M,x)}return null}function P(M,x,L,X){var dt=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return dt!==null?null:E(M,x,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===dt?C(M,x,L,X):null;case tt:return L.key===dt?k(M,x,L,X):null;case S:return L=Es(L),P(M,x,L,X)}if(pe(L)||U(L))return dt!==null?null:G(M,x,L,X,null);if(typeof L.then=="function")return P(M,x,cu(L),X);if(L.$$typeof===rt)return P(M,x,au(M,L),X);hu(M,L)}return null}function q(M,x,L,X,dt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return M=M.get(L)||null,E(x,M,""+X,dt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case F:return M=M.get(X.key===null?L:X.key)||null,C(x,M,X,dt);case tt:return M=M.get(X.key===null?L:X.key)||null,k(x,M,X,dt);case S:return X=Es(X),q(M,x,L,X,dt)}if(pe(X)||U(X))return M=M.get(L)||null,G(x,M,X,dt,null);if(typeof X.then=="function")return q(M,x,L,cu(X),dt);if(X.$$typeof===rt)return q(M,x,L,au(x,X),dt);hu(x,X)}return null}function ot(M,x,L,X){for(var dt=null,Bt=null,ht=x,bt=x=0,Ot=null;ht!==null&&bt<L.length;bt++){ht.index>bt?(Ot=ht,ht=null):Ot=ht.sibling;var qt=P(M,ht,L[bt],X);if(qt===null){ht===null&&(ht=Ot);break}e&&ht&&qt.alternate===null&&n(M,ht),x=f(qt,x,bt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt,ht=Ot}if(bt===L.length)return r(M,ht),Lt&&Ci(M,bt),dt;if(ht===null){for(;bt<L.length;bt++)ht=Z(M,L[bt],X),ht!==null&&(x=f(ht,x,bt),Bt===null?dt=ht:Bt.sibling=ht,Bt=ht);return Lt&&Ci(M,bt),dt}for(ht=l(ht);bt<L.length;bt++)Ot=q(ht,M,bt,L[bt],X),Ot!==null&&(e&&Ot.alternate!==null&&ht.delete(Ot.key===null?bt:Ot.key),x=f(Ot,x,bt),Bt===null?dt=Ot:Bt.sibling=Ot,Bt=Ot);return e&&ht.forEach(function(Or){return n(M,Or)}),Lt&&Ci(M,bt),dt}function gt(M,x,L,X){if(L==null)throw Error(s(151));for(var dt=null,Bt=null,ht=x,bt=x=0,Ot=null,qt=L.next();ht!==null&&!qt.done;bt++,qt=L.next()){ht.index>bt?(Ot=ht,ht=null):Ot=ht.sibling;var Or=P(M,ht,qt.value,X);if(Or===null){ht===null&&(ht=Ot);break}e&&ht&&Or.alternate===null&&n(M,ht),x=f(Or,x,bt),Bt===null?dt=Or:Bt.sibling=Or,Bt=Or,ht=Ot}if(qt.done)return r(M,ht),Lt&&Ci(M,bt),dt;if(ht===null){for(;!qt.done;bt++,qt=L.next())qt=Z(M,qt.value,X),qt!==null&&(x=f(qt,x,bt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return Lt&&Ci(M,bt),dt}for(ht=l(ht);!qt.done;bt++,qt=L.next())qt=q(ht,M,bt,qt.value,X),qt!==null&&(e&&qt.alternate!==null&&ht.delete(qt.key===null?bt:qt.key),x=f(qt,x,bt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return e&&ht.forEach(function(r1){return n(M,r1)}),Lt&&Ci(M,bt),dt}function $t(M,x,L,X){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var dt=L.key;x!==null;){if(x.key===dt){if(dt=L.type,dt===it){if(x.tag===7){r(M,x.sibling),X=c(x,L.props.children),X.return=M,M=X;break t}}else if(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Es(dt)===x.type){r(M,x.sibling),X=c(x,L.props),El(X,L),X.return=M,M=X;break t}r(M,x);break}else n(M,x);x=x.sibling}L.type===it?(X=gs(L.props.children,M.mode,X,L.key),X.return=M,M=X):(X=iu(L.type,L.key,L.props,null,M.mode,X),El(X,L),X.return=M,M=X)}return p(M);case tt:t:{for(dt=L.key;x!==null;){if(x.key===dt)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){r(M,x.sibling),X=c(x,L.children||[]),X.return=M,M=X;break t}else{r(M,x);break}else n(M,x);x=x.sibling}X=Eh(L,M.mode,X),X.return=M,M=X}return p(M);case S:return L=Es(L),$t(M,x,L,X)}if(pe(L))return ot(M,x,L,X);if(U(L)){if(dt=U(L),typeof dt!="function")throw Error(s(150));return L=dt.call(L),gt(M,x,L,X)}if(typeof L.then=="function")return $t(M,x,cu(L),X);if(L.$$typeof===rt)return $t(M,x,au(M,L),X);hu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(r(M,x.sibling),X=c(x,L),X.return=M,M=X):(r(M,x),X=vh(L,M.mode,X),X.return=M,M=X),p(M)):r(M,x)}return function(M,x,L,X){try{vl=0;var dt=$t(M,x,L,X);return ca=null,dt}catch(ht){if(ht===ua||ht===ou)throw ht;var Bt=pn(29,ht,null,M.mode);return Bt.lanes=X,Bt.return=M,Bt}finally{}}}var As=ig(!0),rg=ig(!1),gr=!1;function Oh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=nu(e),Bm(e,null,r),n}return eu(e,l,n,r),nu(e)}function Tl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Xi(e,r)}}function Mh(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Uh=!1;function Al(){if(Uh){var e=oa;if(e!==null)throw e}}function Sl(e,n,r,l){Uh=!1;var c=e.updateQueue;gr=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,k=C.next;C.next=null,p===null?f=k:p.next=k,p=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=k:E.next=k,G.lastBaseUpdate=C))}if(f!==null){var Z=c.baseState;p=0,G=k=C=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(xt&P)===P:(l&P)===P){P!==0&&P===la&&(Uh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;P=n;var $t=r;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){Z=ot.call($t,Z,P);break t}Z=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,P=typeof ot=="function"?ot.call($t,Z,P):ot,P==null)break t;Z=b({},Z,P);break t;case 2:gr=!0}}P=E.callback,P!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(k=G=q,C=Z):G=G.next=q,p|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(C=Z),c.baseState=C,c.firstBaseUpdate=k,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),Ar|=p,e.lanes=p,e.memoizedState=Z}}function sg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function ag(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)sg(r[e],n)}var ha=O(null),fu=O(0);function lg(e,n){e=ki,nt(fu,e),nt(ha,n),ki=e|n.baseLanes}function zh(){nt(fu,ki),nt(ha,ha.current)}function Lh(){ki=fu.current,Y(ha),Y(fu)}var yn=O(null),xn=null;function _r(e){var n=e.alternate;nt(de,de.current&1),nt(yn,e),xn===null&&(n===null||ha.current!==null||n.memoizedState!==null)&&(xn=e)}function kh(e){nt(de,de.current),nt(yn,e),xn===null&&(xn=e)}function og(e){e.tag===22?(nt(de,de.current),nt(yn,e),xn===null&&(xn=e)):vr()}function vr(){nt(de,de.current),nt(yn,yn.current)}function _n(e){Y(yn),xn===e&&(xn=null),Y(de)}var de=O(0);function du(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Gf(r)||Qf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Di=0,St=null,Xt=null,ve=null,mu=!1,fa=!1,Ss=!1,gu=0,bl=0,da=null,KE=0;function ce(){throw Error(s(321))}function Ph(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!gn(e[r],n[r]))return!1;return!0}function jh(e,n,r,l,c,f){return Di=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?Gg:ef,Ss=!1,f=r(l,c),Ss=!1,fa&&(f=cg(n,r,l,c)),ug(e),f}function ug(e){B.H=Cl;var n=Xt!==null&&Xt.next!==null;if(Di=0,ve=Xt=St=null,mu=!1,bl=0,da=null,n)throw Error(s(300));e===null||Ee||(e=e.dependencies,e!==null&&su(e)&&(Ee=!0))}function cg(e,n,r,l){St=e;var c=0;do{if(fa&&(da=null),bl=0,fa=!1,25<=c)throw Error(s(301));if(c+=1,ve=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Qg,f=n(r,l)}while(fa);return f}function XE(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?wl(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(St.flags|=1024),n}function Bh(){var e=gu!==0;return gu=0,e}function qh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Hh(e){if(mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}mu=!1}Di=0,ve=Xt=St=null,fa=!1,bl=gu=0,da=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?St.memoizedState=ve=e:ve=ve.next=e,ve}function me(){if(Xt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=ve===null?St.memoizedState:ve.next;if(n!==null)ve=n,Xt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ve===null?St.memoizedState=ve=e:ve=ve.next=e}return ve}function pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(e){var n=bl;return bl+=1,da===null&&(da=[]),e=tg(da,e,n),n=St,(ve===null?n.memoizedState:ve.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?Gg:ef),e}function yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===rt)return je(e)}throw Error(s(438,String(e)))}function Fh(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=pu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=N;return n.index++,r}function xi(e,n){return typeof n=="function"?n(e):n}function _u(e){var n=me();return Gh(n,Xt,e)}function Gh(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=p=null,C=null,k=n,G=!1;do{var Z=k.lane&-536870913;if(Z!==k.lane?(xt&Z)===Z:(Di&Z)===Z){var P=k.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Z===la&&(G=!0);else if((Di&P)===P){k=k.next,P===la&&(G=!0);continue}else Z={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=Z,p=f):C=C.next=Z,St.lanes|=P,Ar|=P;Z=k.action,Ss&&r(f,Z),f=k.hasEagerState?k.eagerState:r(f,Z)}else P={lane:Z,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=P,p=f):C=C.next=P,St.lanes|=Z,Ar|=Z;k=k.next}while(k!==null&&k!==n);if(C===null?p=f:C.next=E,!gn(f,e.memoizedState)&&(Ee=!0,G&&(r=oa,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Qh(e){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);gn(f,n.memoizedState)||(Ee=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function hg(e,n,r){var l=St,c=me(),f=Lt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var p=!gn((Xt||c).memoizedState,r);if(p&&(c.memoizedState=r,Ee=!0),c=c.queue,Xh(mg.bind(null,l,c,e),[e]),c.getSnapshot!==n||p||ve!==null&&ve.memoizedState.tag&1){if(l.flags|=2048,ma(9,{destroy:void 0},dg.bind(null,l,c,r,n),null),Jt===null)throw Error(s(349));f||(Di&127)!==0||fg(l,n,r)}return r}function fg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=pu(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function dg(e,n,r,l){n.value=r,n.getSnapshot=l,gg(n)&&pg(e)}function mg(e,n,r){return r(function(){gg(n)&&pg(e)})}function gg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!gn(e,r)}catch{return!0}}function pg(e){var n=ms(e,2);n!==null&&hn(n,e,2)}function Yh(e){var n=rn();if(typeof e=="function"){var r=e;if(e=r(),Ss){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},n}function yg(e,n,r,l){return e.baseState=r,Gh(e,Xt,typeof l=="function"?l:xi)}function ZE(e,n,r,l,c){if(Tu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};B.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,_g(n,f)):(f.next=r.next,n.pending=r.next=f)}}function _g(e,n){var r=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=B.T,p={};B.T=p;try{var E=r(c,l),C=B.S;C!==null&&C(p,E),vg(e,n,E)}catch(k){Kh(e,n,k)}finally{f!==null&&p.types!==null&&(f.types=p.types),B.T=f}}else try{f=r(c,l),vg(e,n,f)}catch(k){Kh(e,n,k)}}function vg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Eg(e,n,l)},function(l){return Kh(e,n,l)}):Eg(e,n,r)}function Eg(e,n,r){n.status="fulfilled",n.value=r,Tg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,_g(e,r)))}function Kh(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Tg(n),n=n.next;while(n!==l)}e.action=null}function Tg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ag(e,n){return n}function Sg(e,n){if(Lt){var r=Jt.formState;if(r!==null){t:{var l=St;if(Lt){if(ee){e:{for(var c=ee,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=On(c.nextSibling),l=c.data==="F!";break t}}dr(l)}l=!1}l&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:n},r.queue=l,r=qg.bind(null,St,l),l.dispatch=r,l=Yh(!1),f=tf.bind(null,St,!1,l.queue),l=rn(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,r=ZE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=e,[n,r,!1]}function bg(e){var n=me();return wg(n,Xt,e)}function wg(e,n,r){if(n=Gh(e,n,Ag)[0],e=_u(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=wl(n)}catch(p){throw p===ua?ou:p}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,ma(9,{destroy:void 0},$E.bind(null,c,r),null)),[l,f,e]}function $E(e,n){e.action=n}function Rg(e){var n=me(),r=Xt;if(r!==null)return wg(n,r,e);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function ma(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=pu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Cg(){return me().memoizedState}function vu(e,n,r,l){var c=rn();St.flags|=e,c.memoizedState=ma(1|n,{destroy:void 0},r,l===void 0?null:l)}function Eu(e,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&Ph(l,Xt.memoizedState.deps)?c.memoizedState=ma(n,f,r,l):(St.flags|=e,c.memoizedState=ma(1|n,f,r,l))}function Ig(e,n){vu(8390656,8,e,n)}function Xh(e,n){Eu(2048,8,e,n)}function JE(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=pu(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Ng(e){var n=me().memoizedState;return JE({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Dg(e,n){return Eu(4,2,e,n)}function xg(e,n){return Eu(4,4,e,n)}function Og(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vg(e,n,r){r=r!=null?r.concat([e]):null,Eu(4,4,Og.bind(null,n,e),r)}function Zh(){}function Mg(e,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ph(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Ug(e,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ph(n,l[1]))return l[0];if(l=e(),Ss){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[l,n],l}function $h(e,n,r){return r===void 0||(Di&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=zp(),St.lanes|=e,Ar|=e,r)}function zg(e,n,r,l){return gn(r,n)?r:ha.current!==null?(e=$h(e,r,l),gn(e,n)||(Ee=!0),e):(Di&42)===0||(Di&1073741824)!==0&&(xt&261930)===0?(Ee=!0,e.memoizedState=r):(e=zp(),St.lanes|=e,Ar|=e,n)}function Lg(e,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var p=B.T,E={};B.T=E,tf(e,!1,n,r);try{var C=c(),k=B.S;if(k!==null&&k(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=YE(C,l);Rl(e,n,G,Tn(e))}else Rl(e,n,l,Tn(e))}catch(Z){Rl(e,n,{then:function(){},status:"rejected",reason:Z},Tn())}finally{et.p=f,p!==null&&E.types!==null&&(p.types=E.types),B.T=p}}function WE(){}function Jh(e,n,r,l){if(e.tag!==5)throw Error(s(476));var c=kg(e).queue;Lg(e,c,n,ct,r===null?WE:function(){return Pg(e),r(l)})}function kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Pg(e){var n=kg(e);n.next===null&&(n=e.alternate.memoizedState),Rl(e,n.next.queue,{},Tn())}function Wh(){return je(Hl)}function jg(){return me().memoizedState}function Bg(){return me().memoizedState}function tT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();e=pr(r);var l=yr(n,e,r);l!==null&&(hn(l,n,r),Tl(l,n,r)),n={cache:Ih()},e.payload=n;return}n=n.return}}function eT(e,n,r){var l=Tn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Tu(e)?Hg(n,r):(r=yh(e,n,r,l),r!==null&&(hn(r,e,l),Fg(r,n,l)))}function qg(e,n,r){var l=Tn();Rl(e,n,r,l)}function Rl(e,n,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))Hg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,gn(E,p))return eu(e,n,c,0),Jt===null&&tu(),!1}catch{}finally{}if(r=yh(e,n,c,l),r!==null)return hn(r,e,l),Fg(r,n,l),!0}return!1}function tf(e,n,r,l){if(l={lane:2,revertLane:Vf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(n)throw Error(s(479))}else n=yh(e,r,l,2),n!==null&&hn(n,e,2)}function Tu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Hg(e,n){fa=mu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Fg(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Xi(e,r)}}var Cl={readContext:je,use:yu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Cl.useEffectEvent=ce;var Gg={readContext:je,use:yu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Ig,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,vu(4194308,4,Og.bind(null,n,e),r)},useLayoutEffect:function(e,n){return vu(4194308,4,e,n)},useInsertionEffect:function(e,n){vu(4,2,e,n)},useMemo:function(e,n){var r=rn();n=n===void 0?null:n;var l=e();if(Ss){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=rn();if(r!==void 0){var c=r(n);if(Ss){An(!0);try{r(n)}finally{An(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=eT.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Yh(e);var n=e.queue,r=qg.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Zh,useDeferredValue:function(e,n){var r=rn();return $h(r,e,n)},useTransition:function(){var e=Yh(!1);return e=Lg.bind(null,St,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=St,c=rn();if(Lt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(xt&127)!==0||fg(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Ig(mg.bind(null,l,f,e),[e]),l.flags|=2048,ma(9,{destroy:void 0},dg.bind(null,l,f,r,n),null),r},useId:function(){var e=rn(),n=Jt.identifierPrefix;if(Lt){var r=ii,l=ni;r=(l&~(1<<32-Je(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=gu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=KE++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Wh,useFormState:Sg,useActionState:Sg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=tf.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:Fh,useCacheRefresh:function(){return rn().memoizedState=tT.bind(null,St)},useEffectEvent:function(e){var n=rn(),r={impl:e};return n.memoizedState=r,function(){if((Ht&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},ef={readContext:je,use:yu,useCallback:Mg,useContext:je,useEffect:Xh,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:xg,useMemo:Ug,useReducer:_u,useRef:Cg,useState:function(){return _u(xi)},useDebugValue:Zh,useDeferredValue:function(e,n){var r=me();return zg(r,Xt.memoizedState,e,n)},useTransition:function(){var e=_u(xi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:hg,useId:jg,useHostTransitionStatus:Wh,useFormState:bg,useActionState:bg,useOptimistic:function(e,n){var r=me();return yg(r,Xt,e,n)},useMemoCache:Fh,useCacheRefresh:Bg};ef.useEffectEvent=Ng;var Qg={readContext:je,use:yu,useCallback:Mg,useContext:je,useEffect:Xh,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:xg,useMemo:Ug,useReducer:Qh,useRef:Cg,useState:function(){return Qh(xi)},useDebugValue:Zh,useDeferredValue:function(e,n){var r=me();return Xt===null?$h(r,e,n):zg(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Qh(xi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:hg,useId:jg,useHostTransitionStatus:Wh,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,n){var r=me();return Xt!==null?yg(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:Bg};Qg.useEffectEvent=Ng;function nf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Tn(),c=pr(l);c.payload=n,r!=null&&(c.callback=r),n=yr(e,c,l),n!==null&&(hn(n,e,l),Tl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Tn(),c=pr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=yr(e,c,l),n!==null&&(hn(n,e,l),Tl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Tn(),l=pr(r);l.tag=2,n!=null&&(l.callback=n),n=yr(e,l,r),n!==null&&(hn(n,e,r),Tl(n,e,r))}};function Yg(e,n,r,l,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!dl(r,l)||!dl(c,f):!0}function Kg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&rf.enqueueReplaceState(n,n.state,null)}function bs(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function Xg(e){Wo(e)}function Zg(e){console.error(e)}function $g(e){Wo(e)}function Au(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jg(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sf(e,n,r){return r=pr(r),r.tag=3,r.payload={element:null},r.callback=function(){Au(e,n)},r}function Wg(e){return e=pr(e),e.tag=3,e}function tp(e,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Jg(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Jg(n,r,l),typeof c!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function nT(e,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&aa(n,r,c,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return xn===null?Mu():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Df(e,l,c)),!1;case 22:return r.flags|=65536,l===uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Df(e,l,c)),!1}throw Error(s(435,r.tag))}return Df(e,l,c),Mu(),!1}if(Lt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Sh&&(e=Error(s(422),{cause:l}),pl(Cn(e,r)))):(l!==Sh&&(n=Error(s(423),{cause:l}),pl(Cn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Cn(l,r),c=sf(e.stateNode,l,c),Mh(e,c),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:l});if(f=Cn(f,r),Ul===null?Ul=[f]:Ul.push(f),he!==4&&(he=2),n===null)return!0;l=Cn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=sf(r.stateNode,l,e),Mh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Sr===null||!Sr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Wg(c),tp(c,e,r,l),Mh(r,c),!1}r=r.return}while(r!==null);return!1}var af=Error(s(461)),Ee=!1;function Be(e,n,r,l){n.child=e===null?rg(n,null,r,l):As(n,e.child,r,l)}function ep(e,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return _s(n),l=jh(e,n,r,p,f,c),E=Bh(),e!==null&&!Ee?(qh(e,n,c),Oi(e,n,c)):(Lt&&E&&Th(n),n.flags|=1,Be(e,n,l,c),n.child)}function np(e,n,r,l,c){if(e===null){var f=r.type;return typeof f=="function"&&!_h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ip(e,n,f,l,c)):(e=iu(r.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!mf(e,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:dl,r(p,l)&&e.ref===n.ref)return Oi(e,n,c)}return n.flags|=1,e=Ri(f,l),e.ref=n.ref,e.return=n,n.child=e}function ip(e,n,r,l,c){if(e!==null){var f=e.memoizedProps;if(dl(f,l)&&e.ref===n.ref)if(Ee=!1,n.pendingProps=l=f,mf(e,c))(e.flags&131072)!==0&&(Ee=!0);else return n.lanes=e.lanes,Oi(e,n,c)}return lf(e,n,r,l,c)}function rp(e,n,r,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return sp(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&lu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):zh(),og(n);else return l=n.lanes=536870912,sp(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(lu(n,f.cachePool),lg(n,f),vr(),n.memoizedState=null):(e!==null&&lu(n,null),zh(),vr());return Be(e,n,c,r),n.child}function Il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sp(e,n,r,l,c){var f=Dh();return f=f===null?null:{parent:_e._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&lu(n,null),zh(),og(n),e!==null&&aa(e,n,l,!0),n.childLanes=c,null}function Su(e,n){return n=wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ap(e,n,r){return As(n,e.child,null,r),e=Su(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function iT(e,n,r){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=Su(n,l),n.lanes=536870912,Il(null,e);if(kh(n),(e=ee)?(e=_y(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:hr!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},r=Hm(e),r.return=n,n.child=r,Pe=n,ee=null)):e=null,e===null)throw dr(n);return n.lanes=536870912,null}return Su(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(kh(n),c)if(n.flags&256)n.flags&=-257,n=ap(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ee||aa(e,n,r,!1),c=(r&e.childLanes)!==0,Ee||c){if(l=Jt,l!==null&&(p=Zi(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,ms(e,p),hn(l,e,p),af;Mu(),n=ap(e,n,r)}else e=f.treeContext,ee=On(p.nextSibling),Pe=n,Lt=!0,fr=null,Dn=!1,e!==null&&Qm(n,e),n=Su(n,l),n.flags|=4096;return n}return e=Ri(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function bu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function lf(e,n,r,l,c){return _s(n),r=jh(e,n,r,l,void 0,c),l=Bh(),e!==null&&!Ee?(qh(e,n,c),Oi(e,n,c)):(Lt&&l&&Th(n),n.flags|=1,Be(e,n,r,c),n.child)}function lp(e,n,r,l,c,f){return _s(n),n.updateQueue=null,r=cg(n,l,r,c),ug(e),l=Bh(),e!==null&&!Ee?(qh(e,n,f),Oi(e,n,f)):(Lt&&l&&Th(n),n.flags|=1,Be(e,n,r,f),n.child)}function op(e,n,r,l,c){if(_s(n),n.stateNode===null){var f=na,p=r.contextType;typeof p=="object"&&p!==null&&(f=je(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Oh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?je(p):na,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(nf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&rf.enqueueReplaceState(f,f.state,null),Sl(n,l,f,c),Al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=bs(r,E);f.props=C;var k=f.context,G=r.contextType;p=na,typeof G=="object"&&G!==null&&(p=je(G));var Z=r.getDerivedStateFromProps;G=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==p)&&Kg(n,f,l,p),gr=!1;var P=n.memoizedState;f.state=P,Sl(n,l,f,c),Al(),k=n.memoizedState,E||P!==k||gr?(typeof Z=="function"&&(nf(n,r,Z,l),k=n.memoizedState),(C=gr||Yg(n,r,C,l,P,k,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Vh(e,n),p=n.memoizedProps,G=bs(r,p),f.props=G,Z=n.pendingProps,P=f.context,k=r.contextType,C=na,typeof k=="object"&&k!==null&&(C=je(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Z||P!==C)&&Kg(n,f,l,C),gr=!1,P=n.memoizedState,f.state=P,Sl(n,l,f,c),Al();var q=n.memoizedState;p!==Z||P!==q||gr||e!==null&&e.dependencies!==null&&su(e.dependencies)?(typeof E=="function"&&(nf(n,r,E,l),q=n.memoizedState),(G=gr||Yg(n,r,G,l,P,q,C)||e!==null&&e.dependencies!==null&&su(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,bu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=As(n,e.child,null,c),n.child=As(n,null,r,c)):Be(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Oi(e,n,c),e}function up(e,n,r,l){return ps(),n.flags|=256,Be(e,n,r,l),n.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(e){return{baseLanes:e,cachePool:Jm()}}function cf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=En),e}function cp(e,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(c?_r(n):vr(),(e=ee)?(e=_y(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:hr!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},r=Hm(e),r.return=n,n.child=r,Pe=n,ee=null)):e=null,e===null)throw dr(n);return Qf(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(vr(),c=n.mode,E=wu({mode:"hidden",children:E},c),l=gs(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=uf(r),l.childLanes=cf(e,p,r),n.memoizedState=of,Il(null,l)):(_r(n),hf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(_r(n),n.flags&=-257,n=ff(e,n,r)):n.memoizedState!==null?(vr(),n.child=e.child,n.flags|=128,n=null):(vr(),E=l.fallback,c=n.mode,l=wu({mode:"visible",children:l.children},c),E=gs(E,c,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,As(n,e.child,null,r),l=n.child,l.memoizedState=uf(r),l.childLanes=cf(e,p,r),n.memoizedState=of,n=Il(null,l));else if(_r(n),Qf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var k=p.dgst;p=k,l=Error(s(419)),l.stack="",l.digest=p,pl({value:l,source:null,stack:null}),n=ff(e,n,r)}else if(Ee||aa(e,n,r,!1),p=(r&e.childLanes)!==0,Ee||p){if(p=Jt,p!==null&&(l=Zi(p,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,ms(e,l),hn(p,e,l),af;Gf(E)||Mu(),n=ff(e,n,r)}else Gf(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ee=On(E.nextSibling),Pe=n,Lt=!0,fr=null,Dn=!1,e!==null&&Qm(n,e),n=hf(n,l.children),n.flags|=4096);return n}return c?(vr(),E=l.fallback,c=n.mode,C=e.child,k=C.sibling,l=Ri(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,k!==null?E=Ri(k,E):(E=gs(E,c,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Il(null,l),l=n.child,E=e.child.memoizedState,E===null?E=uf(r):(c=E.cachePool,c!==null?(C=_e._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Jm(),E={baseLanes:E.baseLanes|r,cachePool:c}),l.memoizedState=E,l.childLanes=cf(e,p,r),n.memoizedState=of,Il(e.child,l)):(_r(n),r=e.child,e=r.sibling,r=Ri(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function hf(e,n){return n=wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function wu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function ff(e,n,r){return As(n,e.child,null,r),e=hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hp(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Rh(e.return,n,r)}function df(e,n,r,l,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=c,p.treeForkCount=f)}function fp(e,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(de,p),Be(e,n,l,r),l=Lt?gl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hp(e,r,n);else if(e.tag===19)hp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&du(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),df(n,!1,c,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&du(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}df(n,!0,r,null,f,l);break;case"together":df(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Oi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ar|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(aa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Ri(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ri(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&su(e)))}function rT(e,n,r){switch(n.tag){case 3:Ue(n,n.stateNode.containerInfo),mr(n,_e,e.memoizedState.cache),ps();break;case 27:case 5:Yn(n);break;case 4:Ue(n,n.stateNode.containerInfo);break;case 10:mr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,kh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(n),n.flags|=128,null):(r&n.child.childLanes)!==0?cp(e,n,r):(_r(n),e=Oi(e,n,r),e!==null?e.sibling:null);_r(n);break;case 19:var c=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(aa(e,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return fp(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(de,de.current),l)break;return null;case 22:return n.lanes=0,rp(e,n,r,n.pendingProps);case 24:mr(n,_e,e.memoizedState.cache)}return Oi(e,n,r)}function dp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ee=!0;else{if(!mf(e,r)&&(n.flags&128)===0)return Ee=!1,rT(e,n,r);Ee=(e.flags&131072)!==0}else Ee=!1,Lt&&(n.flags&1048576)!==0&&Gm(n,gl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Es(n.elementType),n.type=e,typeof e=="function")_h(e)?(l=bs(e,l),n.tag=1,n=op(null,n,e,l,r)):(n.tag=0,n=lf(null,n,e,l,r));else{if(e!=null){var c=e.$$typeof;if(c===lt){n.tag=11,n=ep(null,n,e,l,r);break t}else if(c===I){n.tag=14,n=np(null,n,e,l,r);break t}}throw n=se(e)||e,Error(s(306,n,""))}}return n;case 0:return lf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=bs(l,n.pendingProps),op(e,n,l,c,r);case 3:t:{if(Ue(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Vh(e,n),Sl(n,l,null,r);var p=n.memoizedState;if(l=p.cache,mr(n,_e,l),l!==f.cache&&Ch(n,[_e],r,!0),Al(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=up(e,n,l,r);break t}else if(l!==c){c=Cn(Error(s(424)),n),pl(c),n=up(e,n,l,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=On(e.firstChild),Pe=n,Lt=!0,fr=null,Dn=!0,r=rg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ps(),l===c){n=Oi(e,n,r);break t}Be(e,n,l,r)}n=n.child}return n;case 26:return bu(e,n),e===null?(r=by(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,e=n.pendingProps,l=Bu(wt.current).createElement(r),l[oe]=n,l[ke]=e,qe(l,r,e),fe(l),n.stateNode=l):n.memoizedState=by(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Yn(n),e===null&&Lt&&(l=n.stateNode=Ty(n.type,n.pendingProps,wt.current),Pe=n,Dn=!0,c=ee,Cr(n.type)?(Yf=c,ee=On(l.firstChild)):ee=c),Be(e,n,n.pendingProps.children,r),bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((c=l=ee)&&(l=MT(l,n.type,n.pendingProps,Dn),l!==null?(n.stateNode=l,Pe=n,ee=On(l.firstChild),Dn=!1,c=!0):c=!1),c||dr(n)),Yn(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,qf(c,f)?l=null:p!==null&&qf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=jh(e,n,XE,null,null,r),Hl._currentValue=c),bu(e,n),Be(e,n,l,r),n.child;case 6:return e===null&&Lt&&((e=r=ee)&&(r=UT(r,n.pendingProps,Dn),r!==null?(n.stateNode=r,Pe=n,ee=null,e=!0):e=!1),e||dr(n)),null;case 13:return cp(e,n,r);case 4:return Ue(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=As(n,null,l,r):Be(e,n,l,r),n.child;case 11:return ep(e,n,n.type,n.pendingProps,r);case 7:return Be(e,n,n.pendingProps,r),n.child;case 8:return Be(e,n,n.pendingProps.children,r),n.child;case 12:return Be(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,mr(n,n.type,l.value),Be(e,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,_s(n),c=je(c),l=l(c),n.flags|=1,Be(e,n,l,r),n.child;case 14:return np(e,n,n.type,n.pendingProps,r);case 15:return ip(e,n,n.type,n.pendingProps,r);case 19:return fp(e,n,r);case 31:return iT(e,n,r);case 22:return rp(e,n,r,n.pendingProps);case 24:return _s(n),l=je(_e),e===null?(c=Dh(),c===null&&(c=Jt,f=Ih(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Oh(n),mr(n,_e,c)):((e.lanes&r)!==0&&(Vh(e,n),Sl(n,null,null,r),Al()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),mr(n,_e,l)):(l=f.cache,mr(n,_e,l),l!==c.cache&&Ch(n,[_e],r,!0))),Be(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Vi(e){e.flags|=4}function gf(e,n,r,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(jp())e.flags|=8192;else throw Ts=uu,xh}else e.flags&=-16777217}function mp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ny(n))if(jp())e.flags|=8192;else throw Ts=uu,xh}function Ru(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xa():536870912,e.lanes|=n,_a|=n)}function Nl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function sT(e,n,r){var l=n.pendingProps;switch(Ah(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(_e),ae(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sa(n)?Vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bh())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Vi(n),f!==null?(ne(n),mp(n,f)):(ne(n),gf(n,c,null,l,r))):f?f!==e.memoizedState?(Vi(n),ne(n),mp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Vi(n),ne(n),gf(n,c,e,l,r)),null;case 27:if(mi(n),r=wt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=ut.current,sa(n)?Ym(n):(e=Ty(c,l,r),n.stateNode=e,Vi(n))}return ne(n),null;case 5:if(mi(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=ut.current,sa(n))Ym(n);else{var p=Bu(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[oe]=n,f[ke]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Vi(n)}}return ne(n),gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Vi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=wt.current,sa(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,c=Pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[oe]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||cy(e.nodeValue,r)),e||dr(n,!0)}else e=Bu(e).createTextNode(l),e[oe]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=sa(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[oe]=n}else ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=sa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[oe]=n}else ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ru(n,n.updateQueue),ne(n),null);case 4:return ae(),e===null&&Lf(n.stateNode.containerInfo),ne(n),null;case 10:return Ni(n.type),ne(n),null;case 19:if(Y(de),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Nl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=du(e),f!==null){for(n.flags|=128,Nl(l,!1),e=f.updateQueue,n.updateQueue=e,Ru(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)qm(r,e),r=r.sibling;return nt(de,de.current&1|2),Lt&&Ci(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&ze()>xu&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304)}else{if(!c)if(e=du(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Ru(n,e),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Lt)return ne(n),null}else 2*ze()-l.renderingStartTime>xu&&r!==536870912&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ze(),e.sibling=null,r=de.current,nt(de,c?r&1|2:r&1),Lt&&Ci(n,l.treeForkCount),e):(ne(n),null);case 22:case 23:return _n(n),Lh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Ru(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&Y(vs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ni(_e),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function aT(e,n){switch(Ah(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ni(_e),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return mi(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return ae(),null;case 10:return Ni(n.type),null;case 22:case 23:return _n(n),Lh(),e!==null&&Y(vs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ni(_e),null;case 25:return null;default:return null}}function gp(e,n){switch(Ah(n),n.tag){case 3:Ni(_e),ae();break;case 26:case 27:case 5:mi(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Y(de);break;case 10:Ni(n.type);break;case 22:case 23:_n(n),Lh(),e!==null&&Y(vs);break;case 24:Ni(_e)}}function Dl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Er(e,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var C=r,k=E;try{k()}catch(G){Kt(c,C,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function pp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{ag(n,r)}catch(l){Kt(e,e.return,l)}}}function yp(e,n,r){r.props=bs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(e,n,l)}}function xl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){Kt(e,n,c)}}function ri(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(e,n,c)}else r.current=null}function _p(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(e,e.return,c)}}function pf(e,n,r){try{var l=e.stateNode;IT(l,e.type,r,n),l[ke]=n}catch(c){Kt(e,e.return,c)}}function vp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Cr(e.type)||e.tag===4}function yf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Cr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _f(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ne));else if(l!==4&&(l===27&&Cr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(_f(e,n,r),e=e.sibling;e!==null;)_f(e,n,r),e=e.sibling}function Cu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Cr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Cu(e,n,r),e=e.sibling;e!==null;)Cu(e,n,r),e=e.sibling}function Ep(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,r),n[oe]=e,n[ke]=r}catch(f){Kt(e,e.return,f)}}var Mi=!1,Te=!1,vf=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function lT(e,n){if(e=e.containerInfo,jf=Ku,e=Vm(e),hh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,C=-1,k=0,G=0,Z=e,P=null;e:for(;;){for(var q;Z!==r||c!==0&&Z.nodeType!==3||(E=p+c),Z!==f||l!==0&&Z.nodeType!==3||(C=p+l),Z.nodeType===3&&(p+=Z.nodeValue.length),(q=Z.firstChild)!==null;)P=Z,Z=q;for(;;){if(Z===e)break e;if(P===r&&++k===c&&(E=p),P===f&&++G===l&&(C=p),(q=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=q}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bf={focusedElem:e,selectionRange:r},Ku=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ot=bs(r.type,c);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Kt(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Ff(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function Ap(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:zi(e,r),l&4&&Dl(5,r);break;case 1:if(zi(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Kt(r,r.return,p)}else{var c=bs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(r,r.return,p)}}l&64&&pp(r),l&512&&xl(r,r.return);break;case 3:if(zi(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ag(e,n)}catch(p){Kt(r,r.return,p)}}break;case 27:n===null&&l&4&&Ep(r);case 26:case 5:zi(e,r),n===null&&l&4&&_p(r),l&512&&xl(r,r.return);break;case 12:zi(e,r);break;case 31:zi(e,r),l&4&&wp(e,r);break;case 13:zi(e,r),l&4&&Rp(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=pT.bind(null,r),zT(e,r))));break;case 22:if(l=r.memoizedState!==null||Mi,!l){n=n!==null&&n.memoizedState!==null||Te,c=Mi;var f=Te;Mi=l,(Te=n)&&!f?Li(e,r,(r.subtreeFlags&8772)!==0):zi(e,r),Mi=c,Te=f}break;case 30:break;default:zi(e,r)}}function Sp(e){var n=e.alternate;n!==null&&(e.alternate=null,Sp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ns(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,ln=!1;function Ui(e,n,r){for(r=r.child;r!==null;)bp(e,n,r),r=r.sibling}function bp(e,n,r){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Gi,r)}catch{}switch(r.tag){case 26:Te||ri(r,n),Ui(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Te||ri(r,n);var l=re,c=ln;Cr(r.type)&&(re=r.stateNode,ln=!1),Ui(e,n,r),jl(r.stateNode),re=l,ln=c;break;case 5:Te||ri(r,n);case 6:if(l=re,c=ln,re=null,Ui(e,n,r),re=l,ln=c,re!==null)if(ln)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{re.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:re!==null&&(ln?(e=re,py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ra(e)):py(re,r.stateNode));break;case 4:l=re,c=ln,re=r.stateNode.containerInfo,ln=!0,Ui(e,n,r),re=l,ln=c;break;case 0:case 11:case 14:case 15:Er(2,r,n),Te||Er(4,r,n),Ui(e,n,r);break;case 1:Te||(ri(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&yp(r,n,l)),Ui(e,n,r);break;case 21:Ui(e,n,r);break;case 22:Te=(l=Te)||r.memoizedState!==null,Ui(e,n,r),Te=l;break;default:Ui(e,n,r)}}function wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ra(e)}catch(r){Kt(n,n.return,r)}}}function Rp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ra(e)}catch(r){Kt(n,n.return,r)}}function oT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Tp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Tp),n;default:throw Error(s(435,e.tag))}}function Iu(e,n){var r=oT(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var c=yT.bind(null,e,l);l.then(c,c)}})}function on(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Cr(E.type)){re=E.stateNode,ln=!1;break t}break;case 5:re=E.stateNode,ln=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(re===null)throw Error(s(160));bp(f,p,c),re=null,ln=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cp(n,e),n=n.sibling}var Bn=null;function Cp(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),un(e),l&4&&(Er(3,e,e.return),Dl(3,e),Er(5,e,e.return));break;case 1:on(n,e),un(e),l&512&&(Te||r===null||ri(r,r.return)),l&64&&Mi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Bn;if(on(n,e),un(e),l&512&&(Te||r===null||ri(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[_i]||f[oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,r),f[oe]=e,fe(f),l=f;break t;case"link":var p=Cy("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),qe(f,l,r),c.head.appendChild(f);break;case"meta":if(p=Cy("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(l),qe(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[oe]=e,fe(f),l=f}e.stateNode=l}else Iy(c,e.type,e.stateNode);else e.stateNode=Ry(c,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Iy(c,e.type,e.stateNode):Ry(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pf(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),un(e),l&512&&(Te||r===null||ri(r,r.return)),r!==null&&l&4&&pf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),un(e),l&512&&(Te||r===null||ri(r,r.return)),e.flags&32){c=e.stateNode;try{wn(c,"")}catch(ot){Kt(e,e.return,ot)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,pf(e,c,r!==null?r.memoizedProps:c)),l&1024&&(vf=!0);break;case 6:if(on(n,e),un(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ot){Kt(e,e.return,ot)}}break;case 3:if(Fu=null,c=Bn,Bn=qu(n.containerInfo),on(n,e),Bn=c,un(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ra(n.containerInfo)}catch(ot){Kt(e,e.return,ot)}vf&&(vf=!1,Ip(e));break;case 4:l=Bn,Bn=qu(e.stateNode.containerInfo),on(n,e),un(e),Bn=l;break;case 12:on(n,e),un(e);break;case 31:on(n,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Iu(e,l)));break;case 13:on(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Du=ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Iu(e,l)));break;case 22:c=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,k=Mi,G=Te;if(Mi=k||c,Te=G||C,on(n,e),Te=G,Mi=k,un(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||C||Mi||Te||ws(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var Z=C.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ot){Kt(C,C.return,ot)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(ot){Kt(C,C.return,ot)}}}else if(n.tag===18){if(r===null){C=n;try{var q=C.stateNode;c?yy(q,!0):yy(C.stateNode,!1)}catch(ot){Kt(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Iu(e,r))));break;case 19:on(n,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Iu(e,l)));break;case 30:break;case 21:break;default:on(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(vp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=yf(e);Cu(e,f,c);break;case 5:var p=r.stateNode;r.flags&32&&(wn(p,""),r.flags&=-33);var E=yf(e);Cu(e,E,p);break;case 3:case 4:var C=r.stateNode.containerInfo,k=yf(e);_f(e,k,C);break;default:throw Error(s(161))}}catch(G){Kt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ip(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ip(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function zi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ap(e,n.alternate,n),n=n.sibling}function ws(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Er(4,n,n.return),ws(n);break;case 1:ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&yp(n,n.return,r),ws(n);break;case 27:jl(n.stateNode);case 26:case 5:ri(n,n.return),ws(n);break;case 22:n.memoizedState===null&&ws(n);break;case 30:ws(n);break;default:ws(n)}e=e.sibling}}function Li(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Li(c,f,r),Dl(4,f);break;case 1:if(Li(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Kt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)sg(C[c],E)}catch(k){Kt(l,l.return,k)}}r&&p&64&&pp(f),xl(f,f.return);break;case 27:Ep(f);case 26:case 5:Li(c,f,r),r&&l===null&&p&4&&_p(f),xl(f,f.return);break;case 12:Li(c,f,r);break;case 31:Li(c,f,r),r&&p&4&&wp(c,f);break;case 13:Li(c,f,r),r&&p&4&&Rp(c,f);break;case 22:f.memoizedState===null&&Li(c,f,r),xl(f,f.return);break;case 30:break;default:Li(c,f,r)}n=n.sibling}}function Ef(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&yl(r))}function Tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yl(e))}function qn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Np(e,n,r,l),n=n.sibling}function Np(e,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:qn(e,n,r,l),c&2048&&Dl(9,n);break;case 1:qn(e,n,r,l);break;case 3:qn(e,n,r,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yl(e)));break;case 12:if(c&2048){qn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Kt(n,n.return,C)}}else qn(e,n,r,l);break;case 31:qn(e,n,r,l);break;case 13:qn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?qn(e,n,r,l):Ol(e,n):f._visibility&2?qn(e,n,r,l):(f._visibility|=2,ga(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Ef(p,n);break;case 24:qn(e,n,r,l),c&2048&&Tf(n.alternate,n);break;default:qn(e,n,r,l)}}function ga(e,n,r,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,C=l,k=p.flags;switch(p.tag){case 0:case 11:case 15:ga(f,p,E,C,c),Dl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?ga(f,p,E,C,c):Ol(f,p):(G._visibility|=2,ga(f,p,E,C,c)),c&&k&2048&&Ef(p.alternate,p);break;case 24:ga(f,p,E,C,c),c&&k&2048&&Tf(p.alternate,p);break;default:ga(f,p,E,C,c)}n=n.sibling}}function Ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,c=l.flags;switch(l.tag){case 22:Ol(r,l),c&2048&&Ef(l.alternate,l);break;case 24:Ol(r,l),c&2048&&Tf(l.alternate,l);break;default:Ol(r,l)}n=n.sibling}}var Vl=8192;function pa(e,n,r){if(e.subtreeFlags&Vl)for(e=e.child;e!==null;)Dp(e,n,r),e=e.sibling}function Dp(e,n,r){switch(e.tag){case 26:pa(e,n,r),e.flags&Vl&&e.memoizedState!==null&&KT(r,Bn,e.memoizedState,e.memoizedProps);break;case 5:pa(e,n,r);break;case 3:case 4:var l=Bn;Bn=qu(e.stateNode.containerInfo),pa(e,n,r),Bn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,pa(e,n,r),Vl=l):pa(e,n,r));break;default:pa(e,n,r)}}function xp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ml(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,Vp(l,e)}xp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Op(e),e=e.sibling}function Op(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&Er(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Nu(e)):Ml(e);break;default:Ml(e)}}function Nu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,Vp(l,e)}xp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Er(8,n,n.return),Nu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Nu(n));break;default:Nu(n)}e=e.sibling}}function Vp(e,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:Er(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=e;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(Sp(l),l===r){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var uT={getCacheForType:function(e){var n=je(_e),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return je(_e).controller.signal}},cT=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Nt=null,xt=0,Yt=0,vn=null,Tr=!1,ya=!1,Af=!1,ki=0,he=0,Ar=0,Rs=0,Sf=0,En=0,_a=0,Ul=null,cn=null,bf=!1,Du=0,Mp=0,xu=1/0,Ou=null,Sr=null,we=0,br=null,va=null,Pi=0,wf=0,Rf=null,Up=null,zl=0,Cf=null;function Tn(){return(Ht&2)!==0&&xt!==0?xt&-xt:B.T!==null?Vf():yi()}function zp(){if(En===0)if((xt&536870912)===0||Lt){var e=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function hn(e,n,r){(e===Jt&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ea(e,0),wr(e,xt,En,!1)),Ki(e,r),((Ht&2)===0||e!==Jt)&&(e===Jt&&((Ht&2)===0&&(Rs|=r),he===4&&wr(e,xt,En,!1)),si(e))}function Lp(e,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Yi(e,n),c=l?dT(e,n):Nf(e,n,!0),f=l;do{if(c===0){ya&&!l&&wr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!hT(r)){c=Nf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;c=Ul;var C=E.current.memoizedState.isDehydrated;if(C&&(Ea(E,p).flags|=256),p=Nf(E,p,!1),p!==2){if(Af&&!C){E.errorRecoveryDisabledLanes|=f,Rs|=f,c=4;break t}f=cn,cn=c,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Ea(e,0),wr(e,n,0,!0);break}t:{switch(l=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:wr(l,n,En,!Tr);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Du+300-ze(),10<c)){if(wr(l,n,En,!Tr),Sn(l,0,!0)!==0)break t;Pi=n,l.timeoutHandle=my(kp.bind(null,l,r,cn,Ou,bf,n,En,Rs,_a,Tr,f,"Throttled",-0,0),c);break t}kp(l,r,cn,Ou,bf,n,En,Rs,_a,Tr,f,null,-0,0)}}break}while(!0);si(e)}function kp(e,n,r,l,c,f,p,E,C,k,G,Z,P,q){if(e.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ne},Dp(n,f,Z);var ot=(f&62914560)===f?Du-ze():(f&4194048)===f?Mp-ze():0;if(ot=XT(Z,ot),ot!==null){Pi=f,e.cancelPendingCommit=ot(Qp.bind(null,e,n,f,r,l,c,p,E,C,G,Z,null,P,q)),wr(e,f,p,!k);return}}Qp(e,n,f,r,l,c,p,E,C)}function hT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!gn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function wr(e,n,r,l){n&=~Sf,n&=~Rs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-Je(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&Za(e,r,n)}function Vu(){return(Ht&6)===0?(Ll(0),!1):!0}function If(){if(Nt!==null){if(Yt===0)var e=Nt.return;else e=Nt,Ii=ys=null,Hh(e),ca=null,vl=0,e=Nt;for(;e!==null;)gp(e.alternate,e),e=e.return;Nt=null}}function Ea(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,xT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Pi=0,If(),Jt=e,Nt=r=Ri(e.current,null),xt=n,Yt=0,vn=null,Tr=!1,ya=Yi(e,n),Af=!1,_a=En=Sf=Rs=Ar=he=0,cn=Ul=null,bf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Je(l),f=1<<c;n|=e[c],l&=~f}return ki=n,tu(),r}function Pp(e,n){St=null,B.H=Cl,n===ua||n===ou?(n=eg(),Yt=3):n===xh?(n=eg(),Yt=4):Yt=n===af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Nt===null&&(he=1,Au(e,Cn(n,e.current)))}function jp(){var e=yn.current;return e===null?!0:(xt&4194048)===xt?xn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===xn:!1}function Bp(){var e=B.H;return B.H=Cl,e===null?Cl:e}function qp(){var e=B.A;return B.A=uT,e}function Mu(){he=4,Tr||(xt&4194048)!==xt&&yn.current!==null||(ya=!0),(Ar&134217727)===0&&(Rs&134217727)===0||Jt===null||wr(Jt,xt,En,!1)}function Nf(e,n,r){var l=Ht;Ht|=2;var c=Bp(),f=qp();(Jt!==e||xt!==n)&&(Ou=null,Ea(e,n)),n=!1;var p=he;t:do try{if(Yt!==0&&Nt!==null){var E=Nt,C=vn;switch(Yt){case 8:If(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var k=Yt;if(Yt=0,vn=null,Ta(e,E,C,k),r&&ya){p=0;break t}break;default:k=Yt,Yt=0,vn=null,Ta(e,E,C,k)}}fT(),p=he;break}catch(G){Pp(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ii=ys=null,Ht=l,B.H=c,B.A=f,Nt===null&&(Jt=null,xt=0,tu()),p}function fT(){for(;Nt!==null;)Hp(Nt)}function dT(e,n){var r=Ht;Ht|=2;var l=Bp(),c=qp();Jt!==e||xt!==n?(Ou=null,xu=ze()+500,Ea(e,n)):ya=Yi(e,n);t:do try{if(Yt!==0&&Nt!==null){n=Nt;var f=vn;e:switch(Yt){case 1:Yt=0,vn=null,Ta(e,n,f,1);break;case 2:case 9:if(Wm(f)){Yt=0,vn=null,Fp(n);break}n=function(){Yt!==2&&Yt!==9||Jt!==e||(Yt=7),si(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Wm(f)?(Yt=0,vn=null,Fp(n)):(Yt=0,vn=null,Ta(e,n,f,7));break;case 5:var p=null;switch(Nt.tag){case 26:p=Nt.memoizedState;case 5:case 27:var E=Nt;if(p?Ny(p):E.stateNode.complete){Yt=0,vn=null;var C=E.sibling;if(C!==null)Nt=C;else{var k=E.return;k!==null?(Nt=k,Uu(k)):Nt=null}break e}}Yt=0,vn=null,Ta(e,n,f,5);break;case 6:Yt=0,vn=null,Ta(e,n,f,6);break;case 8:If(),he=6;break t;default:throw Error(s(462))}}mT();break}catch(G){Pp(e,G)}while(!0);return Ii=ys=null,B.H=l,B.A=c,Ht=r,Nt!==null?0:(Jt=null,xt=0,tu(),he)}function mT(){for(;Nt!==null&&!th();)Hp(Nt)}function Hp(e){var n=dp(e.alternate,e,ki);e.memoizedProps=e.pendingProps,n===null?Uu(e):Nt=n}function Fp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=lp(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=lp(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Hh(n);default:gp(r,n),n=Nt=qm(n,ki),n=dp(r,n,ki)}e.memoizedProps=e.pendingProps,n===null?Uu(e):Nt=n}function Ta(e,n,r,l){Ii=ys=null,Hh(n),ca=null,vl=0;var c=n.return;try{if(nT(e,c,n,r,xt)){he=1,Au(e,Cn(r,e.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;he=1,Au(e,Cn(r,e.current)),Nt=null;return}n.flags&32768?(Lt||l===1?e=!0:ya||(xt&536870912)!==0?e=!1:(Tr=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gp(n,e)):Uu(n)}function Uu(e){var n=e;do{if((n.flags&32768)!==0){Gp(n,Tr);return}e=n.return;var r=sT(n.alternate,n,ki);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);he===0&&(he=5)}function Gp(e,n){do{var r=aT(e.alternate,e);if(r!==null){r.flags&=32767,Nt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=r}while(e!==null);he=6,Nt=null}function Qp(e,n,r,l,c,f,p,E,C){e.cancelPendingCommit=null;do zu();while(we!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=ph,Le(e,r,f,p,E,C),e===Jt&&(Nt=Jt=null,xt=0),va=n,br=e,Pi=r,wf=f,Rf=c,Up=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_T(gi,function(){return $p(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,c=et.p,et.p=2,p=Ht,Ht|=4;try{lT(e,n,r)}finally{Ht=p,et.p=c,B.T=l}}we=1,Yp(),Kp(),Xp()}}function Yp(){if(we===1){we=0;var e=br,n=va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Cp(n,e);var f=Bf,p=Vm(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Om(E.ownerDocument.documentElement,E)){if(C!==null&&hh(E)){var k=C.start,G=C.end;if(G===void 0&&(G=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(G,E.value.length);else{var Z=E.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var q=P.getSelection(),ot=E.textContent.length,gt=Math.min(C.start,ot),$t=C.end===void 0?gt:Math.min(C.end,ot);!q.extend&&gt>$t&&(p=$t,$t=gt,gt=p);var M=xm(E,gt),x=xm(E,$t);if(M&&x&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var L=Z.createRange();L.setStart(M.node,M.offset),q.removeAllRanges(),gt>$t?(q.addRange(L),q.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),q.addRange(L))}}}}for(Z=[],q=E;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ku=!!jf,Bf=jf=null}finally{Ht=c,et.p=l,B.T=r}}e.current=n,we=2}}function Kp(){if(we===2){we=0;var e=br,n=va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Ap(e,n.alternate,n)}finally{Ht=c,et.p=l,B.T=r}}we=3}}function Xp(){if(we===4||we===3){we=0,Qa();var e=br,n=va,r=Pi,l=Up;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?we=5:(we=0,va=br=null,Zp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Sr=null),Ja(r),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Gi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=B.T,c=et.p,et.p=2,B.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{B.T=n,et.p=c}}(Pi&3)!==0&&zu(),si(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Cf?zl++:(zl=0,Cf=e):zl=0,Ll(0)}}function Zp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,yl(n)))}function zu(){return Yp(),Kp(),Xp(),$p()}function $p(){if(we!==5)return!1;var e=br,n=wf;wf=0;var r=Ja(Pi),l=B.T,c=et.p;try{et.p=32>r?32:r,B.T=null,r=Rf,Rf=null;var f=br,p=Pi;if(we=0,va=br=null,Pi=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Op(f.current),Np(f,f.current,p,r),Ht=E,Ll(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Gi,f)}catch{}return!0}finally{et.p=c,B.T=l,Zp(e,n)}}function Jp(e,n,r){n=Cn(r,n),n=sf(e.stateNode,n,2),e=yr(e,n,2),e!==null&&(Ki(e,2),si(e))}function Kt(e,n,r){if(e.tag===3)Jp(e,e,r);else for(;n!==null;){if(n.tag===3){Jp(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sr===null||!Sr.has(l))){e=Cn(r,e),r=Wg(2),l=yr(n,r,2),l!==null&&(tp(r,l,n,e),Ki(l,2),si(l));break}}n=n.return}}function Df(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new cT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Af=!0,c.add(r),e=gT.bind(null,e,n,r),n.then(e,e))}function gT(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(xt&r)===r&&(he===4||he===3&&(xt&62914560)===xt&&300>ze()-Du?(Ht&2)===0&&Ea(e,0):Sf|=r,_a===xt&&(_a=0)),si(e)}function Wp(e,n){n===0&&(n=Xa()),e=ms(e,n),e!==null&&(Ki(e,n),si(e))}function pT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Wp(e,r)}function yT(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Wp(e,r)}function _T(e,n){return Wr(e,n)}var Lu=null,Aa=null,xf=!1,ku=!1,Of=!1,Rr=0;function si(e){e!==Aa&&e.next===null&&(Aa===null?Lu=Aa=e:Aa=Aa.next=e),ku=!0,xf||(xf=!0,ET())}function Ll(e,n){if(!Of&&ku){Of=!0;do for(var r=!1,l=Lu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Je(42|e)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,iy(l,f))}else f=xt,f=Sn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Yi(l,f)||(r=!0,iy(l,f));l=l.next}while(r);Of=!1}}function vT(){ty()}function ty(){ku=xf=!1;var e=0;Rr!==0&&DT()&&(e=Rr);for(var n=ze(),r=null,l=Lu;l!==null;){var c=l.next,f=ey(l,n);f===0?(l.next=null,r===null?Lu=c:r.next=c,c===null&&(Aa=r)):(r=l,(e!==0||(f&3)!==0)&&(ku=!0)),l=c}we!==0&&we!==5||Ll(e),Rr!==0&&(Rr=0)}function ey(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Je(f),E=1<<p,C=c[p];C===-1?((E&r)===0||(E&l)!==0)&&(c[p]=qs(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=xt,r=Sn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Bs(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Yi(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Bs(l),Ja(r)){case 2:case 8:r=Ie;break;case 32:r=gi;break;case 268435456:r=Ya;break;default:r=gi}return l=ny.bind(null,e),r=Wr(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Bs(l),e.callbackPriority=2,e.callbackNode=null,2}function ny(e,n){if(we!==0&&we!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(zu()&&e.callbackNode!==r)return null;var l=xt;return l=Sn(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Lp(e,l,n),ey(e,ze()),e.callbackNode!=null&&e.callbackNode===r?ny.bind(null,e):null)}function iy(e,n){if(zu())return null;Lp(e,n,!0)}function ET(){OT(function(){(Ht&6)!==0?Wr(be,vT):ty()})}function Vf(){if(Rr===0){var e=la;e===0&&(e=es,es<<=1,(es&261888)===0&&(es=256)),Rr=e}return Rr}function ry(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wn(""+e)}function sy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function TT(e,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=ry((c[ke]||null).action),p=l.submitter;p&&(n=(n=p[ke]||null)?ry(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new ls("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rr!==0){var C=p?sy(c,p):new FormData(c);Jh(r,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?sy(c,p):new FormData(c),Jh(r,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var Mf=0;Mf<gh.length;Mf++){var Uf=gh[Mf],AT=Uf.toLowerCase(),ST=Uf[0].toUpperCase()+Uf.slice(1);jn(AT,"on"+ST)}jn(zm,"onAnimationEnd"),jn(Lm,"onAnimationIteration"),jn(km,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(PE,"onTransitionRun"),jn(jE,"onTransitionStart"),jn(BE,"onTransitionCancel"),jn(Pm,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function ay(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],C=E.instance,k=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){Wo(G)}c.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(E=l[p],C=E.instance,k=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(G){Wo(G)}c.currentTarget=null,f=C}}}}function Dt(e,n){var r=n[$i];r===void 0&&(r=n[$i]=new Set);var l=e+"__bubble";r.has(l)||(ly(n,e,2,!1),r.add(l))}function zf(e,n,r){var l=0;n&&(l|=4),ly(r,e,l,n)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Lf(e){if(!e[Pu]){e[Pu]=!0,Hs.forEach(function(r){r!=="selectionchange"&&(bT.has(r)||zf(r,!1,e),zf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Pu]||(n[Pu]=!0,zf("selectionchange",!1,n))}}function ly(e,n,r,l){switch(zy(n)){case 2:var c=JT;break;case 8:c=WT;break;default:c=Jf}r=c.bind(null,n,r,e),c=void 0,!al||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function kf(e,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=vi(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue t}E=E.parentNode}}l=l.return}Lo(function(){var k=f,G=Ks(r),Z=[];t:{var P=jm.get(e);if(P!==void 0){var q=ls,ot=e;switch(e){case"keypress":if(as(r)===0)break t;case"keydown":case"keyup":q=Qo;break;case"focusin":ot="focus",q=lr;break;case"focusout":ot="blur",q=lr;break;case"beforeblur":case"afterblur":q=lr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ko;break;case zm:case Lm:case km:q=$s;break;case Pm:q=Js;break;case"scroll":case"scrollend":q=ko;break;case"wheel":q=Zo;break;case"copy":case"cut":case"paste":q=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=hl;break;case"toggle":case"beforetoggle":q=ur}var gt=(n&4)!==0,$t=!gt&&(e==="scroll"||e==="scrollend"),M=gt?P!==null?P+"Capture":null:P;gt=[];for(var x=k,L;x!==null;){var X=x;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||M===null||(X=sn(x,M),X!=null&&gt.push(Pl(x,X,L))),$t)break;x=x.return}0<gt.length&&(P=new q(P,ot,null,r,G),Z.push({event:P,listeners:gt}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",P&&r!==Ys&&(ot=r.relatedTarget||r.fromElement)&&(vi(ot)||ot[Zn]))break t;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(ot=r.relatedTarget||r.toElement,q=k,ot=ot?vi(ot):null,ot!==null&&($t=h(ot),gt=ot.tag,ot!==$t||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(q=null,ot=k),q!==ot)){if(gt=Po,X="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(gt=hl,X="onPointerLeave",M="onPointerEnter",x="pointer"),$t=q==null?P:is(q),L=ot==null?P:is(ot),P=new gt(X,x+"leave",q,r,G),P.target=$t,P.relatedTarget=L,X=null,vi(G)===k&&(gt=new gt(M,x+"enter",ot,r,G),gt.target=L,gt.relatedTarget=$t,X=gt),$t=X,q&&ot)e:{for(gt=wT,M=q,x=ot,L=0,X=M;X;X=gt(X))L++;X=0;for(var dt=x;dt;dt=gt(dt))X++;for(;0<L-X;)M=gt(M),L--;for(;0<X-L;)x=gt(x),X--;for(;L--;){if(M===x||x!==null&&M===x.alternate){gt=M;break e}M=gt(M),x=gt(x)}gt=null}else gt=null;q!==null&&oy(Z,P,q,gt,!1),ot!==null&&$t!==null&&oy(Z,$t,ot,gt,!0)}}t:{if(P=k?is(k):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var Bt=wm;else if(an(P))if(Rm)Bt=zE;else{Bt=ME;var ht=VE}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?k&&rl(k.elementType)&&(Bt=wm):Bt=UE;if(Bt&&(Bt=Bt(e,k))){hs(Z,Bt,r,G);break t}ht&&ht(e,P,k),e==="focusout"&&k&&P.type==="number"&&k.memoizedProps.value!=null&&Qs(P,"number",P.value)}switch(ht=k?is(k):window,e){case"focusin":(an(ht)||ht.contentEditable==="true")&&(Ws=ht,fh=k,ml=null);break;case"focusout":ml=fh=Ws=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Mm(Z,r,G);break;case"selectionchange":if(kE)break;case"keydown":case"keyup":Mm(Z,r,G)}var bt;if(m)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Rt?Gt(e,r)&&(Ot="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ot="onCompositionStart");Ot&&(z&&r.locale!=="ko"&&(Rt||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Rt&&(bt=ir()):(mn=G,Xs="value"in mn?mn.value:mn.textContent,Rt=!0)),ht=ju(k,Ot),0<ht.length&&(Ot=new ol(Ot,e,null,r,G),Z.push({event:Ot,listeners:ht}),bt?Ot.data=bt:(bt=ye(r),bt!==null&&(Ot.data=bt)))),(bt=T?De(e,r):xe(e,r))&&(Ot=ju(k,"onBeforeInput"),0<Ot.length&&(ht=new ol("onBeforeInput","beforeinput",null,r,G),Z.push({event:ht,listeners:Ot}),ht.data=bt)),TT(Z,e,k,r,G)}ay(Z,n)})}function Pl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ju(e,n){for(var r=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=sn(e,r),c!=null&&l.unshift(Pl(e,c,f)),c=sn(e,n),c!=null&&l.push(Pl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function wT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function oy(e,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,C=E.alternate,k=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||k===null||(C=k,c?(k=sn(r,f),k!=null&&p.unshift(Pl(r,k,C))):c||(k=sn(r,f),k!=null&&p.push(Pl(r,k,C)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var RT=/\r\n?/g,CT=/\u0000|\uFFFD/g;function uy(e){return(typeof e=="string"?e:""+e).replace(RT,`
`).replace(CT,"")}function cy(e,n){return n=uy(n),uy(e)===n}function Zt(e,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wn(e,""+l);break;case"className":tr(e,"class",l);break;case"tabIndex":tr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(e,r,l);break;case"style":Uo(e,l,f);break;case"data":if(n!=="object"){tr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Wn(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",c.name,c,null),Zt(e,n,"formEncType",c.formEncType,c,null),Zt(e,n,"formMethod",c.formMethod,c,null),Zt(e,n,"formTarget",c.formTarget,c,null)):(Zt(e,n,"encType",c.encType,c,null),Zt(e,n,"method",c.method,c,null),Zt(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Wn(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Ne);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Wn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Wi(e,"popover",l);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ah.get(r)||r,Wi(e,r,l))}}function Pf(e,n,r,l,c,f){switch(r){case"style":Uo(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?wn(e,l):(typeof l=="number"||typeof l=="bigint")&&wn(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ne);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[ke]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,c);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Wi(e,r,l)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,f,p,r,null)}}c&&Zt(e,n,"srcSet",r.srcSet,r,null),l&&Zt(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var E=f=p=c=null,C=null,k=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":p=G;break;case"checked":C=G;break;case"defaultChecked":k=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Zt(e,n,l,G,r,null)}}rs(e,f,E,C,k,p,c,!1);return;case"select":Dt("invalid",e),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Zt(e,n,c,E,r,null)}n=f,r=p,e.multiple=!!l,n!=null?jt(e,!!l,n,!1):r!=null&&jt(e,!!l,r,!0);return;case"textarea":Dt("invalid",e),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,n,p,E,r,null)}nr(e,l,c,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,n,C,l,r,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<kl.length;l++)Dt(kl[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(l=r[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,k,l,r,null)}return;default:if(rl(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&Pf(e,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Zt(e,n,E,l,r,null))}function IT(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,C=null,k=null,G=null;for(q in r){var Z=r[q];if(r.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(q)||Zt(e,n,q,null,l,Z)}}for(var P in l){var q=l[P];if(Z=r[P],l.hasOwnProperty(P)&&(q!=null||Z!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":k=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Z&&Zt(e,n,P,q,l,Z)}}er(e,p,E,C,k,G,f,c);return;case"select":q=p=E=P=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||Zt(e,n,f,null,l,C)}for(c in l)if(f=l[c],C=r[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&Zt(e,n,c,f,l,C)}n=E,r=p,l=q,P!=null?jt(e,!!r,P,!1):!!l!=!!r&&(n!=null?jt(e,!!r,n,!0):jt(e,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Zt(e,n,p,c,l,f)}ss(e,P,q);return;case"option":for(var ot in r)if(P=r[ot],r.hasOwnProperty(ot)&&P!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Zt(e,n,ot,null,l,P)}for(C in l)if(P=l[C],q=r[C],l.hasOwnProperty(C)&&P!==q&&(P!=null||q!=null))switch(C){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Zt(e,n,C,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)P=r[gt],r.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt)&&Zt(e,n,gt,null,l,P);for(k in l)if(P=l[k],q=r[k],l.hasOwnProperty(k)&&P!==q&&(P!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Zt(e,n,k,P,l,q)}return;default:if(rl(n)){for(var $t in r)P=r[$t],r.hasOwnProperty($t)&&P!==void 0&&!l.hasOwnProperty($t)&&Pf(e,n,$t,void 0,l,P);for(G in l)P=l[G],q=r[G],!l.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||Pf(e,n,G,P,l,q);return}}for(var M in r)P=r[M],r.hasOwnProperty(M)&&P!=null&&!l.hasOwnProperty(M)&&Zt(e,n,M,null,l,P);for(Z in l)P=l[Z],q=r[Z],!l.hasOwnProperty(Z)||P===q||P==null&&q==null||Zt(e,n,Z,P,l,q)}function hy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],f=c.transferSize,p=c.initiatorType,E=c.duration;if(f&&E&&hy(p)){for(p=0,E=c.responseEnd,l+=1;l<r.length;l++){var C=r[l],k=C.startTime;if(k>E)break;var G=C.transferSize,Z=C.initiatorType;G&&hy(Z)&&(C=C.responseEnd,p+=G*(C<E?1:(E-k)/(C-k)))}if(--l,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jf=null,Bf=null;function Bu(e){return e.nodeType===9?e:e.ownerDocument}function fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hf=null;function DT(){var e=window.event;return e&&e.type==="popstate"?e===Hf?!1:(Hf=e,!0):(Hf=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,OT=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(e){return gy.resolve(null).then(e).catch(VT)}:my;function VT(e){setTimeout(function(){throw e})}function Cr(e){return e==="head"}function py(e,n){var r=n,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(c),Ra(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")jl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,jl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&jl(e.ownerDocument.body);r=c}while(r);Ra(n)}function yy(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Ff(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ff(r),ns(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function MT(e,n,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function UT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function _y(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function Gf(e){return e.data==="$?"||e.data==="$~"}function Qf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zT(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Yf=null;function vy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Ey(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Ty(e,n,r){switch(n=Bu(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function jl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ns(e)}var Vn=new Map,Ay=new Set;function qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=et.d;et.d={f:LT,r:kT,D:PT,C:jT,L:BT,m:qT,X:FT,S:HT,M:GT};function LT(){var e=ji.f(),n=Vu();return e||n}function kT(e){var n=Ei(e);n!==null&&n.tag===5&&n.type==="form"?Pg(n):ji.r(e)}var Sa=typeof document>"u"?null:document;function Sy(e,n,r){var l=Sa;if(l&&typeof n=="string"&&n){var c=ue(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Ay.has(c)||(Ay.add(c),e={rel:e,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",e),fe(n),l.head.appendChild(n)))}}function PT(e){ji.D(e),Sy("dns-prefetch",e,null)}function jT(e,n){ji.C(e,n),Sy("preconnect",e,n)}function BT(e,n,r){ji.L(e,n,r);var l=Sa;if(l&&e&&n){var c='link[rel="preload"][as="'+ue(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ue(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ue(r.imageSizes)+'"]')):c+='[href="'+ue(e)+'"]';var f=c;switch(n){case"style":f=ba(e);break;case"script":f=wa(e)}Vn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Vn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Bl(f))||n==="script"&&l.querySelector(ql(f))||(n=l.createElement("link"),qe(n,"link",e),fe(n),l.head.appendChild(n)))}}function qT(e,n){ji.m(e,n);var r=Sa;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ue(l)+'"][href="'+ue(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wa(e)}if(!Vn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Vn.set(f,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ql(f)))return}l=r.createElement("link"),qe(l,"link",e),fe(l),r.head.appendChild(l)}}}function HT(e,n,r){ji.S(e,n,r);var l=Sa;if(l&&e){var c=kn(l).hoistableStyles,f=ba(e);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Bl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Vn.get(f))&&Kf(e,r);var C=p=l.createElement("link");fe(C),qe(C,"link",e),C._p=new Promise(function(k,G){C.onload=k,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Hu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function FT(e,n){ji.X(e,n);var r=Sa;if(r&&e){var l=kn(r).hoistableScripts,c=wa(e),f=l.get(c);f||(f=r.querySelector(ql(c)),f||(e=b({src:e,async:!0},n),(n=Vn.get(c))&&Xf(e,n),f=r.createElement("script"),fe(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function GT(e,n){ji.M(e,n);var r=Sa;if(r&&e){var l=kn(r).hoistableScripts,c=wa(e),f=l.get(c);f||(f=r.querySelector(ql(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Vn.get(c))&&Xf(e,n),f=r.createElement("script"),fe(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function by(e,n,r,l){var c=(c=wt.current)?qu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ba(r.href),r=kn(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ba(r.href);var f=kn(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(Bl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(e,r),f||QT(c,e,r,p.state))),n&&l===null)throw Error(s(528,""));return p}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wa(r),r=kn(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ba(e){return'href="'+ue(e)+'"'}function Bl(e){return'link[rel="stylesheet"]['+e+"]"}function wy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function QT(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",r),fe(n),e.head.appendChild(n))}function wa(e){return'[src="'+ue(e)+'"]'}function ql(e){return"script[async]"+e}function Ry(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+ue(r.href)+'"]');if(l)return n.instance=l,fe(l),l;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),qe(l,"style",c),Hu(l,r.precedence,e),n.instance=l;case"stylesheet":c=ba(r.href);var f=e.querySelector(Bl(c));if(f)return n.state.loading|=4,n.instance=f,fe(f),f;l=wy(r),(c=Vn.get(c))&&Kf(l,c),f=(e.ownerDocument||e).createElement("link"),fe(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),qe(f,"link",l),n.state.loading|=4,Hu(f,r.precedence,e),n.instance=f;case"script":return f=wa(r.src),(c=e.querySelector(ql(f)))?(n.instance=c,fe(c),c):(l=r,(c=Vn.get(f))&&(l=b({},r),Xf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),fe(c),qe(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Hu(l,r.precedence,e));return n.instance}function Hu(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Kf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Fu=null;function Cy(e,n,r){if(Fu===null){var l=new Map,c=Fu=new Map;c.set(r,l)}else c=Fu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[_i]||f[oe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function Iy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function YT(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ny(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function KT(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=ba(l.href),f=n.querySelector(Bl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Gu.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,fe(f);return}f=n.ownerDocument||n,l=wy(l),(c=Vn.get(c))&&Kf(l,c),f=f.createElement("link"),fe(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),qe(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Gu.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Zf=0;function XT(e,n){return e.stylesheets&&e.count===0&&Yu(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Zf===0&&(Zf=62500*NT());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Zf?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Gu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qu=null;function Yu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qu=new Map,n.forEach(ZT,e),Qu=null,Gu.call(e))}function ZT(e,n){if(!(n.state.loading&4)){var r=Qu.get(e);if(r)var l=r.get(null);else{r=new Map,Qu.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=Gu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Hl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function $T(e,n,r,l,c,f,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Dy(e,n,r,l,c,f,p,E,C,k,G,Z){return e=new $T(e,n,r,p,C,k,G,Z,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Ih(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Oh(f),e}function xy(e){return e?(e=na,e):na}function Oy(e,n,r,l,c,f){c=xy(c),l.context===null?l.context=c:l.pendingContext=c,l=pr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=yr(e,l,n),r!==null&&(hn(r,e,n),Tl(r,e,n))}function Vy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function $f(e,n){Vy(e,n),(e=e.alternate)&&Vy(e,n)}function My(e){if(e.tag===13||e.tag===31){var n=ms(e,67108864);n!==null&&hn(n,e,67108864),$f(e,67108864)}}function Uy(e){if(e.tag===13||e.tag===31){var n=Tn();n=$a(n);var r=ms(e,n);r!==null&&hn(r,e,n),$f(e,n)}}var Ku=!0;function JT(e,n,r,l){var c=B.T;B.T=null;var f=et.p;try{et.p=2,Jf(e,n,r,l)}finally{et.p=f,B.T=c}}function WT(e,n,r,l){var c=B.T;B.T=null;var f=et.p;try{et.p=8,Jf(e,n,r,l)}finally{et.p=f,B.T=c}}function Jf(e,n,r,l){if(Ku){var c=Wf(l);if(c===null)kf(e,n,l,Xu,r),Ly(e,l);else if(e1(c,e,n,r,l))l.stopPropagation();else if(Ly(e,l),n&4&&-1<t1.indexOf(e)){for(;c!==null;){var f=Ei(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ln(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-Je(p);E.entanglements[1]|=C,p&=~C}si(f),(Ht&6)===0&&(xu=ze()+500,Ll(0))}}break;case 31:case 13:E=ms(f,2),E!==null&&hn(E,f,2),Vu(),$f(f,2)}if(f=Wf(l),f===null&&kf(e,n,l,Xu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else kf(e,n,l,null,r)}}function Wf(e){return e=Ks(e),td(e)}var Xu=null;function td(e){if(Xu=null,e=vi(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Xu=e,null}function zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Io()){case be:return 2;case Ie:return 8;case gi:case No:return 32;case Ya:return 268435456;default:return 32}default:return 32}}var ed=!1,Ir=null,Nr=null,Dr=null,Fl=new Map,Gl=new Map,xr=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(e,n){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(n.pointerId)}}function Ql(e,n,r,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ei(n),n!==null&&My(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function e1(e,n,r,l,c){switch(n){case"focusin":return Ir=Ql(Ir,e,n,r,l,c),!0;case"dragenter":return Nr=Ql(Nr,e,n,r,l,c),!0;case"mouseover":return Dr=Ql(Dr,e,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Fl.set(f,Ql(Fl.get(f)||null,e,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Gl.set(f,Ql(Gl.get(f)||null,e,n,r,l,c)),!0}return!1}function ky(e){var n=vi(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,xo(e.priority,function(){Uy(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,xo(e.priority,function(){Uy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Wf(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Ys=l,r.target.dispatchEvent(l),Ys=null}else return n=Ei(r),n!==null&&My(n),e.blockedOn=r,!1;n.shift()}return!0}function Py(e,n,r){Zu(e)&&r.delete(n)}function n1(){ed=!1,Ir!==null&&Zu(Ir)&&(Ir=null),Nr!==null&&Zu(Nr)&&(Nr=null),Dr!==null&&Zu(Dr)&&(Dr=null),Fl.forEach(Py),Gl.forEach(Py)}function $u(e,n){e.blockedOn===n&&(e.blockedOn=null,ed||(ed=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,n1)))}var Ju=null;function jy(e){Ju!==e&&(Ju=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ju===e&&(Ju=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(td(l||r)===null)continue;break}var f=Ei(r);f!==null&&(e.splice(n,3),n-=3,Jh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ra(e){function n(C){return $u(C,e)}Ir!==null&&$u(Ir,e),Nr!==null&&$u(Nr,e),Dr!==null&&$u(Dr,e),Fl.forEach(n),Gl.forEach(n);for(var r=0;r<xr.length;r++){var l=xr[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<xr.length&&(r=xr[0],r.blockedOn===null);)ky(r),r.blockedOn===null&&xr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[ke]||null;if(typeof f=="function")p||jy(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[ke]||null)E=p.formAction;else if(td(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),jy(r)}}}function By(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function nd(e){this._internalRoot=e}Wu.prototype.render=nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Tn();Oy(r,l,e,n,null,null)},Wu.prototype.unmount=nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Oy(e.current,2,null,e,null,null),Vu(),n[Zn]=null}};function Wu(e){this._internalRoot=e}Wu.prototype.unstable_scheduleHydration=function(e){if(e){var n=yi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<xr.length&&n!==0&&n<xr[r].priority;r++);xr.splice(r,0,e),r===0&&ky(e)}};var qy=t.version;if(qy!=="19.2.4")throw Error(s(527,qy,"19.2.4"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var i1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Gi=tc.inject(i1),Qe=tc}catch{}}return Kl.createRoot=function(e,n){if(!o(e))throw Error(s(299));var r=!1,l="",c=Xg,f=Zg,p=$g;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Dy(e,1,!1,null,null,r,l,null,c,f,p,By),e[Zn]=n.current,Lf(e),new nd(n)},Kl.hydrateRoot=function(e,n,r){if(!o(e))throw Error(s(299));var l=!1,c="",f=Xg,p=Zg,E=$g,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=Dy(e,1,!0,n,r??null,l,c,C,f,p,E,By),n.context=xy(null),r=n.current,l=Tn(),l=$a(l),c=pr(l),c.callback=null,yr(r,c,l),r=l,n.current.lanes=r,Ki(n,r),si(n),e[Zn]=n.current,Lf(e),new Wu(n)},Kl.version="19.2.4",Kl}var Jy;function d1(){if(Jy)return sd.exports;Jy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),sd.exports=f1(),sd.exports}var m1=d1();const g1=Tv(m1),p1="AZ104_MediaHub_Local_V1",qr="media_library";async function Gd(){return new Promise((a,t)=>{const i=indexedDB.open(p1,1);i.onupgradeneeded=()=>{const s=i.result;s.objectStoreNames.contains(qr)||s.createObjectStore(qr,{keyPath:"key"})},i.onsuccess=()=>a(i.result),i.onerror=()=>t(i.error)})}async function Sv(a){const i=(await Gd()).transaction(qr,"readwrite");return i.objectStore(qr).put(a),new Promise(o=>{i.oncomplete=()=>o(!0)})}async function Qd(){const s=(await Gd()).transaction(qr,"readonly").objectStore(qr).getAll();return new Promise(o=>{s.onsuccess=()=>o(s.result)})}async function y1(){const t=(await Gd()).transaction(qr,"readwrite");return t.objectStore(qr).clear(),new Promise(s=>{t.oncomplete=()=>s(!0)})}const _1=["mp3","wav","ogg","m4a","aac","flac","mp4","webm","mkv","avi","mov","m4v"],Hn={Play:()=>j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:j.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),Pause:()=>j.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:[j.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),j.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),Folder:()=>j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:j.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),File:()=>j.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[j.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),j.jsx("polyline",{points:"14 2 14 8 20 8"})]}),Trash:()=>j.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[j.jsx("polyline",{points:"3 6 5 6 21 6"}),j.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})},v1=()=>{};var Wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},E1=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];t[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];t[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,y=o+2<a.length,v=y?a[o+2]:0,A=h>>2,b=(h&3)<<4|g>>4;let D=(g&15)<<2|v>>6,F=v&63;y||(F=64,d||(D=64)),s.push(i[A],i[b],i[D],i[F])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(bv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):E1(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||v==null||b==null)throw new T1;const D=h<<2|g>>4;if(s.push(D),v!==64){const F=g<<4&240|v>>2;if(s.push(F),b!==64){const tt=v<<6&192|b;s.push(tt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class T1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A1=function(a){const t=bv(a);return wv.encodeByteArray(t,!0)},gc=function(a){return A1(a).replace(/\./g,"")},Rv=function(a){try{return wv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=()=>S1().__FIREBASE_DEFAULTS__,w1=()=>{if(typeof process>"u"||typeof Wy>"u")return;const a=Wy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},R1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Rv(a[1]);return t&&JSON.parse(t)},Uc=()=>{try{return v1()||b1()||w1()||R1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},C1=a=>{var t,i;return(i=(t=Uc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},I1=a=>{const t=C1(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Cv=()=>{var a;return(a=Uc())===null||a===void 0?void 0:a.config},N1=a=>{var t;return(t=Uc())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[gc(JSON.stringify(i)),gc(JSON.stringify(d)),""].join(".")}const Jl={};function V1(){const a={prod:[],emulator:[]};for(const t of Object.keys(Jl))Jl[t]?a.emulator.push(t):a.prod.push(t);return a}function M1(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let t_=!1;function U1(a,t){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||Jl[a]===t||Jl[a]||t_)return;Jl[a]=t;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=V1().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{t_=!0,d()},D}function A(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function b(){const D=M1(s),F=i("text"),tt=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),Q=document.getElementById(it)||document.createElement("a"),K=i("preprendIcon"),W=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const rt=D.element;g(rt),A(Q,it);const lt=v();y(W,K),rt.append(W,tt,Q,lt),document.body.appendChild(rt)}h?(tt.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function L1(){var a;const t=(a=Uc())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function j1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B1(){return!L1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q1(){try{return typeof indexedDB=="object"}catch{return!1}}function H1(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;t(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="FirebaseError";class Zr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=F1,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_o.prototype.create)}}class _o{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?G1(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Zr(o,g,s)}}function G1(a,t){return a.replace(Q1,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Q1=/\{\$([^}]+)}/g;function ao(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=t[o];if(e_(h)&&e_(d)){if(!ao(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function e_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Y1(a,t){const i=new K1(a,t);return i.subscribe.bind(i)}class K1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let o;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");X1(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:s},o.next===void 0&&(o.next=ud),o.error===void 0&&(o.error=ud),o.complete===void 0&&(o.complete=ud);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X1(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(a){return a&&a._delegate?a._delegate:a}class Ds{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new D1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(J1(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(t),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&t(d,o),()=>{h.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$1(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $1(a){return a===Cs?void 0:a}function J1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Z1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Vt||(Vt={}));const tA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},eA=Vt.INFO,nA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},iA=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),o=nA[t];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yd{constructor(t){this.name=t,this._logLevel=eA,this._logHandler=iA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const rA=(a,t)=>t.some(i=>a instanceof i);let n_,i_;function sA(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aA(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,Ed=new WeakMap,Dv=new WeakMap,cd=new WeakMap,Kd=new WeakMap;function lA(a){const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(zr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Nv.set(i,a)}).catch(()=>{}),Kd.set(t,a),t}function oA(a){if(Ed.has(a))return;const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Ed.set(a,t)}let Td={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ed.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Dv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function uA(a){Td=a(Td)}function cA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(hd(this),t,...i);return Dv.set(s,t.sort?t.sort():[t]),zr(s)}:aA().includes(a)?function(...t){return a.apply(hd(this),t),zr(Nv.get(this))}:function(...t){return zr(a.apply(hd(this),t))}}function hA(a){return typeof a=="function"?cA(a):(a instanceof IDBTransaction&&oA(a),rA(a,sA())?new Proxy(a,Td):a)}function zr(a){if(a instanceof IDBRequest)return lA(a);if(cd.has(a))return cd.get(a);const t=hA(a);return t!==a&&(cd.set(a,t),Kd.set(t,a)),t}const hd=a=>Kd.get(a);function fA(a,t,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,t),g=zr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(zr(d.result),y.oldVersion,y.newVersion,zr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const dA=["get","getKey","getAll","getAllKeys","count"],mA=["put","add","delete","clear"],fd=new Map;function r_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(fd.get(t))return fd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=mA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||dA.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&y.done]))[0]};return fd.set(t,h),h}uA(a=>({...a,get:(t,i,s)=>r_(t,i)||a.get(t,i,s),has:(t,i)=>!!r_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(pA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function pA(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ad="@firebase/app",s_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Yd("@firebase/app"),yA="@firebase/app-compat",_A="@firebase/analytics-compat",vA="@firebase/analytics",EA="@firebase/app-check-compat",TA="@firebase/app-check",AA="@firebase/auth",SA="@firebase/auth-compat",bA="@firebase/database",wA="@firebase/data-connect",RA="@firebase/database-compat",CA="@firebase/functions",IA="@firebase/functions-compat",NA="@firebase/installations",DA="@firebase/installations-compat",xA="@firebase/messaging",OA="@firebase/messaging-compat",VA="@firebase/performance",MA="@firebase/performance-compat",UA="@firebase/remote-config",zA="@firebase/remote-config-compat",LA="@firebase/storage",kA="@firebase/storage-compat",PA="@firebase/firestore",jA="@firebase/ai",BA="@firebase/firestore-compat",qA="firebase",HA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",FA={[Ad]:"fire-core",[yA]:"fire-core-compat",[vA]:"fire-analytics",[_A]:"fire-analytics-compat",[TA]:"fire-app-check",[EA]:"fire-app-check-compat",[AA]:"fire-auth",[SA]:"fire-auth-compat",[bA]:"fire-rtdb",[wA]:"fire-data-connect",[RA]:"fire-rtdb-compat",[CA]:"fire-fn",[IA]:"fire-fn-compat",[NA]:"fire-iid",[DA]:"fire-iid-compat",[xA]:"fire-fcm",[OA]:"fire-fcm-compat",[VA]:"fire-perf",[MA]:"fire-perf-compat",[UA]:"fire-rc",[zA]:"fire-rc-compat",[LA]:"fire-gcs",[kA]:"fire-gcs-compat",[PA]:"fire-fst",[BA]:"fire-fst-compat",[jA]:"fire-vertex","fire-js":"fire-js",[qA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,GA=new Map,bd=new Map;function a_(a,t){try{a.container.addComponent(t)}catch(i){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function za(a){const t=a.name;if(bd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;bd.set(t,a);for(const i of pc.values())a_(i,a);for(const i of GA.values())a_(i,a);return!0}function xv(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Mr(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new _o("app","Firebase",QA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=HA;function Ov(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Sd,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Lr.create("bad-app-name",{appName:String(o)});if(i||(i=Cv()),!i)throw Lr.create("no-options");const h=pc.get(o);if(h){if(ao(i,h.options)&&ao(s,h.config))return h;throw Lr.create("duplicate-app",{appName:o})}const d=new W1(o);for(const y of bd.values())d.addComponent(y);const g=new YA(i,s,d);return pc.set(o,g),g}function KA(a=Sd){const t=pc.get(a);if(!t&&a===Sd&&Cv())return Ov();if(!t)throw Lr.create("no-app",{appName:a});return t}function kr(a,t,i){var s;let o=(s=FA[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=t.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${t}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(g.join(" "));return}za(new Ds(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebase-heartbeat-database",ZA=1,lo="firebase-heartbeat-store";let dd=null;function Vv(){return dd||(dd=fA(XA,ZA,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Lr.create("idb-open",{originalErrorMessage:a.message})})),dd}async function $A(a){try{const i=(await Vv()).transaction(lo),s=await i.objectStore(lo).get(Mv(a));return await i.done,s}catch(t){if(t instanceof Zr)qi.warn(t.message);else{const i=Lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(i.message)}}}async function l_(a,t){try{const s=(await Vv()).transaction(lo,"readwrite");await s.objectStore(lo).put(t,Mv(a)),await s.done}catch(i){if(i instanceof Zr)qi.warn(i.message);else{const s=Lr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});qi.warn(s.message)}}}function Mv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1024,WA=30;class tS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=o_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>WA){const d=iS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=o_(),{heartbeatsToSend:s,unsentEntries:o}=eS(this._heartbeatsCache.heartbeats),h=gc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return qi.warn(i),""}}}function o_(){return new Date().toISOString().substring(0,10)}function eS(a,t=JA){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),u_(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),u_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class nS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q1()?H1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $A(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return l_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return l_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function u_(a){return gc(JSON.stringify({version:2,heartbeats:a})).length}function iS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(a){za(new Ds("platform-logger",t=>new gA(t),"PRIVATE")),za(new Ds("heartbeat",t=>new tS(t),"PRIVATE")),kr(Ad,s_,a),kr(Ad,s_,"esm2017"),kr("fire-js","")}rS("");var sS="firebase",aS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(sS,aS,"app");function Uv(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i}function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lS=zv,Lv=new _o("auth","Firebase",zv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Yd("@firebase/auth");function oS(a,...t){yc.logLevel<=Vt.WARN&&yc.warn(`Auth (${zc}): ${a}`,...t)}function oc(a,...t){yc.logLevel<=Vt.ERROR&&yc.error(`Auth (${zc}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(a,...t){throw Xd(a,...t)}function kv(a,...t){return Xd(a,...t)}function Pv(a,t,i){const s=Object.assign(Object.assign({},lS()),{[t]:i});return new _o("auth","Firebase",s).create(t,{appName:a.name})}function Wl(a){return Pv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xd(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return Lv.create(a,...t)}function Ft(a,t,...i){if(!a)throw Xd(t,...i)}function to(a){const t="INTERNAL ASSERTION FAILED: "+a;throw oc(t),new Error(t)}function vc(a,t){a||to(t)}function uS(){return c_()==="http:"||c_()==="https:"}function c_(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uS()||P1()||"connection"in navigator)?navigator.onLine:!0}function hS(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,i){this.shortDelay=t,this.longDelay=i,vc(i>t,"Short delay should be less than long delay!"),this.isMobile=z1()||j1()}get(){return cS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(a,t){vc(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;to("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;to("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;to("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gS=new vo(3e4,6e4);function Zd(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function Eo(a,t,i,s,o={}){return Bv(a,o,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const g=Iv(Object.assign({key:a.config.apiKey},d)).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const v=Object.assign({method:t,headers:y},h);return k1()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&yo(a.emulatorConfig.host)&&(v.credentials="include"),jv.fetch()(await qv(a,a.config.apiHost,i,g),v)})}async function Bv(a,t,i){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},dS),t);try{const o=new yS(a),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw ec(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ec(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw ec(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw ec(a,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Pv(a,A,v);_c(a,A)}}catch(o){if(o instanceof Zr)throw o;_c(a,"network-request-failed",{message:String(o)})}}async function pS(a,t,i,s,o={}){const h=await Eo(a,t,i,s,o);return"mfaPendingCredential"in h&&_c(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function qv(a,t,i,s){const o=`${t}${i}?${s}`,h=a,d=h.config.emulator?fS(a.config,o):`${a.config.apiScheme}://${o}`;return mS.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class yS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(kv(this.auth,"network-request-failed")),gS.get())})}}function ec(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const o=kv(a,t,s);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(a,t){return Eo(a,"POST","/v1/accounts:delete",t)}async function Ec(a,t){return Eo(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vS(a,t=!1){const i=hi(a),s=await i.getIdToken(t),o=Hv(s);Ft(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h==null?void 0:h.sign_in_provider;return{claims:o,token:s,authTime:eo(md(o.auth_time)),issuedAtTime:eo(md(o.iat)),expirationTime:eo(md(o.exp)),signInProvider:d||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function md(a){return Number(a)*1e3}function Hv(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Rv(i);return o?JSON.parse(o):(oc("Failed to decode base64 JWT payload"),null)}catch(o){return oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function h_(a){const t=Hv(a);return Ft(t,"internal-error"),Ft(typeof t.exp<"u","internal-error"),Ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Zr&&ES(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function ES({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=eo(this.lastLoginAt),this.creationTime=eo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(a){var t;const i=a.auth,s=await a.getIdToken(),o=await wd(a,Ec(i,{idToken:s}));Ft(o==null?void 0:o.users.length,i,"internal-error");const h=o.users[0];a._notifyReloadListener(h);const d=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?Fv(h.providerUserInfo):[],g=SS(a.providerData,d),y=a.isAnonymous,v=!(a.email&&h.passwordHash)&&!(g!=null&&g.length),A=y?v:!1,b={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:g,metadata:new Rd(h.createdAt,h.lastLoginAt),isAnonymous:A};Object.assign(a,b)}async function AS(a){const t=hi(a);await Tc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SS(a,t){return[...a.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Fv(a){return a.map(t=>{var{providerId:i}=t,s=Uv(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(a,t){const i=await Bv(a,{},async()=>{const s=Iv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:h}=a.config,d=await qv(a,o,"/v1/token",`key=${h}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return a.emulatorConfig&&yo(a.emulatorConfig.host)&&(y.credentials="include"),jv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function wS(a,t){return Eo(a,"POST","/v2/accounts:revokeToken",Zd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ft(t.idToken,"internal-error"),Ft(typeof t.idToken<"u","internal-error"),Ft(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Ft(t.length!==0,"internal-error");const i=h_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:o,expiresIn:h}=await bS(t,i);this.updateTokensAndExpiration(s,o,Number(h))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:o,expirationTime:h}=i,d=new xa;return s&&(Ft(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),o&&(Ft(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),h&&(Ft(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return to("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(a,t){Ft(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Fn{constructor(t){var{uid:i,auth:s,stsTokenManager:o}=t,h=Uv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Rd(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const i=await wd(this,this.stsTokenManager.getToken(this.auth,t));return Ft(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return vS(this,t)}reload(){return AS(this)}_assign(t){this!==t&&(Ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Fn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Tc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(Wl(this.auth));const t=await this.getIdToken();return await wd(this,_S(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,o,h,d,g,y,v,A;const b=(s=i.displayName)!==null&&s!==void 0?s:void 0,D=(o=i.email)!==null&&o!==void 0?o:void 0,F=(h=i.phoneNumber)!==null&&h!==void 0?h:void 0,tt=(d=i.photoURL)!==null&&d!==void 0?d:void 0,it=(g=i.tenantId)!==null&&g!==void 0?g:void 0,Q=(y=i._redirectEventId)!==null&&y!==void 0?y:void 0,K=(v=i.createdAt)!==null&&v!==void 0?v:void 0,W=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:rt,emailVerified:lt,isAnonymous:At,providerData:pt,stsTokenManager:I}=i;Ft(rt&&I,t,"internal-error");const S=xa.fromJSON(this.name,I);Ft(typeof rt=="string",t,"internal-error"),Vr(b,t.name),Vr(D,t.name),Ft(typeof lt=="boolean",t,"internal-error"),Ft(typeof At=="boolean",t,"internal-error"),Vr(F,t.name),Vr(tt,t.name),Vr(it,t.name),Vr(Q,t.name),Vr(K,t.name),Vr(W,t.name);const w=new Fn({uid:rt,auth:t,email:D,emailVerified:lt,displayName:b,isAnonymous:At,photoURL:tt,phoneNumber:F,tenantId:it,stsTokenManager:S,createdAt:K,lastLoginAt:W});return pt&&Array.isArray(pt)&&(w.providerData=pt.map(N=>Object.assign({},N))),Q&&(w._redirectEventId=Q),w}static async _fromIdTokenResponse(t,i,s=!1){const o=new xa;o.updateFromServerResponse(i);const h=new Fn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Tc(h),h}static async _fromGetAccountInfoResponse(t,i,s){const o=i.users[0];Ft(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?Fv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(h!=null&&h.length),g=new xa;g.updateFromIdToken(s);const y=new Fn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Rd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(h!=null&&h.length)};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;function Is(a){vc(a instanceof Function,"Expected a class definition");let t=f_.get(a);return t?(vc(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,f_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Gv.type="NONE";const d_=Gv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(a,t,i){return`firebase:${a}:${t}:${i}`}class Oa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:o,name:h}=this.auth;this.fullUserKey=gd(this.userKey,o.apiKey,h),this.fullPersistenceKey=gd("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Ec(this.auth,{idToken:t}).catch(()=>{});return i?Fn._fromGetAccountInfoResponse(this.auth,i,t):null}return Fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Oa(Is(d_),t,s);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=o[0]||Is(d_);const d=gd(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let b;if(typeof A=="string"){const D=await Ec(t,{idToken:A}).catch(()=>{});if(!D)break;b=await Fn._fromGetAccountInfoResponse(t,D,A)}else b=Fn._fromJSON(t,A);v!==h&&(g=b),h=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Oa(h,t,s):(h=y[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Oa(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xS(t))return"Blackberry";if(OS(t))return"Webos";if(CS(t))return"Safari";if((t.includes("chrome/")||IS(t))&&!t.includes("edge/"))return"Chrome";if(DS(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function RS(a=Qn()){return/firefox\//i.test(a)}function CS(a=Qn()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function IS(a=Qn()){return/crios\//i.test(a)}function NS(a=Qn()){return/iemobile/i.test(a)}function DS(a=Qn()){return/android/i.test(a)}function xS(a=Qn()){return/blackberry/i.test(a)}function OS(a=Qn()){return/webos/i.test(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(a,t=[]){let i;switch(a){case"Browser":i=m_(Qn());break;case"Worker":i=`${m_(Qn())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${zc}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=h=>new Promise((d,g)=>{try{const y=t(h);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(a,t={}){return Eo(a,"GET","/v2/passwordPolicy",Zd(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=6;class zS{constructor(t){var i,s,o,h;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:US,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,o,h,d,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(i=y.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(o=y.containsLowercaseLetter)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(h=y.containsUppercaseLetter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,o,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,i,s,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g_(this),this.idTokenSubscription=new g_(this),this.beforeStateQueue=new VS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Is(i)),this._initializationPromise=this.queue(async()=>{var s,o,h;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Ec(this,{idToken:t}),s=await Fn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Mr(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=o==null?void 0:o._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===g)&&(y!=null&&y.user)&&(o=y.user,h=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Tc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mr(this.app))return Promise.reject(Wl(this));const i=t?hi(t):null;return i&&Ft(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(Wl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mr(this.app)?Promise.reject(Wl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await MS(this),i=new zS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _o("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await wS(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Is(t)||this._popupRedirectResolver;Ft(i,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[Is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var t;if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&oS(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Yv(a){return hi(a)}class g_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Y1(i=>this.observer=i)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(a,t){const i=xv(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(ao(h,t??{}))return o;_c(o,"already-initialized")}return i.initialize({options:t})}function PS(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Is);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(a,t){return pS(a,"POST","/v1/accounts:signUp",Zd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,o=!1){const h=await Fn._fromIdTokenResponse(t,s,o),d=p_(s);return new oo({user:h,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const o=p_(s);return new oo({user:t,providerId:o,_tokenResponse:s,operationType:i})}}function p_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(a){var t;if(Mr(a.app))return Promise.reject(Wl(a));const i=Yv(a);if(await i._initializationPromise,!((t=i.currentUser)===null||t===void 0)&&t.isAnonymous)return new oo({user:i.currentUser,providerId:null,operationType:"signIn"});const s=await jS(i,{returnSecureToken:!0}),o=await oo._fromIdTokenResponse(i,"signIn",s,!0);return await i._updateCurrentUser(o.user),o}function qS(a,t,i,s){return hi(a).onAuthStateChanged(t,i,s)}const y_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const s=new Lc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(d).map(async v=>v(i.origin,h)),y=await HS(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((g,y)=>{const v=FS("",20);o.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(b){const D=b;if(D.data.eventId===v)switch(D.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(D.data.response);break;default:clearTimeout(A),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){return typeof __().WorkerGlobalScope<"u"&&typeof __().importScripts=="function"}async function QS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YS(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function KS(){return Kv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="firebaseLocalStorageDb",XS=1,Ac="firebaseLocalStorage",Zv="fbase_key";class To{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kc(a,t){return a.transaction([Ac],t?"readwrite":"readonly").objectStore(Ac)}function ZS(){const a=indexedDB.deleteDatabase(Xv);return new To(a).toPromise()}function Cd(){const a=indexedDB.open(Xv,XS);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Ac,{keyPath:Zv})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Ac)?t(s):(s.close(),await ZS(),t(await Cd()))})})}async function v_(a,t,i){const s=kc(a,!0).put({[Zv]:t,value:i});return new To(s).toPromise()}async function $S(a,t){const i=kc(a,!1).get(t),s=await new To(i).toPromise();return s===void 0?null:s.value}function E_(a,t){const i=kc(a,!0).delete(t);return new To(i).toPromise()}const JS=800,WS=3;class $v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>WS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lc._getInstance(KS()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await QS(),!this.activeServiceWorker)return;this.sender=new GS(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cd();return await v_(t,y_,"1"),await E_(t,y_),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>v_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>$S(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>E_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const h=kc(o,!1).getAll();return new To(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:h}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$v.type="LOCAL";const tb=$v;new vo(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new vo(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new vo(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new vo(5e3,15e3);var T_="@firebase/auth",A_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ib(a){za(new Ds("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;Ft(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qv(a)},v=new LS(s,o,h,y);return PS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),za(new Ds("auth-internal",t=>{const i=Yv(t.getProvider("auth").getImmediate());return(s=>new eb(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(T_,A_,nb(a)),kr(T_,A_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=300;N1("authIdTokenMaxAge");ib("Browser");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,Jv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,S){function w(){}w.prototype=S.prototype,I.D=S.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(N,V,U){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return S.prototype[V].apply(N,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)N[V]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(V=0;16>V;++V)N[V]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=I.g[0],w=I.g[1],V=I.g[2];var U=I.g[3],R=S+(U^w&(V^U))+N[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(V^S&(w^V))+N[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(w^U&(S^w))+N[2]+606105819&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(S^V&(U^S))+N[3]+3250441966&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(U^w&(V^U))+N[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(V^S&(w^V))+N[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(w^U&(S^w))+N[6]+2821735955&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(S^V&(U^S))+N[7]+4249261313&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(U^w&(V^U))+N[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(V^S&(w^V))+N[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(w^U&(S^w))+N[10]+4294925233&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(S^V&(U^S))+N[11]+2304563134&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(U^w&(V^U))+N[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(V^S&(w^V))+N[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(w^U&(S^w))+N[14]+2792965006&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(S^V&(U^S))+N[15]+1236535329&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(V^U&(w^V))+N[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(S^w))+N[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(U^S))+N[11]+643717713&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(V^U))+N[0]+3921069994&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^U&(w^V))+N[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(S^w))+N[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(U^S))+N[15]+3634488961&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(V^U))+N[4]+3889429448&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^U&(w^V))+N[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(S^w))+N[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(U^S))+N[3]+4107603335&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(V^U))+N[8]+1163531501&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^U&(w^V))+N[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(S^w))+N[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(U^S))+N[7]+1735328473&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(V^U))+N[12]+2368359562&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(w^V^U)+N[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^V)+N[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^w)+N[11]+1839030562&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^S)+N[14]+4259657740&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^U)+N[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^V)+N[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^w)+N[7]+4139469664&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^S)+N[10]+3200236656&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^U)+N[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^V)+N[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^w)+N[3]+3572445317&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^S)+N[6]+76029189&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^U)+N[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^V)+N[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^w)+N[15]+530742520&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^S)+N[2]+3299628645&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(V^(w|~U))+N[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~V))+N[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~w))+N[14]+2878612391&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~S))+N[5]+4237533241&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~U))+N[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~V))+N[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~w))+N[10]+4293915773&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~S))+N[1]+2240044497&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~U))+N[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~V))+N[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~w))+N[6]+2734768916&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~S))+N[13]+1309151649&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~U))+N[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~V))+N[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~w))+N[2]+718787259&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~S))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var w=S-this.blockSize,N=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=w;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(N[V++]=I.charCodeAt(U++),V==this.blockSize){o(this,N),V=0;break}}else for(;U<S;)if(N[V++]=I[U++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var w=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=w&255,w/=256;for(this.u(I),I=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)I[w++]=this.g[S]>>>N&255;return I};function h(I,S){var w=g;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=S(I)}function d(I,S){this.h=S;for(var w=[],N=!0,V=I.length-1;0<=V;V--){var U=I[V]|0;N&&U==S||(w[V]=U,N=!1)}this.g=w}var g={};function y(I){return-128<=I&&128>I?h(I,function(S){return new d([S|0],0>S?-1:0)}):new d([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return Q(v(-I));for(var S=[],w=1,N=0;I>=w;N++)S[N]=I/w|0,w*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return Q(A(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),N=b,V=0;V<I.length;V+=8){var U=Math.min(8,I.length-V),R=parseInt(I.substring(V,V+U),S);8>U?(U=v(Math.pow(S,U)),N=N.j(U).add(v(R))):(N=N.j(w),N=N.add(v(R)))}return N}var b=y(0),D=y(1),F=y(16777216);a=d.prototype,a.m=function(){if(it(this))return-Q(this).m();for(var I=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);I+=(0<=N?N:4294967296+N)*S,S*=4294967296}return I},a.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(tt(this))return"0";if(it(this))return"-"+Q(this).toString(I);for(var S=v(Math.pow(I,6)),w=this,N="";;){var V=lt(w,S).g;w=K(w,V.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=V,tt(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},a.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function tt(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function it(I){return I.h==-1}a.l=function(I){return I=K(this,I),it(I)?-1:tt(I)?0:1};function Q(I){for(var S=I.g.length,w=[],N=0;N<S;N++)w[N]=~I.g[N];return new d(w,~I.h).add(D)}a.abs=function(){return it(this)?Q(this):this},a.add=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],N=0,V=0;V<=S;V++){var U=N+(this.i(V)&65535)+(I.i(V)&65535),R=(U>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);N=R>>>16,U&=65535,R&=65535,w[V]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function K(I,S){return I.add(Q(S))}a.j=function(I){if(tt(this)||tt(I))return b;if(it(this))return it(I)?Q(this).j(Q(I)):Q(Q(this).j(I));if(it(I))return Q(this.j(Q(I)));if(0>this.l(F)&&0>I.l(F))return v(this.m()*I.m());for(var S=this.g.length+I.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<I.g.length;V++){var U=this.i(N)>>>16,R=this.i(N)&65535,se=I.i(V)>>>16,pe=I.i(V)&65535;w[2*N+2*V]+=R*pe,W(w,2*N+2*V),w[2*N+2*V+1]+=U*pe,W(w,2*N+2*V+1),w[2*N+2*V+1]+=R*se,W(w,2*N+2*V+1),w[2*N+2*V+2]+=U*se,W(w,2*N+2*V+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function W(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function rt(I,S){this.g=I,this.h=S}function lt(I,S){if(tt(S))throw Error("division by zero");if(tt(I))return new rt(b,b);if(it(I))return S=lt(Q(I),S),new rt(Q(S.g),Q(S.h));if(it(S))return S=lt(I,Q(S)),new rt(Q(S.g),S.h);if(30<I.g.length){if(it(I)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=D,N=S;0>=N.l(I);)w=At(w),N=At(N);var V=pt(w,1),U=pt(N,1);for(N=pt(N,2),w=pt(w,2);!tt(N);){var R=U.add(N);0>=R.l(I)&&(V=V.add(w),U=R),N=pt(N,1),w=pt(w,1)}return S=K(I,V.j(S)),new rt(V,S)}for(V=b;0<=I.l(S);){for(w=Math.max(1,Math.floor(I.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=v(w),R=U.j(S);it(R)||0<R.l(I);)w-=N,U=v(w),R=U.j(S);tt(U)&&(U=D),V=V.add(U),I=K(I,R)}return new rt(V,I)}a.A=function(I){return lt(this,I).h},a.and=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&I.i(N);return new d(w,this.h&I.h)},a.or=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|I.i(N);return new d(w,this.h|I.h)},a.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^I.i(N);return new d(w,this.h^I.h)};function At(I){for(var S=I.g.length+1,w=[],N=0;N<S;N++)w[N]=I.i(N)<<1|I.i(N-1)>>>31;return new d(w,I.h)}function pt(I,S){var w=S>>5;S%=32;for(var N=I.g.length-w,V=[],U=0;U<N;U++)V[U]=0<S?I.i(U+w)>>>S|I.i(U+w+1)<<32-S:I.i(U+w);return new d(V,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Jv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Pr=d}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wv,Xl,t0,uc,Id,e0,n0,i0;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in _))break t;_=_[z]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,T=!1,z={next:function(){if(!T&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function D(u,m,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:b,D.apply(null,arguments)}function F(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function tt(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,z,H){for(var st=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)st[Gt-2]=arguments[Gt];return m.prototype[z].apply(T,st)}}function it(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Q(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(y(T)){const z=u.length||0,H=T.length||0;u.length=z+H;for(let st=0;st<H;st++)u[z+st]=T[st]}else u.push(T)}}class K{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){return/^[\s\xa0]*$/.test(u)}function rt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function lt(u){return lt[" "](u),u}lt[" "]=function(){};var At=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function pt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function I(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(_ in T)u[_]=T[_];for(let H=0;H<w.length;H++)_=w[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=It;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class se{constructor(){this.h=this.g=null}add(m,_){const T=pe.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var pe=new K(()=>new B,u=>u.reset());class B{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ct=!1,It=new se,Ut=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(O)}};var O=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){U(_)}var m=pe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var ut=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u})();function _t(u,m){if(nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(At){t:{try{lt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:wt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_t.aa.h.call(this)}}tt(_t,nt);var wt={2:"touch",3:"pen",4:"mouse"};_t.prototype.h=function(){_t.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function ae(u,m,_,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=z,this.key=++Ue,this.da=this.fa=!1}function Yn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mi(u){this.src=u,this.g={},this.h=0}mi.prototype.add=function(u,m,_,T,z){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var st=ks(u,m,T,z);return-1<st?(m=u[st],_||(m.fa=!1)):(m=new ae(m,this.src,H,!!T,z),m.fa=_,u.push(m)),m};function $r(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],z=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=z)&&Array.prototype.splice.call(T,z,1),H&&(Yn(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ks(u,m,_,T){for(var z=0;z<u.length;++z){var H=u[z];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return z}return-1}var zn="closure_lm_"+(1e6*Math.random()|0),Jr={};function Ps(u,m,_,T,z){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Ps(u,m[H],_,T,z);return null}return _=Io(_),u&&u[zt]?u.K(m,_,v(T)?!!T.capture:!1,z):Wc(u,m,_,!1,T,z)}function Wc(u,m,_,T,z,H){if(!m)throw Error("Invalid event type");var st=v(z)?!!z.capture:!!z,Gt=Qa(u);if(Gt||(u[zn]=Gt=new mi(u)),_=Gt.add(m,_,T,st,H),_.proxy)return _;if(T=Co(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)ut||(z=st),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Bs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Co(){function u(_){return m.call(u.src,u.listener,_)}const m=th;return u}function js(u,m,_,T,z){if(Array.isArray(m))for(var H=0;H<m.length;H++)js(u,m[H],_,T,z);else T=v(T)?!!T.capture:!!T,_=Io(_),u&&u[zt]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=ks(H,_,T,z),-1<_&&(Yn(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Qa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ks(m,_,T,z)),(_=-1<u?m[u]:null)&&Wr(_))}function Wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[zt])$r(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Bs(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Qa(m))?($r(_,u),_.h==0&&(_.src=null,m[zn]=null)):Yn(u)}}}function Bs(u){return u in Jr?Jr[u]:Jr[u]="on"+u}function th(u,m){if(u.da)u=!0;else{m=new _t(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Wr(u),u=_.call(T,m)}return u}function Qa(u){return u=u[zn],u instanceof mi?u:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Io(u){return typeof u=="function"?u:(u[ze]||(u[ze]=function(m){return u.handleEvent(m)}),u[ze])}function be(){Y.call(this),this.i=new mi(this),this.M=this,this.F=null}tt(be,Y),be.prototype[zt]=!0,be.prototype.removeEventListener=function(u,m,_,T){js(this,u,m,_,T)};function Ie(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new nt(m,u);else if(m instanceof nt)m.target=m.target||u;else{var z=m;m=new nt(T,u),N(m,z)}if(z=!0,_)for(var H=_.length-1;0<=H;H--){var st=m.g=_[H];z=gi(st,T,!0,m)&&z}if(st=m.g=u,z=gi(st,T,!0,m)&&z,z=gi(st,T,!1,m)&&z,_)for(H=0;H<_.length;H++)st=m.g=_[H],z=gi(st,T,!1,m)&&z}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Yn(_[T]);delete u.g[m],u.h--}}this.F=null},be.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},be.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function gi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,H=0;H<m.length;++H){var st=m[H];if(st&&!st.da&&st.capture==_){var Gt=st.listener,ye=st.ha||st.src;st.fa&&$r(u.i,st),z=Gt.call(ye,T)!==!1&&z}}return z&&!T.defaultPrevented}function No(u,m,_){if(typeof u=="function")_&&(u=D(u,_));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ya(u){u.g=No(()=>{u.g=null,u.i&&(u.i=!1,Ya(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class eh extends Y{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){Y.call(this),this.h=u,this.g={}}tt(ts,Y);var Gi=[];function Qe(u){pt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Wr(m)},u),u.g={}}ts.prototype.N=function(){ts.aa.N.call(this),Qe(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=g.JSON.stringify,Je=g.JSON.parse,nh=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ka(){}Ka.prototype.h=null;function Do(u){return u.h||(u.h=u.i())}function es(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qi(){nt.call(this,"d")}tt(Qi,nt);function Ln(){nt.call(this,"c")}tt(Ln,nt);var Sn={},Yi=null;function qs(){return Yi=Yi||new be}Sn.La="serverreachability";function Xa(u){nt.call(this,Sn.La,u)}tt(Xa,nt);function pi(u){const m=qs();Ie(m,new Xa(m))}Sn.STAT_EVENT="statevent";function Ki(u,m){nt.call(this,Sn.STAT_EVENT,u),this.stat=m}tt(Ki,nt);function Le(u){const m=qs();Ie(m,new Ki(m,u))}Sn.Ma="timingevent";function Za(u,m){nt.call(this,Sn.Ma,u),this.size=m}tt(Za,nt);function Xi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function $a(u,m,_,T,z,H){u.info(function(){if(u.g)if(H)for(var st="",Gt=H.split("&"),ye=0;ye<Gt.length;ye++){var Rt=Gt[ye].split("=");if(1<Rt.length){var De=Rt[0];Rt=Rt[1];var xe=De.split("_");st=2<=xe.length&&xe[1]=="type"?st+(De+"="+Rt+"&"):st+(De+"=redacted&")}}else st=null;else st=H;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+_+`
`+st})}function Ja(u,m,_,T,z,H,st){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+_+`
`+H+" "+st})}function yi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xn(u,_)+(T?" "+T:"")})}function xo(u,m){u.info(function(){return"TIMEOUT: "+m})}Zi.prototype.info=function(){};function Xn(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var H=z[0];if(H!="noop"&&H!="stop"&&H!="close")for(var st=1;st<z.length;st++)z[st]=""}}}}return An(_)}catch{return m}}var oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function $i(){}tt($i,Ka),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},Zn=new $i;function $n(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oo}function Oo(){this.i=null,this.g="",this.h=!1}var Wa={},_i={};function ns(u,m,_){u.L=1,u.v=ss(ue(m)),u.m=_,u.P=!0,vi(u,null)}function vi(u,m){u.F=Date.now(),kn(u),u.A=ue(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ai(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Oo,u.g=Ko(u.j,_?m:null,!u.m),0<u.O&&(u.M=new eh(D(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Gi[0]=z.toString()),z=Gi);for(var H=0;H<z.length;H++){var st=Ps(_,z[H],T||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),pi(),$a(u.i,u.u,u.A,u.l,u.R,u.m)}$n.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const xe=en(this.g);var m=this.g.Ba();const cr=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||os(this.g)))){this.J||xe!=4||m==7||(m==8||0>=cr?pi(3):pi(2)),Hs(this);var _=this.g.Z();this.X=_;e:if(Ei(this)){var T=os(this.g);u="";var z=T.length,H=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),Ji(this);var st="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,Ja(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,ye=this.g;if((Gt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Gt)){var Rt=Gt;break e}}Rt=null}if(_=Rt)yi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jn(this,_);else{this.o=!1,this.s=3,Le(12),We(this),Ji(this);break t}}if(this.P){_=!0;let an;for(;!this.J&&this.C<st.length;)if(an=is(this,st),an==_i){xe==4&&(this.s=4,Le(14),_=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Wa){this.s=4,Le(15),yi(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else yi(this.i,this.l,an,null),Jn(this,an);if(Ei(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||st.length!=0||this.h.h||(this.s=1,Le(16),_=!1),this.o=this.o&&_,!_)yi(this.i,this.l,st,"[Invalid Chunked Response]"),We(this),Ji(this);else if(0<st.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),cl(De),De.M=!0,Le(11))}}else yi(this.i,this.l,st,null),Jn(this,st);xe==4&&We(this),this.o&&!this.J&&(xe==4?Go(this.j,this):(this.o=!1,kn(this)))}else Po(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),We(this),Ji(this)}}}catch{}finally{}};function Ei(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function is(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?_i:(_=Number(m.substring(_,T)),isNaN(_)?Wa:(T+=1,T+_>m.length?_i:(m=m.slice(T,T+_),u.C=T+_,m)))}$n.prototype.cancel=function(){this.J=!0,We(this)};function kn(u){u.S=Date.now()+u.I,fe(u,u.I)}function fe(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Xi(D(u.ba,u),m)}function Hs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$n.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xo(this.i,this.A),this.L!=2&&(pi(),Le(17)),We(this),this.s=2,Ji(this)):fe(this,this.S-u)};function Ji(u){u.j.G==0||u.J||Go(u.j,u)}function We(u){Hs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Qe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Jn(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Wi(_.h,u))){if(!u.K&&Wi(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)or(_),lr(_);else break t;ul(_),Le(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Xi(D(_.Za,_),6e3));if(1>=Vo(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((u.K||_.g==u)&&or(_),!W(m))for(z=_.Da.g.parse(m),m=0;m<z.length;m++){let Rt=z[m];if(_.T=Rt[0],Rt=Rt[1],_.G==2)if(Rt[0]=="c"){_.K=Rt[1],_.ia=Rt[2];const De=Rt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const xe=Rt[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const cr=Rt[5];cr!=null&&typeof cr=="number"&&0<cr&&(T=1.5*cr,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const an=u.g;if(an){const hs=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var H=T.h;H.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(tr(H,H.h),H.h=null))}if(T.D){const wi=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;wi&&(T.ya=wi,jt(T.I,T.D,wi))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var st=u;if(T.qa=Yo(T,T.J?T.ia:null,T.W),st.K){bn(T.h,st);var Gt=st,ye=T.L;ye&&(Gt.I=ye),Gt.B&&(Hs(Gt),kn(Gt)),T.g=st}else Ho(T);0<_.i.length&&$s(_)}else Rt[0]!="stop"&&Rt[0]!="close"||bi(_,7);else _.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?bi(_,7):ll(_):Rt[0]!="noop"&&_.l&&_.l.ta(Rt),_.v=0)}}pi(4)}catch{}}var ih=class{constructor(u,m){this.g=u,this.map=m}};function tl(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function el(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vo(u){return u.h?1:u.g?u.g.size:0}function Wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function tr(u,m){u.g?u.g.add(m):u.h=m}function bn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}tl.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return it(u.i)}function Mo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function rh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function Fs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=rh(u),T=Mo(u),z=T.length,H=0;H<z;H++)m.call(void 0,T[H],_&&_[H],u)}var nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gs(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),z=null;if(0<=T){var H=u[_].substring(0,T);z=u[_].substring(T+1)}else H=u[_];m(H,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ti(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ti){this.h=u.h,er(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.s),this.l=u.l;var m=u.i,_=new Wn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Qs(this,_),this.m=u.m}else u&&(m=String(u).match(nl))?(this.h=!1,er(this,m[1]||"",!0),this.o=nr(m[2]||""),this.g=nr(m[3]||"",!0),rs(this,m[4]),this.l=nr(m[5]||"",!0),Qs(this,m[6]||"",!0),this.m=nr(m[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}Ti.prototype.toString=function(){var u=[],m=this.j;m&&u.push(wn(m,il,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wn(m,il,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(wn(_,_.charAt(0)=="/"?rl:Uo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",wn(_,lh)),u.join("")};function ue(u){return new Ti(u)}function er(u,m,_){u.j=_?nr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Qs(u,m,_){m instanceof Wn?(u.i=m,zo(u.i,u.h)):(_||(m=wn(m,ah)),u.i=new Wn(m,u.h))}function jt(u,m,_){u.i.set(m,_)}function ss(u){return jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function nr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var il=/[#\/\?@]/g,Uo=/[#\?:]/g,rl=/[#\?]/g,ah=/[#\?@]/g,lh=/#/g;function Wn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ne(u){u.g||(u.g=new Map,u.h=0,u.i&&Gs(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=Wn.prototype,a.add=function(u,m){Ne(this),this.i=null,u=dn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ys(u,m){Ne(u),m=dn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ks(u,m){return Ne(u),m=dn(u,m),u.g.has(m)}a.forEach=function(u,m){Ne(this),this.g.forEach(function(_,T){_.forEach(function(z){u.call(m,z,T,this)},this)},this)},a.na=function(){Ne(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const z=u[T];for(let H=0;H<z.length;H++)_.push(m[T])}return _},a.V=function(u){Ne(this);let m=[];if(typeof u=="string")Ks(this,u)&&(m=m.concat(this.g.get(dn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return Ne(this),this.i=null,u=dn(this,u),Ks(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ai(u,m,_){Ys(u,m),0<_.length&&(u.i=null,u.g.set(dn(u,m),it(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const H=encodeURIComponent(String(T)),st=this.V(T);for(T=0;T<st.length;T++){var z=H;st[T]!==""&&(z+="="+encodeURIComponent(String(st[T]))),u.push(z)}}return this.i=u.join("&")};function dn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zo(u,m){m&&!u.j&&(Ne(u),u.i=null,u.g.forEach(function(_,T){var z=T.toLowerCase();T!=z&&(Ys(this,T),Ai(this,z,_))},u)),u.j=m}function sl(u,m){const _=new Zi;if(g.Image){const T=new Image;T.onload=F(sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=F(sn,_,"TestLoadImage: error",!1,m,T),T.onabort=F(sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(sn,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Lo(u,m){const _=new Zi,T=new AbortController,z=setTimeout(()=>{T.abort(),sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(z),H.ok?sn(_,"TestPingServer: ok",!0,m):sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),sn(_,"TestPingServer: error",!1,m)})}function sn(u,m,_,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(_)}catch{}}function Pn(){this.g=new nh}function al(u,m,_){const T=_||"";try{Fs(u,function(z,H){let st=z;v(z)&&(st=An(z)),m.push(T+H+"="+encodeURIComponent(st))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function ti(u){this.l=u.Ub||null,this.j=u.eb||!1}tt(ti,Ka),ti.prototype.g=function(){return new mn(this.l,this.j)},ti.prototype.i=(function(u){return function(){return u}})({});function mn(u,m){be.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}tt(mn,be),a=mn.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ir(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ei(this):ir(this),this.readyState==3&&Xs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,ei(this))},a.Qa=function(u){this.g&&(this.response=u,ei(this))},a.ga=function(){this.g&&ei(this)};function ei(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ir(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ir(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function as(u){let m="";return pt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function rr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=as(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):jt(u,m,_))}function te(u){be.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}tt(te,be);var Ye=/^https?$/i,Si=["POST","PUT"];a=te.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Do(this.o):Do(Zn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){ls(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)_.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Si,m,void 0))||T||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,st]of _)this.g.setRequestHeader(H,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){ls(this,H)}};function ls(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,sr(u),ar(u)}function sr(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ie(this,"complete"),Ie(this,"abort"),ar(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),te.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ko(this):this.bb())},a.bb=function(){ko(this)};function ko(u){if(u.h&&typeof d<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)No(u.Ea,0,u);else if(Ie(u,"readystatechange"),en(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=st===0){var z=String(u.D).match(nl)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Ye.test(z?z.toLowerCase():"")}_=T}if(_)Ie(u,"complete"),Ie(u,"success");else{u.m=6;try{var H=2<en(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",sr(u)}}finally{ar(u)}}}}function ar(u,m){if(u.g){Zs(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ie(u,"ready");try{_.onreadystatechange=T}catch{}}}function Zs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Je(m)}};function os(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(W(u[T]))continue;var _=V(u[T]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[z]||[];m[z]=H,H.push(_)}I(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function jo(u){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,u),this.cb=us("retryDelaySeedMs",1e4,u),this.Wa=us("forwardChannelMaxRetries",2,u),this.wa=us("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(u&&u.concurrentRequestLimit),this.Da=new Pn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=jo.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,T){Le(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Yo(this,null,this.W),$s(this)};function ll(u){if(Bo(u),u.G==3){var m=u.U++,_=ue(u.I);if(jt(_,"SID",u.K),jt(_,"RID",m),jt(_,"TYPE","terminate"),cs(u,_),m=new $n(u,u.j,m),m.L=2,m.v=ss(ue(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Ko(m.j,null),m.g.ea(m.v)),m.F=Date.now(),kn(m)}hl(u)}function lr(u){u.g&&(cl(u),u.g.cancel(),u.g=null)}function Bo(u){lr(u),u.u&&(g.clearTimeout(u.u),u.u=null),or(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function $s(u){if(!el(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||Ut(),ct||(et(),ct=!0),It.add(m,u),u.B=0}}function oh(u,m){return Vo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Xi(D(u.Ga,u,m),Qo(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new $n(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(z.H=H,H=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=ol(this,z,m),_=ue(this.I),jt(_,"RID",u),jt(_,"CVER",22),this.D&&jt(_,"X-HTTP-Session-Id",this.D),cs(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(as(H)))+"&"+m:this.m&&rr(_,this.m,H)),tr(this.h,z),this.Ua&&jt(_,"TYPE","init"),this.P?(jt(_,"$req",m),jt(_,"SID","null"),z.T=!0,ns(z,_,null)):ns(z,_,m),this.G=2}}else this.G==3&&(u?qo(this,u):this.i.length==0||el(this.h)||qo(this))};function qo(u,m){var _;m?_=m.l:_=u.U++;const T=ue(u.I);jt(T,"SID",u.K),jt(T,"RID",_),jt(T,"AID",u.T),cs(u,T),u.m&&u.o&&rr(T,u.m,u.o),_=new $n(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ol(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),tr(u.h,_),ns(_,T,m)}function cs(u,m){u.H&&pt(u.H,function(_,T){jt(m,T,_)}),u.l&&Fs({},function(_,T){jt(m,T,_)})}function ol(u,m,_){_=Math.min(u.i.length,_);var T=u.l?D(u.l.Na,u.l,u):null;t:{var z=u.i;let H=-1;for(;;){const st=["count="+_];H==-1?0<_?(H=z[0].g,st.push("ofs="+H)):H=0:st.push("ofs="+H);let Gt=!0;for(let ye=0;ye<_;ye++){let Rt=z[ye].g;const De=z[ye].map;if(Rt-=H,0>Rt)H=Math.max(0,z[ye].g-100),Gt=!1;else try{al(De,st,"req"+Rt+"_")}catch{T&&T(De)}}if(Gt){T=st.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function Ho(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||Ut(),ct||(et(),ct=!0),It.add(m,u),u.v=0}}function ul(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Xi(D(u.Fa,u),Qo(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Fo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Xi(D(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),lr(this),Fo(this))};function cl(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Fo(u){u.g=new $n(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ue(u.qa);jt(m,"RID","rpc"),jt(m,"SID",u.K),jt(m,"AID",u.T),jt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&jt(m,"TO",u.ja),jt(m,"TYPE","xmlhttp"),cs(u,m),u.m&&u.o&&rr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ss(ue(m)),_.m=null,_.P=!0,vi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,lr(this),ul(this),Le(19))};function or(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Go(u,m){var _=null;if(u.g==m){or(u),cl(u),u.g=null;var T=2}else if(Wi(u.h,m))_=m.D,bn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=qs(),Ie(T,new Za(T,_)),$s(u)}else Ho(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&oh(u,m)||T==2&&ul(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),z){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function Qo(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var _=D(u.fb,u),T=u.Xa;const z=!T;T=new Ti(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||er(T,"https"),ss(T),z?sl(T.toString(),_):Lo(T.toString(),_)}else Le(2);u.G=0,u.l&&u.l.sa(m),hl(u),Bo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function hl(u){if(u.G=0,u.ka=[],u.l){const m=tn(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ka,m),Q(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function Yo(u,m,_){var T=_ instanceof Ti?ue(_):new Ti(_);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var H=new Ti(null);T&&er(H,T),m&&(H.g=m),z&&rs(H,z),_&&(H.l=_),T=H}return _=u.D,m=u.ya,_&&m&&jt(T,_,m),jt(T,"VER",u.la),cs(u,T),T}function Ko(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new te(new ti({eb:_})):new te(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xo(){}a=Xo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Js(){}Js.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){be.call(this),this.g=new jo(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!W(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!W(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ur(this)}tt(nn,be),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){ll(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=An(u),u=_);m.i.push(new ih(m.Ya++,u)),m.G==3&&$s(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,nn.aa.N.call(this)};function Zo(u){Qi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}tt(Zo,Qi);function $o(){Ln.call(this),this.status=1}tt($o,Ln);function ur(u){this.g=u}tt(ur,Xo),ur.prototype.ua=function(){Ie(this.g,"a")},ur.prototype.ta=function(u){Ie(this.g,new Zo(u))},ur.prototype.sa=function(u){Ie(this.g,new $o)},ur.prototype.ra=function(){Ie(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,i0=function(){return new Js},n0=function(){return qs()},e0=Sn,Id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,uc=oe,ke.COMPLETE="complete",t0=ke,es.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",be.prototype.listen=be.prototype.K,Xl=es,te.prototype.listenOnce=te.prototype.L,te.prototype.getLastError=te.prototype.Ka,te.prototype.getLastErrorCode=te.prototype.Ba,te.prototype.getStatus=te.prototype.Z,te.prototype.getResponseJson=te.prototype.Oa,te.prototype.getResponseText=te.prototype.oa,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Ha,Wv=te}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const b_="@firebase/firestore",w_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Yd("@firebase/firestore");function Ca(){return xs.logLevel}function at(a,...t){if(xs.logLevel<=Vt.DEBUG){const i=t.map($d);xs.debug(`Firestore (${qa}): ${a}`,...i)}}function Hi(a,...t){if(xs.logLevel<=Vt.ERROR){const i=t.map($d);xs.error(`Firestore (${qa}): ${a}`,...i)}}function Hr(a,...t){if(xs.logLevel<=Vt.WARN){const i=t.map($d);xs.warn(`Firestore (${qa}): ${a}`,...i)}}function $d(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,r0(a,s,i)}function r0(a,t,i){let s=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Hi(s),new Error(s)}function Qt(a,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||r0(t,o,s)}function Tt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Zr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class ab{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class lb{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new jr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new s0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class ob{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ub{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new ob(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>s(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=t.charAt(o[h]%62))}return s}}function Ct(a,t){return a<t?-1:a>t?1:0}function Nd(a,t){let i=0;for(;i<a.length&&i<t.length;){const s=a.codePointAt(i),o=t.codePointAt(i);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const h=a0(),d=fb(h.encode(C_(a,i)),h.encode(C_(t,i)));return d!==0?d:Ct(s,o)}}i+=s>65535?2:1}return Ct(a.length,t.length)}function C_(a,t){return a.codePointAt(t)>65535?a.substring(t,t+2):a.substring(t,t+1)}function fb(a,t){for(let i=0;i<a.length&&i<t.length;++i)if(a[i]!==t[i])return Ct(a[i],t[i]);return Ct(a.length,t.length)}function La(a,t,i){return a.length===t.length&&a.every(((s,o)=>i(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class ai{constructor(t,i,s){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&yt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const h=ai.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return Ct(t.length,i.length)}static compareSegments(t,i){const s=ai.isNumericId(t),o=ai.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(t).compare(ai.extractNumericId(i)):Nd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pr.fromString(t.substring(4,t.length-2))}}class ie extends ai{construct(t,i,s){return new ie(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const db=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends ai{construct(t,i,s){return new Fe(t,i,s)}static isValidIdentifier(t){return db.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new Fe([I_])}static fromServerFormat(t){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ft(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ft(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ft(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ie.fromString(t))}static fromName(t){return new mt(ie.fromString(t).popFirst(5))}static empty(){return new mt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(a,t,i){if(!i)throw new ft(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function mb(a,t,i,s){if(t===!0&&s===!0)throw new ft(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function N_(a){if(!mt.isDocumentKey(a))throw new ft(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function D_(a){if(mt.isDocumentKey(a))throw new ft(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function o0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Wd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":yt(12329,{type:typeof a})}function uo(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ft(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wd(a);throw new ft(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(a,t){const i={typeString:a};return t&&(i.value=t),i}function Ao(a,t){if(!o0(a))throw new ft(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,h="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ft(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=-62135596800,O_=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(t){return Wt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*O_);return new Wt(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<x_)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ao(t,Wt._jsonSchema))return new Wt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-x_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:Se("string",Wt._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new Wt(0,0))}static max(){return new vt(new Wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=-1;function gb(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new Wt(i+1,0):new Wt(i,s));return new Fr(o,mt.empty(),t)}function pb(a){return new Fr(a.readTime,a.key,co)}class Fr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Fr(vt.min(),mt.empty(),co)}static max(){return new Fr(vt.max(),mt.empty(),co)}}function yb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(a.documentKey,t.documentKey),i!==0?i:Ct(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==_b)throw a;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,s)=>{i(t)}))}static reject(t){return new $(((i,s)=>{s(t)}))}static waitFor(t){return new $(((i,s)=>{let o=0,h=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(y=>s(y)))})),d=!0,h===o&&i()}))}static or(t){let i=$.resolve(!1);for(const s of t)i=i.next((o=>o?$.resolve(o):s()));return i}static forEach(t,i){const s=[];return t.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(t,i){return new $(((s,o)=>{const h=t.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const v=y;i(t[v]).next((A=>{d[v]=A,++g,g===h&&s(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new $(((s,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):s()};h()}))}}function Eb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fa(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Pc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=-1;function jc(a){return a==null}function Sc(a){return a===0&&1/a==-1/0}function Tb(a){return typeof a=="number"&&Number.isInteger(a)&&!Sc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="";function Ab(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=V_(t)),t=Sb(a.get(i),t);return V_(t)}function Sb(a,t){let i=t;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case u0:i+="";break;default:i+=h}}return i}function V_(a){return a+u0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ms(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function c0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ic(this.root,t,this.comparator,!0)}}class ic{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?s(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,s,o,h){this.key=t,this.value=i,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,h){return new He(t??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const h=s(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,s,o,h){return this}insert(t,i,s){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(t){return new U_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ce(this.comparator);return i.data=t,i}}class U_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Gn([])}unionWith(t){let i=new Ce(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Gn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return La(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new h0("Invalid base64 string: "+h):h}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const bb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(a){if(Qt(!!a,39018),typeof a=="string"){let t=0;const i=bb.exec(a);if(Qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Qr(a){return typeof a=="string"?Ge.fromBase64String(a):Ge.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="server_timestamp",d0="__type__",m0="__previous_value__",g0="__local_write_time__";function em(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[d0])===null||i===void 0?void 0:i.stringValue)===f0}function Bc(a){const t=a.mapValue.fields[m0];return em(t)?Bc(t):t}function ho(a){const t=Gr(a.mapValue.fields[g0].timestampValue);return new Wt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,i,s,o,h,d,g,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const bc="(default)";class fo{constructor(t,i){this.projectId=t,this.database=i||bc}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===bc}isEqual(t){return t instanceof fo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__type__",Rb="__max__",rc={mapValue:{}},y0="__vector__",wc="value";function Yr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?em(a)?4:Ib(a)?9007199254740991:Cb(a)?10:11:yt(28295,{value:a})}function fi(a,t){if(a===t)return!0;const i=Yr(a);if(i!==Yr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return ho(a).isEqual(ho(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Gr(o.timestampValue),g=Gr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,h){return Qr(o.bytesValue).isEqual(Qr(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(a,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),g=ge(h.doubleValue);return d===g?Sc(d)===Sc(g):isNaN(d)&&isNaN(g)}return!1})(a,t);case 9:return La(a.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(M_(d)!==M_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!fi(d[y],g[y])))return!1;return!0})(a,t);default:return yt(52216,{left:a})}}function mo(a,t){return(a.values||[]).find((i=>fi(i,t)))!==void 0}function ka(a,t){if(a===t)return 0;const i=Yr(a),s=Yr(t);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const g=ge(h.integerValue||h.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(a,t);case 3:return z_(a.timestampValue,t.timestampValue);case 4:return z_(ho(a),ho(t));case 5:return Nd(a.stringValue,t.stringValue);case 6:return(function(h,d){const g=Qr(h),y=Qr(d);return g.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const g=h.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const A=Ct(g[v],y[v]);if(A!==0)return A}return Ct(g.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const g=Ct(ge(h.latitude),ge(d.latitude));return g!==0?g:Ct(ge(h.longitude),ge(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return L_(a.arrayValue,t.arrayValue);case 10:return(function(h,d){var g,y,v,A;const b=h.fields||{},D=d.fields||{},F=(g=b[wc])===null||g===void 0?void 0:g.arrayValue,tt=(y=D[wc])===null||y===void 0?void 0:y.arrayValue,it=Ct(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((A=tt==null?void 0:tt.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:L_(F,tt)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===rc.mapValue&&d===rc.mapValue)return 0;if(h===rc.mapValue)return 1;if(d===rc.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const D=Nd(y[b],A[b]);if(D!==0)return D;const F=ka(g[y[b]],v[A[b]]);if(F!==0)return F}return Ct(y.length,A.length)})(a.mapValue,t.mapValue);default:throw yt(23264,{le:i})}}function z_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ct(a,t);const i=Gr(a),s=Gr(t),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function L_(a,t){const i=a.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=ka(i[o],s[o]);if(h)return h}return Ct(i.length,s.length)}function Pa(a){return Dd(a)}function Dd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Gr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Qr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return mt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Dd(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Dd(i.fields[d])}`;return o+"}"})(a.mapValue):yt(61005,{value:a})}function cc(a){switch(Yr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bc(a);return t?16+cc(t):16;case 5:return 2*a.stringValue.length;case 6:return Qr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+cc(h)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Ms(s.fields,((h,d)=>{o+=h.length+cc(d)})),o})(a.mapValue);default:throw yt(13486,{value:a})}}function xd(a){return!!a&&"integerValue"in a}function nm(a){return!!a&&"arrayValue"in a}function k_(a){return!!a&&"nullValue"in a}function P_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function hc(a){return!!a&&"mapValue"in a}function Cb(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[p0])===null||i===void 0?void 0:i.stringValue)===y0}function no(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return Ms(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=no(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=no(a.arrayValue.values[i]);return t}return Object.assign({},a)}function Ib(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Rb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=no(i)}setAll(t){let i=Fe.emptyPath(),s={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=no(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(t){const i=this.field(t.popLast());hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Ms(i,((o,h)=>t[o]=h));for(const o of s)delete t[o]}clone(){return new Mn(no(this.value))}}function _0(a){const t=[];return Ms(a.fields,((i,s)=>{const o=new Fe([i]);if(hc(s)){const h=_0(s.mapValue).fields;if(h.length===0)t.push(o);else for(const d of h)t.push(o.child(d))}else t.push(o)})),new Gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,i,s,o,h,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,vt.min(),vt.min(),vt.min(),Mn.empty(),0)}static newFoundDocument(t,i,s,o){return new $e(t,1,i,vt.min(),s,o,0)}static newNoDocument(t,i){return new $e(t,2,i,vt.min(),vt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,vt.min(),vt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i){this.position=t,this.inclusive=i}}function j_(a,t,i){let s=0;for(let o=0;o<a.position.length;o++){const h=t[o],d=a.position[o];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=ka(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function B_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!fi(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Nb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{}class Re extends v0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new xb(t,i,s):i==="array-contains"?new Mb(t,s):i==="in"?new Ub(t,s):i==="not-in"?new zb(t,s):i==="array-contains-any"?new Lb(t,s):new Re(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Ob(t,s):new Vb(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ka(i,this.value)):i!==null&&Yr(this.value)===Yr(i)&&this.matchesComparison(ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends v0{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new di(t,i)}matches(t){return E0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function E0(a){return a.op==="and"}function T0(a){return Db(a)&&E0(a)}function Db(a){for(const t of a.filters)if(t instanceof di)return!1;return!0}function Od(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+Pa(a.value);if(T0(a))return a.filters.map((t=>Od(t))).join(",");{const t=a.filters.map((i=>Od(i))).join(",");return`${a.op}(${t})`}}function A0(a,t){return a instanceof Re?(function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&fi(s.value,o.value)})(a,t):a instanceof di?(function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,g)=>h&&A0(d,o.filters[g])),!0):!1})(a,t):void yt(19439)}function S0(a){return a instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Pa(i.value)}`})(a):a instanceof di?(function(i){return i.op.toString()+" {"+i.getFilters().map(S0).join(" ,")+"}"})(a):"Filter"}class xb extends Re{constructor(t,i,s){super(t,i,s),this.key=mt.fromName(s.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Ob extends Re{constructor(t,i){super(t,"in",i),this.keys=b0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Vb extends Re{constructor(t,i){super(t,"not-in",i),this.keys=b0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function b0(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((s=>mt.fromName(s.referenceValue)))}class Mb extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return nm(i)&&mo(i.arrayValue,this.value)}}class Ub extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&mo(this.value.arrayValue,i)}}class zb extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!mo(this.value.arrayValue,i)}}class Lb extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>mo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,i=null,s=[],o=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function q_(a,t=null,i=[],s=[],o=null,h=null,d=null){return new kb(a,t,i,s,o,h,d)}function im(a){const t=Tt(a);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Od(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),jc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Pa(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Pa(s))).join(",")),t.Pe=i}return t.Pe}function rm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Nb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!A0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!B_(a.startAt,t.startAt)&&B_(a.endAt,t.endAt)}function Vd(a){return mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i=null,s=[],o=[],h=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Pb(a,t,i,s,o,h,d,g){return new qc(a,t,i,s,o,h,d,g)}function w0(a){return new qc(a)}function H_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function jb(a){return a.collectionGroup!==null}function io(a){const t=Tt(a);if(t.Te===null){t.Te=[];const i=new Set;for(const h of t.explicitOrderBy)t.Te.push(h),i.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(Fe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Te.push(new Cc(h,s))})),i.has(Fe.keyField().canonicalString())||t.Te.push(new Cc(Fe.keyField(),s))}return t.Te}function li(a){const t=Tt(a);return t.Ie||(t.Ie=Bb(t,io(a))),t.Ie}function Bb(a,t){if(a.limitType==="F")return q_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Cc(o.field,h)}));const i=a.endAt?new Rc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Rc(a.startAt.position,a.startAt.inclusive):null;return q_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Md(a,t,i){return new qc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Hc(a,t){return rm(li(a),li(t))&&a.limitType===t.limitType}function R0(a){return`${im(li(a))}|lt:${a.limitType}`}function Ia(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>S0(o))).join(", ")}]`),jc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Pa(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Pa(o))).join(",")),`Target(${s})`})(li(a))}; limitType=${a.limitType})`}function Fc(a,t){return t.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,t)&&(function(s,o){for(const h of io(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(a,t)&&(function(s,o){return!(s.startAt&&!(function(d,g,y){const v=j_(d,g,y);return d.inclusive?v<=0:v<0})(s.startAt,io(s),o)||s.endAt&&!(function(d,g,y){const v=j_(d,g,y);return d.inclusive?v>=0:v>0})(s.endAt,io(s),o))})(a,t)}function qb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function C0(a){return(t,i)=>{let s=!1;for(const o of io(a)){const h=Hb(o,t,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function Hb(a,t,i){const s=a.field.isKeyField()?mt.comparator(t.key,i.key):(function(h,d,g){const y=d.data.field(h),v=g.data.field(h);return y!==null&&v!==null?ka(y,v):yt(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,((i,s)=>{for(const[o,h]of s)t(o,h)}))}isEmpty(){return c0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new le(mt.comparator);function Fi(){return Fb}const I0=new le(mt.comparator);function Zl(...a){let t=I0;for(const i of a)t=t.insert(i.key,i);return t}function N0(a){let t=I0;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ns(){return ro()}function D0(){return ro()}function ro(){return new Us((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Gb=new le(mt.comparator),Qb=new Ce(mt.comparator);function Mt(...a){let t=Qb;for(const i of a)t=t.add(i);return t}const Yb=new Ce(Ct);function Kb(){return Yb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(t)?"-0":t}}function x0(a){return{integerValue:""+a}}function Xb(a,t){return Tb(t)?x0(t):sm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function Zb(a,t,i){return a instanceof Ic?(function(o,h){const d={fields:{[d0]:{stringValue:f0},[g0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&em(h)&&(h=Bc(h)),h&&(d.fields[m0]=h),{mapValue:d}})(i,t):a instanceof go?V0(a,t):a instanceof po?M0(a,t):(function(o,h){const d=O0(o,h),g=F_(d)+F_(o.Ee);return xd(d)&&xd(o.Ee)?x0(g):sm(o.serializer,g)})(a,t)}function $b(a,t,i){return a instanceof go?V0(a,t):a instanceof po?M0(a,t):i}function O0(a,t){return a instanceof Nc?(function(s){return xd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(t)?t:{integerValue:0}:null}class Ic extends Gc{}class go extends Gc{constructor(t){super(),this.elements=t}}function V0(a,t){const i=U0(t);for(const s of a.elements)i.some((o=>fi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class po extends Gc{constructor(t){super(),this.elements=t}}function M0(a,t){let i=U0(t);for(const s of a.elements)i=i.filter((o=>!fi(o,s)));return{arrayValue:{values:i}}}class Nc extends Gc{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function F_(a){return ge(a.integerValue||a.doubleValue)}function U0(a){return nm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Jb(a,t){return a.field.isEqual(t.field)&&(function(s,o){return s instanceof go&&o instanceof go||s instanceof po&&o instanceof po?La(s.elements,o.elements,fi):s instanceof Nc&&o instanceof Nc?fi(s.Ee,o.Ee):s instanceof Ic&&o instanceof Ic})(a.transform,t.transform)}class Wb{constructor(t,i){this.version=t,this.transformResults=i}}class Bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Qc{}function z0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new k0(a.key,Bi.none()):new So(a.key,a.data,Bi.none());{const i=a.data,s=Mn.empty();let o=new Ce(Fe.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new zs(a.key,s,new Gn(o.toArray()),Bi.none())}}function tw(a,t,i){a instanceof So?(function(o,h,d){const g=o.value.clone(),y=Q_(o.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,t,i):a instanceof zs?(function(o,h,d){if(!fc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Q_(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(L0(o)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function so(a,t,i,s){return a instanceof So?(function(h,d,g,y){if(!fc(h.precondition,d))return g;const v=h.value.clone(),A=Y_(h.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,s):a instanceof zs?(function(h,d,g,y){if(!fc(h.precondition,d))return g;const v=Y_(h.fieldTransforms,y,d),A=d.data;return A.setAll(L0(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(a,t,i,s):(function(h,d,g){return fc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,t,i)}function ew(a,t){let i=null;for(const s of a.fieldTransforms){const o=t.data.field(s.field),h=O0(s.transform,o||null);h!=null&&(i===null&&(i=Mn.empty()),i.set(s.field,h))}return i||null}function G_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&La(s,o,((h,d)=>Jb(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class So extends Qc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends Qc{constructor(t,i,s,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function L0(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function Q_(a,t,i){const s=new Map;Qt(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=t.data.field(h.field);s.set(h.field,$b(d,g,i[o]))}return s}function Y_(a,t,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,Zb(h,d,t))}return s}class k0 extends Qc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nw extends Qc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&tw(h,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=so(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=so(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=D0();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const y=z0(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&La(this.mutations,t.mutations,((i,s)=>G_(i,s)))&&La(this.baseMutations,t.baseMutations,((i,s)=>G_(i,s)))}}class am{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Qt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return Gb})();const h=t.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new am(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Pt;function aw(a){switch(a){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:a})}}function P0(a){if(a===void 0)return Hi("GRPC error has no .code"),J.UNKNOWN;switch(a){case Ae.OK:return J.OK;case Ae.CANCELLED:return J.CANCELLED;case Ae.UNKNOWN:return J.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return J.INTERNAL;case Ae.UNAVAILABLE:return J.UNAVAILABLE;case Ae.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ae.NOT_FOUND:return J.NOT_FOUND;case Ae.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ae.ABORTED:return J.ABORTED;case Ae.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ae.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:a})}}(Pt=Ae||(Ae={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Pr([4294967295,4294967295],0);function K_(a){const t=a0().encode(a),i=new Jv;return i.update(t),new Uint8Array(i.digest())}function X_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Pr([i,s],0),new Pr([o,h],0)]}class lm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new $l(`Invalid padding: ${i}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new $l(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=Pr.fromNumber(this.fe)}pe(t,i,s){let o=t.add(i.multiply(Pr.fromNumber(s)));return o.compare(lw)===1&&(o=new Pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=K_(t),[s,o]=X_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);if(!this.ye(d))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new lm(h,o,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.fe===0)return;const i=K_(t),[s,o]=X_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);this.we(d)}}we(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i,s,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,bo.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Yc(vt.min(),o,new le(Ct),Fi(),Mt())}}class bo{constructor(t,i,s,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new bo(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,i,s,o){this.Se=t,this.removedTargetIds=i,this.key=s,this.be=o}}class j0{constructor(t,i){this.targetId=t,this.De=i}}class B0{constructor(t,i,s=Ge.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Z_{constructor(){this.ve=0,this.Ce=$_(),this.Fe=Ge.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Mt(),i=Mt(),s=Mt();return this.Ce.forEach(((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:h})}})),new bo(this.Fe,this.Me,t,i,s)}ke(){this.xe=!1,this.Ce=$_()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ow{constructor(t){this.We=t,this.Ge=new Map,this.ze=Fi(),this.je=sc(),this.Je=sc(),this.He=new le(Ct)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,(i=>{const s=this.tt(i);switch(t.state){case 0:this.nt(i)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach(((s,o)=>{this.nt(o)&&i(o)}))}it(t){const i=t.targetId,s=t.De.count,o=this.st(i);if(o){const h=o.target;if(Vd(h))if(s===0){const d=new mt(h.path);this.Xe(i,d,$e.newNoDocument(d,vt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(t),y=g?this.ut(g,t,d):1;if(y!==0){this.rt(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Qr(s).toUint8Array()}catch(y){if(y instanceof h0)return Hr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new lm(d,o,h)}catch(y){return Hr(y instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.fe===0?null:g}ut(t,i,s){return i.De.count===s-this.ht(t,i.targetId)?0:2}ht(t,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.Xe(i,h,null),o++)})),o}Pt(t){const i=new Map;this.Ge.forEach(((h,d)=>{const g=this.st(d);if(g){if(h.current&&Vd(g.target)){const y=new mt(g.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,$e.newNoDocument(y,t))}h.Ne&&(i.set(d,h.Le()),h.ke())}}));let s=Mt();this.Je.forEach(((h,d)=>{let g=!0;d.forEachWhile((y=>{const v=this.st(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(h))})),this.ze.forEach(((h,d)=>d.setReadTime(t)));const o=new Yc(t,i,this.He,this.ze,s);return this.ze=Fi(),this.je=sc(),this.Je=sc(),this.He=new le(Ct),o}Ze(t,i){if(!this.nt(t))return;const s=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new Z_,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new Ce(Ct),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new Ce(Ct),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Z_),this.We.getRemoteKeysForTarget(t).forEach((i=>{this.Xe(t,i,null)}))}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function sc(){return new le(mt.comparator)}function $_(){return new le(mt.comparator)}const uw={asc:"ASCENDING",desc:"DESCENDING"},cw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hw={and:"AND",or:"OR"};class fw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Ud(a,t){return a.useProto3Json||jc(t)?t:{value:t}}function Dc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function q0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function dw(a,t){return Dc(a,t.toTimestamp())}function oi(a){return Qt(!!a,49232),vt.fromTimestamp((function(i){const s=Gr(i);return new Wt(s.seconds,s.nanos)})(a))}function om(a,t){return zd(a,t).canonicalString()}function zd(a,t){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function H0(a){const t=ie.fromString(a);return Qt(K0(t),10190,{key:t.toString()}),t}function Ld(a,t){return om(a.databaseId,t.path)}function pd(a,t){const i=H0(t);if(i.get(1)!==a.databaseId.projectId)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new mt(G0(i))}function F0(a,t){return om(a.databaseId,t)}function mw(a){const t=H0(a);return t.length===4?ie.emptyPath():G0(t)}function kd(a){return new ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function G0(a){return Qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function J_(a,t,i){return{name:Ld(a,t),fields:i.value.mapValue.fields}}function gw(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=(function(v,A){return v.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?J.UNKNOWN:P0(v.code);return new ft(A,v.message||"")})(d);i=new B0(s,o,h,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=pd(a,s.document.name),h=oi(s.document.updateTime),d=s.document.createTime?oi(s.document.createTime):vt.min(),g=new Mn({mapValue:{fields:s.document.fields}}),y=$e.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new dc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=pd(a,s.document),h=s.readTime?oi(s.readTime):vt.min(),d=$e.newNoDocument(o,h),g=s.removedTargetIds||[];i=new dc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=pd(a,s.document),h=s.removedTargetIds||[];i=new dc([],h,o,null)}else{if(!("filter"in t))return yt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new sw(o,h),g=s.targetId;i=new j0(g,d)}}return i}function pw(a,t){let i;if(t instanceof So)i={update:J_(a,t.key,t.value)};else if(t instanceof k0)i={delete:Ld(a,t.key)};else if(t instanceof zs)i={update:J_(a,t.key,t.data),updateMask:ww(t.fieldMask)};else{if(!(t instanceof nw))return yt(16599,{Rt:t.type});i={verify:Ld(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(h,d){const g=d.transform;if(g instanceof Ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Nc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw yt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:dw(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(a,t.precondition)),i}function yw(a,t){return a&&a.length>0?(Qt(t!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?oi(o.updateTime):oi(h);return d.isEqual(vt.min())&&(d=oi(h)),new Wb(d,o.transformResults||[])})(i,t)))):[]}function _w(a,t){return{documents:[F0(a,t.path)]}}function vw(a,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=F0(a,o);const h=(function(v){if(v.length!==0)return Y0(di.create(v,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((A=>(function(D){return{field:Na(D.field),direction:Aw(D.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Ud(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{Vt:i,parent:o}}function Ew(a){let t=mw(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const D=Q0(b);return D instanceof di&&T0(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((D=>(function(tt){return new Cc(Da(tt.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let D;return D=typeof b=="object"?b.value:b,jc(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(b){const D=!!b.before,F=b.values||[];return new Rc(F,D)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const D=!b.before,F=b.values||[];return new Rc(F,D)})(i.endAt)),Pb(t,o,d,h,g,"F",y,v)}function Tw(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Q0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Da(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Da(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Da(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Da(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Re.create(Da(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return di.create(i.compositeFilter.filters.map((s=>Q0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(a):yt(30097,{filter:a})}function Aw(a){return uw[a]}function Sw(a){return cw[a]}function bw(a){return hw[a]}function Na(a){return{fieldPath:a.canonicalString()}}function Da(a){return Fe.fromServerFormat(a.fieldPath)}function Y0(a){return a instanceof Re?(function(i){if(i.op==="=="){if(P_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NAN"}};if(k_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NAN"}};if(k_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(i.field),op:Sw(i.op),value:i.value}}})(a):a instanceof di?(function(i){const s=i.getFilters().map((o=>Y0(o)));return s.length===1?s[0]:{compositeFilter:{op:bw(i.op),filters:s}}})(a):yt(54877,{filter:a})}function ww(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function K0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,i,s,o,h=vt.min(),d=vt.min(),g=Ge.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t){this.gt=t}}function Cw(a){const t=Ew({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Md(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.Dn=new Nw}addToCollectionParentIndex(t,i){return this.Dn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Fr.min())}updateCollectionGroup(t,i,s){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Nw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Ce(ie.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X0=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(X0,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new ja(0)}static ur(){return new ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="LruGarbageCollector",Dw=1048576;function ev([a,t],[i,s]){const o=Ct(a,i);return o===0?Ct(t,s):o}class xw{constructor(t){this.Tr=t,this.buffer=new Ce(ev),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();ev(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ow{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){at(tv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fa(i)?at(tv,"Ignoring IndexedDB error during garbage collection: ",i):await Ha(i)}await this.Rr(3e5)}))}}class Vw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Pc.ue);const s=new xw(i);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(W_)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.pr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let s,o,h,d,g,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,g=Date.now(),this.removeTargets(t,s,i)))).next((b=>(h=b,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(v=Date.now(),Ca()<=Vt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${b} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b}))))}}function Mw(a,t){return new Vw(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.changes=new Us((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(s!==null&&so(s.mutation,o,Gn.empty(),Wt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Mt()){const o=Ns();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,s).next((h=>{let d=Zl();return h.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ns();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Mt())))}populateOverlays(t,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,o){let h=Fi();const d=ro(),g=(function(){return ro()})();return i.forEach(((y,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof zs)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),so(A.mutation,v,A.mutation.getFieldMask(),Wt.now())):d.set(v.key,Gn.empty())})),this.recalculateAndSaveOverlays(t,h).next((y=>(y.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var b;return g.set(v,new zw(A,(b=d.get(v))!==null&&b!==void 0?b:null))})),g)))}recalculateAndSaveOverlays(t,i){const s=ro();let o=new le(((d,g)=>d-g)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let A=s.get(y)||Gn.empty();A=g.applyToLocalView(v,A),s.set(y,A);const b=(o.get(g.batchId)||Mt()).add(y);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,A=y.value,b=D0();A.forEach((D=>{if(!h.has(D)){const F=z0(i.get(D),s.get(D));F!==null&&b.set(D,F),h=h.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):jb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-h.size):$.resolve(Ns());let g=co,y=h;return d.next((v=>$.forEach(v,((A,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),h.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((D=>{y=y.insert(A,D)}))))).next((()=>this.populateOverlays(t,v,h))).next((()=>this.computeViews(t,y,v,Mt()))).next((A=>({batchId:g,changes:N0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const h=i.collectionGroup;let d=Zl();return this.indexManager.getCollectionParents(t,h).next((g=>$.forEach(g,(y=>{const v=(function(b,D){return new qc(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,s,o).next((A=>{A.forEach(((b,D)=>{d=d.insert(b,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,h,o)))).next((d=>{h.forEach(((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))}));let g=Zl();return d.forEach(((y,v)=>{const A=h.get(y);A!==void 0&&so(A.mutation,v,Gn.empty(),Wt.now()),Fc(i,v)&&(g=g.insert(y,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return $.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,(function(o){return{name:o.name,query:Cw(o.bundledQuery),readTime:oi(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.overlays=new le(mt.comparator),this.kr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ns();return $.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((o,h)=>{this.wt(t,i,h)})),$.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.kr.delete(s)),$.resolve()}getOverlaysForCollection(t,i,s){const o=Ns(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&y.largestBatchId>s&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let h=new le(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=Ns(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Ns(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=o)););return $.resolve(g)}wt(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new rw(i,s));let h=this.kr.get(i);h===void 0&&(h=Mt(),this.kr.set(i,h)),this.kr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.qr=new Ce(Ve.Qr),this.$r=new Ce(Ve.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const s=new Ve(t,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new Ve(t,i))}Gr(t,i){t.forEach((s=>this.removeReference(s,i)))}zr(t){const i=new mt(new ie([])),s=new Ve(i,t),o=new Ve(i,t+1),h=[];return this.$r.forEachInRange([s,o],(d=>{this.Wr(d),h.push(d.key)})),h}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new mt(new ie([])),s=new Ve(i,t),o=new Ve(i,t+1);let h=Mt();return this.$r.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ve(t,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return mt.comparator(t.key,i.key)||Ct(t.Hr,i.Hr)}static Ur(t,i){return Ct(t.Hr,i.Hr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ce(Ve.Qr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iw(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Ve(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?tm:this.er-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([s,o],(d=>{const g=this.Zr(d.Hr);h.push(g)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ce(Ct);return i.forEach((o=>{const h=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],(g=>{s=s.add(g.Hr)}))})),$.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new mt(h),0);let g=new Ce(Ct);return this.Yr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.Hr)),!0)}),d),$.resolve(this.ei(g))}ei(t){const i=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return $.forEach(i.mutations,(o=>{const h=new Ve(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,i){const s=new Ve(i,0),o=this.Yr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.ni=t,this.docs=(function(){return new le(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let s=Fi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():$e.newInvalidDocument(o))})),$.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let h=Fi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||yb(pb(A),s)<=0||(o.has(A.key)||Fc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(t,i,s,o){yt(9500)}ri(t,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new Hw(this)}getSize(t){return $.resolve(this.size)}}class Hw extends Uw{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),$.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.persistence=t,this.ii=new Us((i=>im(i)),rm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.si=0,this.oi=new um,this.targetCount=0,this._i=ja.ar()}forEachTarget(t,i){return this.ii.forEach(((s,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),$.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new ja(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.hr(i),$.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,s){let o=0;const h=[];return this.ii.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const s=this.ii.get(i)||null;return $.resolve(s)}addMatchingKeys(t,i,s){return this.oi.Kr(i,s),$.resolve()}removeMatchingKeys(t,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const s=this.oi.Jr(i);return $.resolve(s)}containsKey(t,i){return $.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,i){this.ai={},this.overlays={},this.ui=new Pc(0),this.ci=!1,this.ci=!0,this.li=new jw,this.referenceDelegate=t(this),this.hi=new Fw(this),this.indexManager=new Iw,this.remoteDocumentCache=(function(o){return new qw(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new Rw(i),this.Ti=new kw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Pw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ai[t.toKey()];return s||(s=new Bw(i,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,s){at("MemoryPersistence","Starting transaction:",t);const o=new Gw(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(t,i){return $.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,i))))}}class Gw extends vb{constructor(t){super(),this.currentSequenceNumber=t}}class cm{constructor(t){this.persistence=t,this.Ai=new um,this.Ri=null}static Vi(t){return new cm(t)}get mi(){if(this.Ri)return this.Ri;throw yt(60996)}addReference(t,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),$.resolve()}removeReference(t,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.mi.add(h.toString())))})).next((()=>s.removeTargetData(t,i)))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,(s=>{const o=mt.fromPath(s);return this.fi(t,o).next((h=>{h||i.removeEntry(o,vt.min())}))})).next((()=>(this.Ri=null,i.apply(t))))}updateLimboDocument(t,i){return this.fi(t,i).next((s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())}))}Pi(t){return 0}fi(t,i){return $.or([()=>$.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class xc{constructor(t,i){this.persistence=t,this.gi=new Us((s=>Ab(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Mw(this,i)}static Vi(t,i){return new xc(t,i)}Ii(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((o=>s+o))))}yr(t){let i=0;return this.gr(t,(s=>{i++})).next((()=>i))}gr(t,i){return $.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((h=>h?$.resolve():i(o)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(t,(d=>this.Sr(t,d,i).next((g=>{g||(s++,h.removeEntry(d,vt.min()))})))).next((()=>h.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),$.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=cc(t.data.value)),i}Sr(t,i,s){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.gi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Is=s,this.ds=o}static Es(t,i){let s=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new hm(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return B1()?8:Eb(Qn())>0?6:4})()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,s,o){const h={result:null};return this.ps(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ys(t,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Qw;return this.ws(t,i,d).next((g=>{if(h.result=g,this.Rs)return this.Ss(t,i,d,g.size)}))})).next((()=>h.result))}Ss(t,i,s,o){return s.documentReadCount<this.Vs?(Ca()<=Vt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ia(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ca()<=Vt.DEBUG&&at("QueryEngine","Query:",Ia(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Ca()<=Vt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ia(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(i))):$.resolve())}ps(t,i){if(H_(i))return $.resolve(null);let s=li(i);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Md(i,null,"F"),s=li(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((h=>{const d=Mt(...h);return this.gs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const v=this.bs(i,g);return this.Ds(i,v,d,y.readTime)?this.ps(t,Md(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ys(t,i,s,o){return H_(i)||o.isEqual(vt.min())?$.resolve(null):this.gs.getDocuments(t,s).next((h=>{const d=this.bs(i,h);return this.Ds(i,d,s,o)?$.resolve(null):(Ca()<=Vt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ia(i)),this.vs(t,d,i,gb(o,co)).next((g=>g)))}))}bs(t,i){let s=new Ce(C0(t));return i.forEach(((o,h)=>{Fc(t,h)&&(s=s.add(h))})),s}Ds(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(t,i,s){return Ca()<=Vt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ia(i)),this.gs.getDocumentsMatchingQuery(t,i,Fr.min(),s)}vs(t,i,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="LocalStore",Kw=3e8;class Xw{constructor(t,i,s,o){this.persistence=t,this.Cs=i,this.serializer=o,this.Fs=new le(Ct),this.Ms=new Us((h=>im(h)),rm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Fs)))}}function Zw(a,t,i,s){return new Xw(a,t,i,s)}async function $0(a,t){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Ns(t),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],g=[];let y=Mt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next((v=>({Bs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function $w(a,t){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,A){const b=v.batch,D=b.keys();let F=$.resolve();return D.forEach((tt=>{F=F.next((()=>A.getEntry(y,tt))).next((it=>{const Q=v.docVersions.get(tt);Qt(Q!==null,48541),it.version.compareTo(Q)<0&&(b.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(y,b)))})(i,s,t,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Mt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function J0(a){const t=Tt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.hi.getLastRemoteSnapshotVersion(i)))}function Jw(a,t){const i=Tt(a),s=t.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];t.targetChanges.forEach(((A,b)=>{const D=o.get(b);if(!D)return;g.push(i.hi.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.hi.addMatchingKeys(h,A.addedDocuments,b))));let F=D.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(b)!==null?F=F.withResumeToken(Ge.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),o=o.insert(b,F),(function(it,Q,K){return it.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Kw?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(D,F,A)&&g.push(i.hi.updateTargetData(h,F))}));let y=Fi(),v=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(Ww(h,d,t.documentUpdates).next((A=>{y=A.Ls,v=A.ks}))),!s.isEqual(vt.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next((b=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,s)));g.push(A)}return $.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,y,v))).next((()=>y))})).then((h=>(i.Fs=o,h)))}function Ww(a,t,i){let s=Mt(),o=Mt();return i.forEach((h=>s=s.add(h))),t.getEntries(a,s).next((h=>{let d=Fi();return i.forEach(((g,y)=>{const v=h.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):at(fm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{Ls:d,ks:o}}))}function t2(a,t){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=tm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function e2(a,t){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.hi.getTargetData(s,t).next((h=>h?(o=h,$.resolve(o)):i.hi.allocateTargetId(s).next((d=>(o=new Ur(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(t,s.targetId)),s}))}async function Pd(a,t,i){const s=Tt(a),o=s.Fs.get(t),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Fa(d))throw d;at(fm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function nv(a,t,i){const s=Tt(a);let o=vt.min(),h=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,A){const b=Tt(y),D=b.Ms.get(A);return D!==void 0?$.resolve(b.Fs.get(D)):b.hi.getTargetData(v,A)})(s,d,li(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{h=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?h:Mt()))).next((g=>(n2(s,qb(t),g),{documents:g,qs:h})))))}function n2(a,t,i){let s=a.xs.get(t)||vt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.xs.set(t,s)}class iv{constructor(){this.activeTargetIds=Kb()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class i2{constructor(){this.Fo=new iv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,s){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new iv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="ConnectivityMonitor";class sv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){at(rv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){at(rv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function jd(){return ac===null?ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",s2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a2{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===bc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,i,s,o,h){const d=jd(),g=this.Go(t,i.toUriEncodedString());at(yd,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,o,h);const{host:v}=new URL(g),A=yo(v);return this.jo(t,g,y,s,A).then((b=>(at(yd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Hr(yd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",s),b}))}Jo(t,i,s,o,h,d){return this.Wo(t,i,s,o,h)}zo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),s&&s.headers.forEach(((o,h)=>t[h]=o))}Go(t,i){const s=s2[t];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class o2 extends a2{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,s,o,h){const d=jd();return new Promise(((g,y)=>{const v=new Wv;v.setWithCredentials(!0),v.listenOnce(t0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case uc.NO_ERROR:const b=v.getResponseJson();at(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case uc.TIMEOUT:at(Xe,`RPC '${t}' ${d} timed out`),y(new ft(J.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const D=v.getStatus();if(at(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F==null?void 0:F.error;if(tt&&tt.status&&tt.message){const it=(function(K){const W=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN})(tt.status);y(new ft(it,tt.message))}else y(new ft(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ft(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{c_:t,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{at(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Xe,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)}))}P_(t,i,s){const o=jd(),h=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=i0(),g=n0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=h.join("");at(Xe,`Creating RPC '${t}' stream ${o}: ${A}`,y);const b=d.createWebChannel(A,y);this.T_(b);let D=!1,F=!1;const tt=new l2({Ho:Q=>{F?at(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(D||(at(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),D=!0),at(Xe,`RPC '${t}' stream ${o} sending:`,Q),b.send(Q))},Yo:()=>b.close()}),it=(Q,K,W)=>{Q.listen(K,(rt=>{try{W(rt)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return it(b,Xl.EventType.OPEN,(()=>{F||(at(Xe,`RPC '${t}' stream ${o} transport opened.`),tt.s_())})),it(b,Xl.EventType.CLOSE,(()=>{F||(F=!0,at(Xe,`RPC '${t}' stream ${o} transport closed`),tt.__(),this.I_(b))})),it(b,Xl.EventType.ERROR,(Q=>{F||(F=!0,Hr(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),tt.__(new ft(J.UNAVAILABLE,"The operation could not be completed")))})),it(b,Xl.EventType.MESSAGE,(Q=>{var K;if(!F){const W=Q.data[0];Qt(!!W,16349);const rt=W,lt=(rt==null?void 0:rt.error)||((K=rt[0])===null||K===void 0?void 0:K.error);if(lt){at(Xe,`RPC '${t}' stream ${o} received error:`,lt);const At=lt.status;let pt=(function(w){const N=Ae[w];if(N!==void 0)return P0(N)})(At),I=lt.message;pt===void 0&&(pt=J.INTERNAL,I="Unknown error status: "+At+" with message "+lt.message),F=!0,tt.__(new ft(pt,I)),b.close()}else at(Xe,`RPC '${t}' stream ${o} received:`,W),tt.a_(W)}})),it(g,e0.STAT_EVENT,(Q=>{Q.stat===Id.PROXY?at(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===Id.NOPROXY&&at(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.o_()}),0),tt}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((i=>i===t))}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(a){return new fw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,i,s=1e3,o=1.5,h=6e4){this.Fi=t,this.timerId=i,this.d_=s,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="PersistentStream";class tE{constructor(t,i,s,o,h,d,g,y){this.Fi=t,this.w_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new W0(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===i&&this.W_(s,o)}),(s=>{t((()=>{const o=new ft(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,i){const s=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return at(av,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget((()=>this.b_===t?i():(at(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u2 extends tE{constructor(t,i,s,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=gw(this.serializer,t),s=(function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?oi(d.readTime):vt.min()})(t);return this.listener.J_(i,s)}H_(t){const i={};i.database=kd(this.serializer),i.addTarget=(function(h,d){let g;const y=d.target;if(g=Vd(y)?{documents:_w(h,y)}:{query:vw(h,y).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=q0(h,d.resumeToken);const v=Ud(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Dc(h,d.snapshotVersion.toTimestamp());const v=Ud(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const s=Tw(this.serializer,t);s&&(i.labels=s),this.k_(i)}Y_(t){const i={};i.database=kd(this.serializer),i.removeTarget=t,this.k_(i)}}class c2 extends tE{constructor(t,i,s,o,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=yw(t.writeResults,t.commitTime),s=oi(t.commitTime);return this.listener.ta(s,i)}na(){const t={};t.database=kd(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>pw(this.serializer,s)))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{}class f2 extends h2{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(t,zd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(J.UNKNOWN,h.toString())}))}Jo(t,i,s,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Jo(t,zd(i,s),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(J.UNKNOWN,d.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class d2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Hi(i),this._a=!1):at("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class m2{constructor(t,i,s,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo((d=>{s.enqueueAndForget((async()=>{Ls(this)&&(at(Os,"Restarting streams for network reachability change."),await(async function(y){const v=Tt(y);v.Ia.add(4),await wo(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Xc(v)})(this))}))})),this.Aa=new d2(s,o)}}async function Xc(a){if(Ls(a))for(const t of a.da)await t(!0)}async function wo(a){for(const t of a.da)await t(!1)}function eE(a,t){const i=Tt(a);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),pm(i)?gm(i):Ga(i).x_()&&mm(i,t))}function dm(a,t){const i=Tt(a),s=Ga(i);i.Ta.delete(t),s.x_()&&nE(i,t),i.Ta.size===0&&(s.x_()?s.B_():Ls(i)&&i.Aa.set("Unknown"))}function mm(a,t){if(a.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ga(a).H_(t)}function nE(a,t){a.Ra.$e(t),Ga(a).Y_(t)}function gm(a){a.Ra=new ow({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>a.Ta.get(t)||null,lt:()=>a.datastore.serializer.databaseId}),Ga(a).start(),a.Aa.aa()}function pm(a){return Ls(a)&&!Ga(a).M_()&&a.Ta.size>0}function Ls(a){return Tt(a).Ia.size===0}function iE(a){a.Ra=void 0}async function g2(a){a.Aa.set("Online")}async function p2(a){a.Ta.forEach(((t,i)=>{mm(a,t)}))}async function y2(a,t){iE(a),pm(a)?(a.Aa.la(t),gm(a)):a.Aa.set("Unknown")}async function _2(a,t,i){if(a.Aa.set("Online"),t instanceof B0&&t.state===2&&t.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))})(a,t)}catch(s){at(Os,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Oc(a,s)}else if(t instanceof dc?a.Ra.Ye(t):t instanceof j0?a.Ra.it(t):a.Ra.et(t),!i.isEqual(vt.min()))try{const s=await J0(a.localStore);i.compareTo(s)>=0&&await(function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.Ta.get(v);A&&h.Ta.set(v,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,v)=>{const A=h.Ta.get(y);if(!A)return;h.Ta.set(y,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),nE(h,y);const b=new Ur(A.target,y,v,A.sequenceNumber);mm(h,b)})),h.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){at(Os,"Failed to raise snapshot:",s),await Oc(a,s)}}async function Oc(a,t,i){if(!Fa(t))throw t;a.Ia.add(1),await wo(a),a.Aa.set("Offline"),i||(i=()=>J0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{at(Os,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await Xc(a)}))}function rE(a,t){return t().catch((i=>Oc(a,i,t)))}async function Zc(a){const t=Tt(a),i=Kr(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:tm;for(;v2(t);)try{const o=await t2(t.localStore,s);if(o===null){t.Pa.length===0&&i.B_();break}s=o.batchId,E2(t,o)}catch(o){await Oc(t,o)}sE(t)&&aE(t)}function v2(a){return Ls(a)&&a.Pa.length<10}function E2(a,t){a.Pa.push(t);const i=Kr(a);i.x_()&&i.Z_&&i.X_(t.mutations)}function sE(a){return Ls(a)&&!Kr(a).M_()&&a.Pa.length>0}function aE(a){Kr(a).start()}async function T2(a){Kr(a).na()}async function A2(a){const t=Kr(a);for(const i of a.Pa)t.X_(i.mutations)}async function S2(a,t,i){const s=a.Pa.shift(),o=am.from(s,t,i);await rE(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Zc(a)}async function b2(a,t){t&&Kr(a).Z_&&await(async function(s,o){if((function(d){return aw(d)&&d!==J.ABORTED})(o.code)){const h=s.Pa.shift();Kr(s).N_(),await rE(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Zc(s)}})(a,t),sE(a)&&aE(a)}async function lv(a,t){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),at(Os,"RemoteStore received new credentials");const s=Ls(i);i.Ia.add(3),await wo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await Xc(i)}async function w2(a,t){const i=Tt(a);t?(i.Ia.delete(2),await Xc(i)):t||(i.Ia.add(2),await wo(i),i.Aa.set("Unknown"))}function Ga(a){return a.Va||(a.Va=(function(i,s,o){const h=Tt(i);return h.ia(),new u2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:g2.bind(null,a),e_:p2.bind(null,a),n_:y2.bind(null,a),J_:_2.bind(null,a)}),a.da.push((async t=>{t?(a.Va.N_(),pm(a)?gm(a):a.Aa.set("Unknown")):(await a.Va.stop(),iE(a))}))),a.Va}function Kr(a){return a.ma||(a.ma=(function(i,s,o){const h=Tt(i);return h.ia(),new c2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:T2.bind(null,a),n_:b2.bind(null,a),ea:A2.bind(null,a),ta:S2.bind(null,a)}),a.da.push((async t=>{t?(a.ma.N_(),await Zc(a)):(await a.ma.stop(),a.Pa.length>0&&(at(Os,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))}))),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i,s,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,h){const d=Date.now()+s,g=new ym(t,i,d,o,h);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(a,t){if(Hi("AsyncQueue",`${t}: ${a}`),Fa(a))return new ft(J.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static emptySet(t){return new Va(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Zl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Va)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Va;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.fa=new le(mt.comparator)}track(t){const i=t.doc.key,s=this.fa.get(i);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(i,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(i):t.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):yt(63341,{At:t,ga:s}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Ba{constructor(t,i,s,o,h,d,g,y,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ba(t,i,Va.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class C2{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=Tt(i),h=o.queries;o.queries=uv(),h.forEach(((d,g)=>{for(const y of g.wa)y.onError(s)}))})(this,new ft(J.ABORTED,"Firestore shutting down"))}}function uv(){return new Us((a=>R0(a)),Hc)}async function I2(a,t){const i=Tt(a);let s=3;const o=t.query;let h=i.queries.get(o);h?!h.Sa()&&t.ba()&&(s=2):(h=new R2,s=t.ba()?0:1);try{switch(s){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=_m(d,`Initialization of query '${Ia(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,h),h.wa.push(t),t.va(i.onlineState),h.ya&&t.Ca(h.ya)&&vm(i)}async function N2(a,t){const i=Tt(a),s=t.query;let o=3;const h=i.queries.get(s);if(h){const d=h.wa.indexOf(t);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=t.ba()?0:1:!h.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function D2(a,t){const i=Tt(a);let s=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&vm(i)}function x2(a,t,i){const s=Tt(a),o=s.queries.get(t);if(o)for(const h of o.wa)h.onError(i);s.queries.delete(t)}function vm(a){a.Da.forEach((t=>{t.next()}))}var Bd,cv;(cv=Bd||(Bd={})).Fa="default",cv.Cache="cache";class O2{constructor(t,i,s){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ba(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=Ba.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t){this.key=t}}class oE{constructor(t){this.key=t}}class V2{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Mt(),this.mutatedKeys=Mt(),this.Xa=C0(t),this.eu=new Va(this.Xa)}get tu(){return this.Ha}nu(t,i){const s=i?i.ru:new ov,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,b)=>{const D=o.get(A),F=Fc(this.query,b)?b:null,tt=!!D&&this.mutatedKeys.has(D.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Q=!1;D&&F?D.data.isEqual(F.data)?tt!==it&&(s.track({type:3,doc:F}),Q=!0):this.iu(D,F)||(s.track({type:2,doc:F}),Q=!0,(y&&this.Xa(F,y)>0||v&&this.Xa(F,v)<0)&&(g=!0)):!D&&F?(s.track({type:0,doc:F}),Q=!0):D&&!F&&(s.track({type:1,doc:D}),Q=!0,(y||v)&&(g=!0)),Q&&(F?(d=d.add(F),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{eu:d,ru:s,Ds:g,mutatedKeys:h}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const h=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort(((A,b)=>(function(F,tt){const it=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{At:Q})}};return it(F)-it(tt)})(A.type,b.type)||this.Xa(A.doc,b.doc))),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],y=this.Za.size===0&&this.current&&!o?1:0,v=y!==this.Ya;return this.Ya=y,d.length!==0||v?{snapshot:new Ba(this.query,t.eu,h,d,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ov,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((i=>this.Ha=this.Ha.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ha=this.Ha.delete(i))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Mt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const i=[];return t.forEach((s=>{this.Za.has(s)||i.push(new oE(s))})),this.Za.forEach((s=>{t.has(s)||i.push(new lE(s))})),i}uu(t){this.Ha=t.qs,this.Za=Mt();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return Ba.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Em="SyncEngine";class M2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class U2{constructor(t){this.key=t,this.lu=!1}}class z2{constructor(t,i,s,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Us((g=>R0(g)),Hc),this.Tu=new Map,this.Iu=new Set,this.du=new le(mt.comparator),this.Eu=new Map,this.Au=new um,this.Ru={},this.Vu=new Map,this.mu=ja.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function L2(a,t,i=!0){const s=mE(a);let o;const h=s.Pu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await uE(s,t,i,!0),o}async function k2(a,t){const i=mE(a);await uE(i,t,!0,!1)}async function uE(a,t,i,s){const o=await e2(a.localStore,li(t)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await P2(a,t,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&eE(a.remoteStore,o),g}async function P2(a,t,i,s,o){a.gu=(b,D,F)=>(async function(it,Q,K,W){let rt=Q.view.nu(K);rt.Ds&&(rt=await nv(it.localStore,Q.query,!1).then((({documents:I})=>Q.view.nu(I,rt))));const lt=W&&W.targetChanges.get(Q.targetId),At=W&&W.targetMismatches.get(Q.targetId)!=null,pt=Q.view.applyChanges(rt,it.isPrimaryClient,lt,At);return fv(it,Q.targetId,pt._u),pt.snapshot})(a,b,D,F);const h=await nv(a.localStore,t,!0),d=new V2(t,h.qs),g=d.nu(h.documents),y=bo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,y);fv(a,i,v._u);const A=new M2(t,i,d);return a.Pu.set(t,A),a.Tu.has(i)?a.Tu.get(i).push(t):a.Tu.set(i,[t]),v.snapshot}async function j2(a,t,i){const s=Tt(a),o=s.Pu.get(t),h=s.Tu.get(o.targetId);if(h.length>1)return s.Tu.set(o.targetId,h.filter((d=>!Hc(d,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&dm(s.remoteStore,o.targetId),qd(s,o.targetId)})).catch(Ha)):(qd(s,o.targetId),await Pd(s.localStore,o.targetId,!0))}async function B2(a,t){const i=Tt(a),s=i.Pu.get(t),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),dm(i.remoteStore,s.targetId))}async function q2(a,t,i){const s=X2(a);try{const o=await(function(d,g){const y=Tt(d),v=Wt.now(),A=g.reduce(((F,tt)=>F.add(tt.key)),Mt());let b,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=Fi(),it=Mt();return y.Os.getEntries(F,A).next((Q=>{tt=Q,tt.forEach(((K,W)=>{W.isValidDocument()||(it=it.add(K))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,tt))).next((Q=>{b=Q;const K=[];for(const W of g){const rt=ew(W,b.get(W.key).overlayedDocument);rt!=null&&K.push(new zs(W.key,rt,_0(rt.value.mapValue),Bi.exists(!0)))}return y.mutationQueue.addMutationBatch(F,v,K,g)})).next((Q=>{D=Q;const K=Q.applyToLocalDocumentSet(b,it);return y.documentOverlayCache.saveOverlays(F,Q.batchId,K)}))})).then((()=>({batchId:D.batchId,changes:N0(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let v=d.Ru[d.currentUser.toKey()];v||(v=new le(Ct)),v=v.insert(g,y),d.Ru[d.currentUser.toKey()]=v})(s,o.batchId,i),await Ro(s,o.changes),await Zc(s.remoteStore)}catch(o){const h=_m(o,"Failed to persist write");i.reject(h)}}async function cE(a,t){const i=Tt(a);try{const s=await Jw(i.localStore,t);t.targetChanges.forEach(((o,h)=>{const d=i.Eu.get(h);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Qt(d.lu,14607):o.removedDocuments.size>0&&(Qt(d.lu,42227),d.lu=!1))})),await Ro(i,s,t)}catch(s){await Ha(s)}}function hv(a,t,i){const s=Tt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach(((h,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Tt(d);y.onlineState=g;let v=!1;y.queries.forEach(((A,b)=>{for(const D of b.wa)D.va(g)&&(v=!0)})),v&&vm(y)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function H2(a,t,i){const s=Tt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Eu.get(t),h=o&&o.key;if(h){let d=new le(mt.comparator);d=d.insert(h,$e.newNoDocument(h,vt.min()));const g=Mt().add(h),y=new Yc(vt.min(),new Map,new le(Ct),d,g);await cE(s,y),s.du=s.du.remove(h),s.Eu.delete(t),Tm(s)}else await Pd(s.localStore,t,!1).then((()=>qd(s,t,i))).catch(Ha)}async function F2(a,t){const i=Tt(a),s=t.batch.batchId;try{const o=await $w(i.localStore,t);fE(i,s,null),hE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ro(i,o)}catch(o){await Ha(o)}}async function G2(a,t,i){const s=Tt(a);try{const o=await(function(d,g){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return y.mutationQueue.lookupMutationBatch(v,g).next((b=>(Qt(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(v,b)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>y.localDocuments.getDocuments(v,A)))}))})(s.localStore,t);fE(s,t,i),hE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Ro(s,o)}catch(o){await Ha(o)}}function hE(a,t){(a.Vu.get(t)||[]).forEach((i=>{i.resolve()})),a.Vu.delete(t)}function fE(a,t,i){const s=Tt(a);let o=s.Ru[s.currentUser.toKey()];if(o){const h=o.get(t);h&&(i?h.reject(i):h.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function qd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Tu.get(t))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(t),a.isPrimaryClient&&a.Au.zr(t).forEach((s=>{a.Au.containsKey(s)||dE(a,s)}))}function dE(a,t){a.Iu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(dm(a.remoteStore,i),a.du=a.du.remove(t),a.Eu.delete(i),Tm(a))}function fv(a,t,i){for(const s of i)s instanceof lE?(a.Au.addReference(s.key,t),Q2(a,s)):s instanceof oE?(at(Em,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,t),a.Au.containsKey(s.key)||dE(a,s.key)):yt(19791,{yu:s})}function Q2(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(at(Em,"New document in limbo: "+i),a.Iu.add(s),Tm(a))}function Tm(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Iu.values().next().value;a.Iu.delete(t);const i=new mt(ie.fromString(t)),s=a.mu.next();a.Eu.set(s,new U2(i)),a.du=a.du.insert(i,s),eE(a.remoteStore,new Ur(li(w0(i.path)),s,"TargetPurposeLimboResolution",Pc.ue))}}async function Ro(a,t,i){const s=Tt(a),o=[],h=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach(((g,y)=>{d.push(s.gu(y,t,i).then((v=>{var A;if((v||i)&&s.isPrimaryClient){const b=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){o.push(v);const b=hm.Es(y.targetId,v);h.push(b)}})))})),await Promise.all(d),s.hu.J_(o),await(async function(y,v){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(v,(D=>$.forEach(D.Is,(F=>A.persistence.referenceDelegate.addReference(b,D.targetId,F))).next((()=>$.forEach(D.ds,(F=>A.persistence.referenceDelegate.removeReference(b,D.targetId,F)))))))))}catch(b){if(!Fa(b))throw b;at(fm,"Failed to update sequence numbers: "+b)}for(const b of v){const D=b.targetId;if(!b.fromCache){const F=A.Fs.get(D),tt=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(tt);A.Fs=A.Fs.insert(D,it)}}})(s.localStore,h))}async function Y2(a,t){const i=Tt(a);if(!i.currentUser.isEqual(t)){at(Em,"User change. New user:",t.toKey());const s=await $0(i.localStore,t);i.currentUser=t,(function(h,d){h.Vu.forEach((g=>{g.forEach((y=>{y.reject(new ft(J.CANCELLED,d))}))})),h.Vu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ro(i,s.Bs)}}function K2(a,t){const i=Tt(a),s=i.Eu.get(t);if(s&&s.lu)return Mt().add(s.key);{let o=Mt();const h=i.Tu.get(t);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function mE(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=cE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=K2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=H2.bind(null,t),t.hu.J_=D2.bind(null,t.eventManager),t.hu.pu=x2.bind(null,t.eventManager),t}function X2(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=F2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=G2.bind(null,t),t}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return Zw(this.persistence,new Yw,t.initialUser,this.serializer)}Du(t){return new Z0(cm.Vi,this.serializer)}bu(t){return new i2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class Z2 extends Vc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Qt(this.persistence.referenceDelegate instanceof xc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ow(s,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Z0((s=>xc.Vi(s,i)),this.serializer)}}class Hd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y2.bind(null,this.syncEngine),await w2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new C2})()}createDatastore(t){const i=Kc(t.databaseInfo.databaseId),s=(function(h){return new o2(h)})(t.databaseInfo);return(function(h,d,g,y){return new f2(h,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,o,h,d,g){return new m2(s,o,h,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return sv.C()?new sv:new r2})())}createSyncEngine(t,i){return(function(o,h,d,g,y,v,A){const b=new z2(o,h,d,g,y,v);return A&&(b.fu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const h=Tt(o);at(Os,"RemoteStore shutting down."),h.Ia.add(5),await wo(h),h.Ea.shutdown(),h.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Hd.provider={build:()=>new Hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class J2{constructor(t,i,s,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{at(Xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(at(Xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=_m(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function vd(a,t){a.asyncQueue.verifyOperationInProgress(),at(Xr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await $0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{Hr("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then((()=>{at("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Hr("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),a._offlineComponents=t}async function dv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await W2(a);at(Xr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>lv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>lv(t.remoteStore,o))),a._onlineComponents=t}async function W2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(Xr,"Using user provided OfflineComponentProvider");try{await vd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Hr("Error using user provided cache. Falling back to memory cache: "+i),await vd(a,new Vc)}}else at(Xr,"Using default OfflineComponentProvider"),await vd(a,new Z2(void 0));return a._offlineComponents}async function gE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(Xr,"Using user provided OnlineComponentProvider"),await dv(a,a._uninitializedComponentsProvider._online)):(at(Xr,"Using default OnlineComponentProvider"),await dv(a,new Hd))),a._onlineComponents}function tR(a){return gE(a).then((t=>t.syncEngine))}async function eR(a){const t=await gE(a),i=t.eventManager;return i.onListen=L2.bind(null,t.syncEngine),i.onUnlisten=j2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=k2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=B2.bind(null,t.syncEngine),i}function nR(a,t,i={}){const s=new jr;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,y,v){const A=new $2({next:D=>{A.Ou(),d.enqueueAndForget((()=>N2(h,b))),D.fromCache&&y.source==="server"?v.reject(new ft(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(D)},error:D=>v.reject(D)}),b=new O2(g,A,{includeMetadataChanges:!0,ka:!0});return I2(h,b)})(await eR(a),a.asyncQueue,t,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="firestore.googleapis.com",gv=!0;class pv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yE,this.ssl=gv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:gv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Dw)throw new ft(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $c{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sb;switch(s.type){case"firstParty":return new ub(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=mv.get(i);s&&(at("ComponentProvider","Removing Datastore"),mv.delete(i),s.terminate())})(this),Promise.resolve()}}function iR(a,t,i,s={}){var o;a=uo(a,$c);const h=yo(t),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),y=`${t}:${i}`;h&&(x1(`https://${y}`),U1("Firestore",!0)),d.host!==yE&&d.host!==y&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:y,ssl:h,emulatorOptions:s});if(!ao(v,g)&&(a._setSettings(v),s.mockUserToken)){let A,b;if(typeof s.mockUserToken=="string")A=s.mockUserToken,b=Ze.MOCK_USER;else{A=O1(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ft(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ze(D)}a._authCredentials=new ab(new s0(A,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Jc(this.firestore,t,this._query)}}class Me{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Ao(i,Me._jsonSchema))return new Me(t,s||null,new mt(ie.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Se("string",Me._jsonSchemaVersion),referencePath:Se("string")};class Br extends Jc{constructor(t,i,s){super(t,i,w0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new mt(t))}withConverter(t){return new Br(this.firestore,t,this._path)}}function rR(a,t,...i){if(a=hi(a),l0("collection","path",t),a instanceof $c){const s=ie.fromString(t,...i);return D_(s),new Br(a,null,s)}{if(!(a instanceof Me||a instanceof Br))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ie.fromString(t,...i));return D_(s),new Br(a.firestore,null,s)}}function sR(a,t,...i){if(a=hi(a),arguments.length===1&&(t=Jd.newId()),l0("doc","path",t),a instanceof $c){const s=ie.fromString(t,...i);return N_(s),new Me(a,null,new mt(s))}{if(!(a instanceof Me||a instanceof Br))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ie.fromString(t,...i));return N_(s),new Me(a.firestore,a instanceof Br?a.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="AsyncQueue";class _v{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new W0(this,"async_queue_retry"),this.oc=()=>{const s=_d();s&&at(yv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const i=new jr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Fa(t))throw t;at(yv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const i=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Hi("INTERNAL UNHANDLED ERROR: ",vv(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=i,i}enqueueAfterDelay(t,i,s){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const o=ym.createAndSchedule(this,t,i,s,(h=>this.lc(h)));return this.ec.push(o),o}ac(){this.tc&&yt(47125,{hc:vv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function vv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Am extends $c{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new _v,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _v(t),this._firestoreClient=void 0,await t}}}function aR(a,t){const i=typeof a=="object"?a:KA(),s=typeof a=="string"?a:bc,o=xv(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=I1("firestore");h&&iR(o,...h)}return o}function _E(a){if(a._terminated)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||lR(a),a._firestoreClient}function lR(a){var t,i,s;const o=a._freezeSettings(),h=(function(g,y,v,A){return new wb(g,y,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,pE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new J2(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ge.fromBase64String(t))}catch(i){throw new ft(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ao(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Se("string",Un._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(t){if(Ao(t,ui._jsonSchema))return new ui(t.latitude,t.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Se("string",ui._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ao(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ci(t.vectorValues);throw new ft(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Se("string",ci._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=/^__.*__$/;class uR{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new zs(t,this.data,this.fieldMask,i,this.fieldTransforms):new So(t,this.data,i,this.fieldTransforms)}}function EE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ec:a})}}class bm{constructor(t,i,s,o,h,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new bm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Mc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(EE(this.Ec)&&oR.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class cR{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Kc(t)}Dc(t,i,s,o=!1){return new bm({Ec:t,methodName:i,bc:s,path:Fe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hR(a){const t=a._freezeSettings(),i=Kc(a._databaseId);return new cR(a._databaseId,!!t.ignoreUndefinedProperties,i)}function fR(a,t,i,s,o,h={}){const d=a.Dc(h.merge||h.mergeFields?2:0,t,i,o);bE("Data must be an object, but it was:",d,s);const g=AE(s,d);let y,v;if(h.merge)y=new Gn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const D=dR(t,b,i);if(!d.contains(D))throw new ft(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);gR(A,D)||A.push(D)}y=new Gn(A),v=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,v=d.fieldTransforms;return new uR(new Mn(g),y,v)}function TE(a,t){if(SE(a=hi(a)))return bE("Unsupported field value:",t,a),AE(a,t);if(a instanceof vE)return(function(s,o){if(!EE(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const g of s){let y=TE(g,o.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}})(a,t)}return(function(s,o){if((s=hi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Xb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Wt.fromDate(s);return{timestampValue:Dc(o.serializer,h)}}if(s instanceof Wt){const h=new Wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dc(o.serializer,h)}}if(s instanceof ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:q0(o.serializer,s._byteString)};if(s instanceof Me){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:om(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ci)return(function(d,g){return{mapValue:{fields:{[p0]:{stringValue:y0},[wc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return sm(g.serializer,v)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${Wd(s)}`)})(a,t)}function AE(a,t){const i={};return c0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(a,((s,o)=>{const h=TE(o,t.Vc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function SE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Wt||a instanceof ui||a instanceof Un||a instanceof Me||a instanceof vE||a instanceof ci)}function bE(a,t,i){if(!SE(i)||!o0(i)){const s=Wd(i);throw s==="an object"?t.wc(a+" a custom object"):t.wc(a+" "+s)}}function dR(a,t,i){if((t=hi(t))instanceof Sm)return t._internalPath;if(typeof t=="string")return wE(a,t);throw Mc("Field path arguments must be of type string or ",a,!1,void 0,i)}const mR=new RegExp("[~\\*/\\[\\]]");function wE(a,t,i){if(t.search(mR)>=0)throw Mc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Sm(...t.split("."))._internalPath}catch{throw Mc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Mc(a,t,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ft(J.INVALID_ARGUMENT,g+a+y)}function gR(a,t){return a.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i,s,o,h){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(CE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class pR extends RE{data(){return super.data()}}function CE(a,t){return typeof t=="string"?wE(a,t):t instanceof Sm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ft(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _R{convertValue(t,i="none"){switch(Yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ms(t,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(t){var i,s,o;const h=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[wc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((d=>ge(d.doubleValue)));return new ci(h)}convertGeoPoint(t){return new ui(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Bc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ho(t));default:return null}}convertTimestamp(t){const i=Gr(t);return new Wt(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ie.fromString(t);Qt(K0(s),9688,{name:t});const o=new fo(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return o.isEqual(i)||Hi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(a,t,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,s}class lc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ma extends RE{constructor(t,i,s,o,h,d){super(t,i,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(CE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ma._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ma._jsonSchema={type:Se("string",Ma._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class mc extends Ma{data(t={}){return super.data(t)}}class Ua{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new lc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new mc(this._firestore,this._userDataWriter,s.key,s,new lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new mc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new lc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const y=new mc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new lc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:ER(g.type),doc:y,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ua._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Jd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ER(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:a})}}Ua._jsonSchemaVersion="firestore/querySnapshot/1.0",Ua._jsonSchema={type:Se("string",Ua._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class TR extends _R{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function AR(a){a=uo(a,Jc);const t=uo(a.firestore,Am),i=_E(t),s=new TR(t);return yR(a._query),nR(i,a._query).then((o=>new Ua(t,s,a,o)))}function SR(a,t,i){a=uo(a,Me);const s=uo(a.firestore,Am),o=vR(a.converter,t,i);return bR(s,[fR(hR(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Bi.none())])}function bR(a,t){return(function(s,o){const h=new jr;return s.asyncQueue.enqueueAndForget((async()=>q2(await tR(s),o,h))),h.promise})(_E(a),t)}(function(t,i=!0){(function(o){qa=o})(zc),za(new Ds("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Am(new lb(s.getProvider("auth-internal")),new cb(d,s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ft(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(v.options.projectId,A)})(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),kr(b_,w_,t),kr(b_,w_,"esm2017")})();const wR={apiKey:"AIzaSyAsGL0dW49aO_s01xUfPl7QVztzBokwjaU",authDomain:"az-104-mediahub.firebaseapp.com",projectId:"az-104-mediahub",storageBucket:"az-104-mediahub.firebasestorage.app",messagingSenderId:"123612581609",appId:"1:123612581609:web:f475c4800315b0b637aa78",measurementId:"G-XSMRH058ZW"},IE=Ov(wR),Ev=kS(IE,{persistence:tb}),NE=aR(IE);let Vs=null;const DE=()=>new Promise(a=>{qS(Ev,t=>{t?(console.log("Firebase: Signed in anonymously",t.uid),Vs=t,a(t)):(console.log("Attempting to sign in..."),BS(Ev).then(i=>{console.log(" SUCCESS! Signed in as:",i.user.uid),Vs=i.user,a(i.user)}).catch(i=>{console.error(" FIREBASE AUTH ERROR:",i.code,i.message),a(null)}))})}),RR=async a=>{if(Vs)try{const t=localStorage.getItem(`markers_${a.key}`),i=t?JSON.parse(t):{},s=sR(NE,`users/${Vs.uid}/media_data/${a.key}`);await SR(s,{key:a.key,progress:a.resumeTime||0,markers:i,lastUpdated:Wt.now(),lastPlayed:a.lastPlayed||Date.now()},{merge:!0}),console.log("Firebase: Synced item up (with markers)",a.key)}catch(t){console.error("Firebase: Sync up failed",t)}},CR=async()=>{if(Vs){try{console.log("Firebase: Syncing down...");const a=await Qd(),t=await AR(rR(NE,`users/${Vs.uid}/media_data`));let i=0;for(const s of t.docs){const o=s.data(),h=a.find(d=>d.key===o.key);if(h&&(o.lastPlayed||0)>(h.lastPlayed||0)){const d={...h,resumeTime:o.progress,lastPlayed:o.lastPlayed};await Sv(d),o.markers&&localStorage.setItem(`markers_${o.key}`,JSON.stringify(o.markers)),i++}}if(i>0)return console.log(`Firebase: Updated ${i} items from cloud.`),!0}catch(a){console.error("Firebase: Sync down failed",a)}return!1}},IR=async()=>{let a=Vs;if(a||(a=await DE()),!a)throw new Error("Authentication failed");const t=await Qd();console.log(`Firebase: Starting manual sync for ${t.length} items...`);let i=0;for(const s of t)await RR(s),i++;return i},NR=({items:a,activeItem:t,onSelect:i,onImport:s})=>{const[o,h]=kt.useState(""),[d,g]=kt.useState("name"),[y,v]=kt.useState(!1),[A,b]=kt.useState(""),D=async()=>{v(!0),b("Connecting...");try{if(!await DE()){b("Auth Failed"),setTimeout(()=>b(""),2e3),v(!1);return}b("Syncing Up...");const K=await IR();b("Syncing Down...");const W=await CR();b("Done!"),W&&setTimeout(()=>location.reload(),1e3)}catch(Q){console.error(Q),b("Error")}finally{setTimeout(()=>{v(!1),b("")},2e3)}},F=a.filter(Q=>Q.name.toLowerCase().includes(o.toLowerCase())).sort((Q,K)=>d==="name"?Q.name.localeCompare(K.name,void 0,{numeric:!0}):d==="size"?K.size-Q.size:d==="date"?(K.date||0)-(Q.date||0):0),tt=Q=>{Q.target.files&&Q.target.files.length>0&&(s(Array.from(Q.target.files)),Q.target.value="")},it=({type:Q,label:K})=>j.jsx("button",{onClick:()=>g(Q),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-wider transition-all border ${d===Q?"bg-zinc-800 text-white border-zinc-700":"text-zinc-600 border-transparent hover:text-zinc-400 hover:bg-zinc-900"}`,children:K});return j.jsxs("div",{className:"flex flex-col h-full bg-zinc-900",children:[j.jsxs("div",{className:"p-4 border-b border-zinc-800 space-y-4 shrink-0",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-600",children:"Sync Manager"}),A&&j.jsx("span",{className:"text-[9px] font-bold text-emerald-500 animate-pulse",children:A})]}),j.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[j.jsxs("label",{className:"flex flex-col items-center justify-center gap-1.5 py-3 bg-rose-600 hover:bg-rose-500 text-white rounded-xl cursor-pointer transition-all active:scale-95 shadow-xl shadow-rose-950/20",children:[j.jsx(Hn.Folder,{}),j.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Load Folder"}),j.jsx("input",{type:"file",className:"hidden",multiple:!0,webkitdirectory:"true",onChange:tt})]}),j.jsxs("label",{className:"flex flex-col items-center justify-center gap-1.5 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-xl cursor-pointer transition-all active:scale-95 border border-zinc-700",children:[j.jsx(Hn.File,{}),j.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Load Files"}),j.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:tt})]})]}),j.jsxs("button",{onClick:D,disabled:y,className:"w-full py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg text-[9px] font-black uppercase tracking-widest shadow-lg shadow-blue-900/20 transition-all active:scale-95 mt-2 flex items-center justify-center gap-2",children:[y?j.jsx("div",{className:"w-3 h-3 border-2 border-white/50 border-t-white rounded-full animate-spin"}):j.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[j.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),j.jsx("path",{d:"M3 3v5h5"}),j.jsx("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),j.jsx("path",{d:"M16 16h5v5"})]}),y?"Syncing...":"Cloud Sync v2"]})]}),j.jsxs("div",{className:"space-y-3",children:[j.jsx("input",{type:"text",placeholder:"Search assets...",className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg py-2 px-3 text-[10px] font-bold placeholder:text-zinc-700 focus:outline-none focus:border-rose-500 transition-all",value:o,onChange:Q=>h(Q.target.value)}),j.jsxs("div",{className:"flex items-center justify-between px-1",children:[j.jsx("span",{className:"text-[8px] font-black uppercase text-zinc-700 tracking-widest",children:"Sort Inventory"}),j.jsxs("div",{className:"flex gap-1.5",children:[j.jsx(it,{type:"name",label:"AZ"}),j.jsx(it,{type:"date",label:"New"}),j.jsx(it,{type:"size",label:"Size"})]})]})]})]}),j.jsx("div",{className:"flex-1 overflow-y-auto px-2 py-3 custom-scrollbar",children:F.length>0?j.jsx("div",{className:"space-y-1",children:F.map(Q=>{const K=(t==null?void 0:t.key)===Q.key,W=!Q.file.type.startsWith("audio")&&!/\.(mp3|wav|ogg|m4a|aac|flac)$/i.test(Q.name);return j.jsxs("button",{onClick:()=>i(Q),className:`w-full text-left p-3 flex items-center gap-3 rounded-xl transition-all border
                    ${K?"bg-rose-600 border-rose-500 text-white shadow-lg":"bg-zinc-950/20 border-transparent hover:bg-zinc-800 text-zinc-400"}`,children:[j.jsx("div",{className:`shrink-0 p-1.5 rounded-lg ${K?"bg-rose-500":"bg-zinc-800"}`,children:W?j.jsx(Hn.Folder,{}):j.jsx(Hn.File,{})}),j.jsxs("div",{className:"min-w-0 flex-1",children:[j.jsx("h4",{className:`text-[10px] font-bold truncate ${K?"text-white":"text-zinc-200"}`,children:Q.name}),j.jsxs("span",{className:`text-[8px] mono font-bold opacity-40 uppercase ${K?"text-rose-200":""}`,children:[(Q.size/1024/1024).toFixed(1),"MB"]})]})]},Q.key)})}):j.jsxs("div",{className:"h-40 flex flex-col items-center justify-center text-zinc-800 opacity-20",children:[j.jsx(Hn.Folder,{}),j.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest mt-2",children:"No Assets Locally Cached"})]})})]})},DR=({item:a,isPlaying:t,onPlayPause:i,onTimeUpdate:s,onDurationChange:o,currentTime:h,duration:d})=>{const g=kt.useRef(null),[y,v]=kt.useState(!0);kt.useEffect(()=>{if(!a)return;const b=a.file.type.startsWith("audio")||/\.(mp3|wav|ogg|m4a|aac|flac)$/i.test(a.name);if(v(b),g.current){if(a.key==="demo-sample")g.current.src="",o(180);else{const D=URL.createObjectURL(a.file);return g.current.src=D,()=>URL.revokeObjectURL(D)}i(!1)}},[a,i]),kt.useEffect(()=>{g.current&&g.current.src&&(t?g.current.play().catch(()=>i(!1)):g.current.pause())},[t,i]),kt.useEffect(()=>{g.current&&Math.abs(g.current.currentTime-h)>.5&&(g.current.currentTime=h)},[h]);const A=b=>{if(isNaN(b))return"00:00";const D=Math.floor(b/60),F=Math.floor(b%60);return`${D.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`};return a?j.jsxs("div",{className:"bg-zinc-900 border-b border-zinc-800 flex flex-col shrink-0",children:[!y&&j.jsx("div",{className:"relative bg-black flex items-center justify-center overflow-hidden aspect-video max-h-[25vh] md:max-h-[35vh]",children:j.jsx("video",{ref:g,className:"w-full h-full object-contain cursor-pointer",onTimeUpdate:b=>s(b.currentTarget.currentTime),onLoadedMetadata:b=>o(b.currentTarget.duration),onClick:()=>i(!t)})}),y&&j.jsx("audio",{ref:g,className:"hidden",onTimeUpdate:b=>s(b.currentTarget.currentTime),onLoadedMetadata:b=>o(b.currentTarget.duration)}),j.jsx("div",{className:"px-4 py-3 md:px-8 bg-zinc-900 shadow-2xl",children:j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("button",{onClick:()=>i(!t),className:"w-10 h-10 bg-rose-600 text-white rounded-full flex items-center justify-center shadow-lg active:scale-90 transition-all",children:t?j.jsx(Hn.Pause,{}):j.jsx(Hn.Play,{})}),j.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[j.jsxs("div",{className:"flex justify-between items-center mb-1",children:[j.jsxs("span",{className:"text-[10px] font-black text-zinc-300 mono",children:[A(h)," ",j.jsxs("span",{className:"text-zinc-700",children:["/ ",A(d)]})]}),j.jsxs("span",{className:"text-[8px] font-bold text-zinc-600 uppercase tracking-widest",children:[a.name.substring(0,20),"..."]})]}),j.jsxs("div",{className:"relative h-1 bg-zinc-800 rounded-full overflow-hidden",children:[j.jsx("div",{className:"h-full bg-rose-500 transition-all duration-100",style:{width:`${h/(d||1)*100}%`}}),j.jsx("input",{type:"range",min:0,max:d||100,step:.1,value:h,onChange:b=>{const D=parseFloat(b.target.value);s(D),g.current&&(g.current.currentTime=D)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]})]})})]}):null},xR=({activeSlot:a,onSelectSlot:t,markers:i,setMarkers:s,currentTime:o,duration:h,activeItem:d,onSeek:g,onToast:y})=>{kt.useRef(0);const v=K=>{const W=i[K];if(!W.text)return;const rt=`[${A(W.inTime)} - ${A(W.outTime)}] ${W.text}`;navigator.clipboard.writeText(rt).then(()=>{y(`COPIED SLOT ${K.toUpperCase()}`,"success")})},A=K=>{if(K===null)return"--:--";const W=Math.floor(K/60),rt=Math.floor(K%60);return`${W.toString().padStart(2,"0")}:${rt.toString().padStart(2,"0")}`},[b,D]=Av.useState(null),F=(K,W)=>{let rt="";if(d!=null&&d.transcript){let lt=h||d.duration;(!lt||lt<1)&&(lt=d.transcript.length/15);const At=d.transcript.match(/[^\.!\?]+[\.!\?]*/g)||[d.transcript],pt=At.reduce((S,w)=>S+w.length,0);let I=0;rt=At.map(S=>{const w=I/pt*lt;I+=S.length;const N=I/pt*lt;return{text:S,start:w,end:N}}).filter(S=>Math.max(0,Math.min(S.end,W)-Math.max(S.start,K))>0).map(S=>S.text).join(" ").trim()}return rt},tt=()=>{d&&(s(K=>({...K,[a]:{...K[a],inTime:o,outTime:null,text:""}})),y(`${a.toUpperCase()} IN`,"info"))},it=()=>{if(d){if(i[a].inTime!==null&&i[a].outTime===null){let K=i[a].inTime,W=o;W<K&&([K,W]=[W,K]);const rt=F(K,W);s(lt=>({...lt,[a]:{...lt[a],inTime:K,outTime:W,text:rt}})),D(a),y(`${a.toUpperCase()} LOCKED`,"success");return}if(b){const K=i[b];if(K.inTime!==null&&K.outTime!==null){let W=K.inTime,rt=o;rt<W&&([W,rt]=[rt,W]);const lt=F(W,rt);s(At=>({...At,[b]:{...At[b],outTime:rt,text:lt}})),y(`SMART EXTEND: ${b.toUpperCase()}`,"success")}}}},Q={a:"bg-rose-600",b:"bg-blue-600",c:"bg-amber-500"};return j.jsxs("div",{className:"flex flex-col h-full bg-zinc-950 p-3 space-y-4",children:[j.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[j.jsx("h3",{className:"text-[8px] font-black uppercase tracking-[0.3em] text-zinc-600",children:"Markers"}),j.jsxs("div",{className:"flex gap-1.5",children:[j.jsx("button",{onClick:tt,className:"px-3 py-1 bg-emerald-600 text-white text-[9px] font-black uppercase rounded-lg active:scale-95 shadow-lg shadow-emerald-950/20",children:"In"}),j.jsx("button",{onClick:it,className:"px-3 py-1 bg-rose-600 text-white text-[9px] font-black uppercase rounded-lg active:scale-95 shadow-lg shadow-rose-950/20",children:"Out"})]})]}),j.jsx("div",{className:"space-y-6 overflow-y-auto overflow-x-hidden custom-scrollbar flex-1 pb-32 overscroll-contain",children:["a","b","c"].map(K=>{const W=i[K],rt=a===K,lt=W.inTime!==null&&W.outTime!==null,At=W.outTime!==null,pt=W.inTime!==null&&W.outTime===null;return j.jsxs("div",{id:`marker-${K}`,onClick:()=>handleInteraction(K),className:`p-5 rounded-xl border-l-[6px] transition-all cursor-pointer relative group duration-300
                ${At?"bg-zinc-900/40 border-emerald-500 opacity-60 hover:opacity-100":pt?"bg-zinc-900 border-rose-600 shadow-2xl scale-[1.02]":"bg-transparent border-transparent opacity-40 hover:opacity-70"}`,children:[j.jsxs("div",{className:"flex justify-between items-center mb-2",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"text-[10px] text-red-500 font-black",children:"DEBUG"}),j.jsx("span",{className:`w-4 h-4 rounded flex items-center justify-center text-[8px] font-black text-white ${Q[K]}`,children:K.toUpperCase()}),j.jsxs("span",{className:`text-[9px] mono font-bold ${rt?"text-zinc-200":"text-zinc-500"}`,children:[A(W.inTime)," ",lt?` ${A(W.outTime)}`:""]})]}),j.jsxs("div",{className:"flex items-center gap-1 transition-all",children:[j.jsx("button",{onClick:I=>{I.stopPropagation(),v(K)},className:"px-1.5 py-0.5 bg-emerald-500 text-[9px] font-bold text-white rounded hover:bg-emerald-600 transition-colors",title:"Copy Text",children:"FORCE COPY"}),W.inTime!==null&&j.jsx("button",{onClick:I=>{I.stopPropagation(),s(S=>({...S,[K]:{inTime:null,outTime:null,text:""}}))},className:"p-1.5 text-zinc-500 hover:text-rose-500 transition-colors",children:j.jsx(Hn.Trash,{})})]})]}),j.jsx("div",{className:`text-[10px] leading-relaxed mono line-clamp-3 ${lt?rt?"text-zinc-300":"text-zinc-600":"text-zinc-800 italic"}`,children:lt?W.text:W.inTime!==null?"Segment active...":"Empty slot"})]},K)})}),j.jsx("p",{className:"text-[6px] font-black text-zinc-800 uppercase tracking-widest text-center mt-auto py-2",children:"v2.2 SMART // OFFLINE"})]})},OR=({text:a,currentTime:t,duration:i,onSeek:s,markers:o,searchQuery:h})=>{const d=kt.useRef(null),[g,y]=kt.useState(!0),v=kt.useRef(null),A=kt.useRef(t),b=kt.useMemo(()=>{if(!a)return[];const K=a.match(/[^\.!\?]+[\.!\?]*/g)||[a],W=K.reduce((At,pt)=>At+pt.length,0);let rt=0;const lt=i||300;return K.map(At=>{const pt=rt/W*lt;rt+=At.length;const I=rt/W*lt;return{text:At.trim(),start:pt,end:I}})},[a,i]),D=kt.useMemo(()=>i?b.findIndex(K=>t>=K.start&&t<K.end):-1,[b,t,i]);kt.useEffect(()=>{Math.abs(t-A.current)>1.5&&y(!0),A.current=t},[t]),kt.useEffect(()=>{if(g&&D!==-1&&d.current){const K=d.current.querySelector(`#sent-${D}`);K&&K.scrollIntoView({behavior:"smooth",block:"center"})}},[D,g]);const F=()=>{g&&(y(!1),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>y(!0),3e3))},tt=K=>K.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),it=(K,W)=>!W||W.trim()===""?K:K.split(new RegExp(`(${tt(W)})`,"gi")).map((lt,At)=>lt.toLowerCase()===W.toLowerCase()?j.jsx("span",{className:"bg-rose-500/80 text-white font-black px-1 rounded-sm shadow-[0_0_15px_rgba(225,29,72,0.5)]",children:lt},At):lt),Q=(K,W)=>{const rt=o.a.inTime!==null&&o.a.outTime!==null&&W>o.a.inTime&&K<o.a.outTime,lt=o.b.inTime!==null&&o.b.outTime!==null&&W>o.b.inTime&&K<o.b.outTime,At=o.c.inTime!==null&&o.c.outTime!==null&&W>o.c.inTime&&K<o.c.outTime;return rt?"border-rose-500/50 bg-rose-600/20 text-white shadow-[0_0_20px_rgba(225,29,72,0.1)]":lt?"border-blue-500/50 bg-blue-600/20 text-white shadow-[0_0_20px_rgba(59,130,246,0.1)]":At?"border-amber-500/50 bg-amber-500/20 text-amber-100 shadow-[0_0_20px_rgba(245,158,11,0.1)]":null};return j.jsxs("div",{className:"flex flex-col h-full bg-zinc-950 overflow-hidden relative",children:[j.jsx("div",{className:"px-6 py-3 bg-zinc-900 border-b border-zinc-800 flex justify-between items-center shrink-0 shadow-lg z-20",children:j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)] animate-pulse":"bg-zinc-800"}`}),j.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-zinc-400",children:"Analysis Feed"})]}),a&&!g&&j.jsx("button",{onClick:()=>y(!0),className:"text-[8px] font-black bg-white text-zinc-950 px-3 py-1 rounded-full uppercase hover:bg-rose-500 hover:text-white transition-all shadow-xl active:scale-95",children:"Resume Follow"})]})}),j.jsx("div",{ref:d,onWheel:F,onTouchMove:F,className:"flex-1 overflow-y-auto p-12 md:p-20 custom-scrollbar scroll-smooth",children:a?j.jsx("div",{className:"max-w-4xl mx-auto pb-64 space-y-2",children:b.map((K,W)=>{const rt=D===W,lt=Q(K.start,K.end);return j.jsx("span",{id:`sent-${W}`,onClick:()=>{s(K.start),y(!0)},className:`inline-block mr-2 mb-2 px-4 py-2.5 rounded-2xl cursor-pointer transition-all duration-300 text-lg md:text-xl border
                    ${rt&&!lt?"text-white bg-zinc-900 border-zinc-700 font-bold scale-[1.02] shadow-2xl z-10":""}
                    ${lt?`font-bold ${lt} ${rt?"scale-[1.04] ring-2 ring-white/20":""}`:"text-zinc-500 border-transparent hover:text-zinc-300 hover:bg-zinc-900/40"}`,children:it(K.text,h)},W)})}):j.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-900 space-y-6",children:[j.jsx("div",{className:"w-20 h-20 bg-zinc-900 border border-zinc-800 rounded-[2rem] flex items-center justify-center opacity-50 shadow-2xl",children:j.jsx("div",{className:"animate-spin text-rose-600",children:j.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:j.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})})}),j.jsxs("div",{className:"text-center space-y-2",children:[j.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-zinc-600",children:"Loading Text Feed..."}),j.jsx("p",{className:"text-[8px] font-bold uppercase tracking-widest text-zinc-800 italic",children:"Verifying segment integrity"})]})]})})]})},VR=()=>{const[a,t]=kt.useState([]),[i,s]=kt.useState(null),[o,h]=kt.useState("a"),[d,g]=kt.useState({a:{inTime:null,outTime:null,text:""},b:{inTime:null,outTime:null,text:""},c:{inTime:null,outTime:null,text:""}}),[y,v]=kt.useState(0),[A,b]=kt.useState(0),[D,F]=kt.useState(!1),[tt,it]=kt.useState(null),[Q,K]=kt.useState("library"),[W,rt]=kt.useState(!1),[lt,At]=kt.useState(0);kt.useEffect(()=>{const S=w=>{if(!["INPUT","TEXTAREA"].includes(w.target.tagName))switch(w.key.toLowerCase()){case" ":w.preventDefault(),F(N=>!N);break;case"arrowleft":v(N=>Math.max(0,N-5));break;case"arrowright":v(N=>Math.min(A,N+5));break;case"a":h("a");break;case"b":h("b");break;case"c":h("c");break}};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[A]),kt.useEffect(()=>{if(i){const S=localStorage.getItem(`markers_${i.key}`);let w=null;try{w=S?JSON.parse(S):null}catch(N){console.error("Failed to parse markers",N)}g(w&&w.a?w:{a:{inTime:null,outTime:null,text:""},b:{inTime:null,outTime:null,text:""},c:{inTime:null,outTime:null,text:""}})}},[i]),kt.useEffect(()=>{i&&localStorage.setItem(`markers_${i.key}`,JSON.stringify(d))},[d,i]);const pt=kt.useCallback((S,w="info")=>{it({message:S,type:w}),setTimeout(()=>it(null),3e3)},[]),I=async S=>{var pe;rt(!0),At(0);const w={},N=[],V=B=>{let et=B.split("/").pop()||B;const ct=et.lastIndexOf(".");return et=ct>0?et.substring(0,ct):et,et.replace(/\(transcribed\)$/i,"").toLowerCase().replace(/[_\s]+/g," ").trim()};for(const B of S){const et=(pe=B.name.split(".").pop())==null?void 0:pe.toLowerCase();et==="txt"?w[V(B.name)]=B:et&&_1.includes(et)&&N.push(B)}const R=N.filter(B=>!!w[V(B.name)]);if(R.length===0){pt("No matching pairs found. Select both audio and transcript files.","error"),rt(!1);return}const se=[];for(let B=0;B<R.length;B++){const et=R[B],ct=V(et.name),It=await w[ct].text(),Ut={key:ct,name:et.name,file:et,date:et.lastModified,size:et.size,transcript:It};await Sv(Ut),se.push(Ut),At(Math.round((B+1)/R.length*100))}t(B=>{const et=[...B,...se],ct=new Set;return et.filter(It=>{const Ut=ct.has(It.key);return ct.add(It.key),!Ut})}),rt(!1),pt(`${se.length} paired items synced.`,"success")};return kt.useEffect(()=>{Qd().then(S=>{S.length>0&&(t(S),s(S[0]))})},[]),j.jsxs("div",{className:"flex flex-col h-screen w-full bg-zinc-950 overflow-hidden text-zinc-100 font-sans selection:bg-rose-500/30",children:[j.jsxs("header",{className:"flex items-center justify-between px-4 pt-14 md:pt-6 pb-3 bg-zinc-900 border-b border-zinc-800 shrink-0 z-50 shadow-lg sticky top-0",children:[j.jsxs("button",{onClick:()=>K("library"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all ${Q==="library"?"bg-zinc-800 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:[j.jsx("div",{className:`p-1 rounded ${Q==="library"?"bg-rose-600":"bg-zinc-800 group-hover:bg-zinc-700"}`,children:j.jsx(Hn.Folder,{})}),j.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden md:inline",children:"Library"})]}),j.jsxs("h1",{className:"absolute left-1/2 -translate-x-1/2 font-black text-sm md:text-base tracking-tighter uppercase pointer-events-none opacity-80",children:["AZ-104 ",j.jsx("span",{className:"text-rose-500",children:"Hub"})]}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsxs("button",{onClick:()=>K("player"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all ${Q==="player"?"bg-zinc-800 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:[j.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden md:inline",children:"Player"}),j.jsx("div",{className:`p-1.5 rounded ${Q==="player"?"bg-rose-600 text-white":"bg-zinc-800 text-zinc-500"}`,children:j.jsx(Hn.Play,{})})]}),j.jsx("div",{className:"w-px h-6 bg-zinc-800 mx-1"}),j.jsx("button",{onClick:()=>{confirm("Purge library?")&&y1().then(()=>location.reload())},className:"p-2 text-zinc-700 hover:text-rose-500 transition-colors",children:j.jsx(Hn.Trash,{})})]})]}),j.jsxs("main",{className:"flex flex-1 overflow-hidden relative",children:[j.jsx("aside",{className:`${Q==="library"?"flex w-full absolute inset-0 z-40 md:relative md:w-[280px]":"hidden md:flex md:w-[280px]"} border-r border-zinc-800 bg-zinc-900 flex-col shrink-0 transition-all`,children:j.jsx(NR,{items:a,activeItem:i,onSelect:S=>{s(S),K("player")},onImport:I})}),j.jsxs("section",{className:`${Q==="player"?"flex":"hidden md:flex"} flex-1 flex-col bg-zinc-950 overflow-hidden`,children:[j.jsx(DR,{item:i,isPlaying:D,onPlayPause:F,onTimeUpdate:v,onDurationChange:b,currentTime:y,duration:A}),j.jsxs("div",{className:"flex-1 flex flex-col md:flex-row min-h-0 overflow-hidden",children:[j.jsx("div",{className:"flex-1 flex flex-col min-h-0 relative",children:j.jsx(OR,{text:i==null?void 0:i.transcript,currentTime:y,duration:A,onSeek:v,markers:d})}),j.jsx("div",{className:"w-full md:w-[200px] h-[45%] md:h-auto flex flex-col min-h-0 bg-zinc-900/60 shrink-0 border-l border-zinc-900 shadow-2xl",children:j.jsx(xR,{activeSlot:o,onSelectSlot:h,markers:d,setMarkers:g,currentTime:y,duration:A,activeItem:i,onSeek:v,onToast:pt})})]})]})]}),W&&j.jsx("div",{className:"fixed inset-0 z-[100] bg-zinc-950/95 backdrop-blur-xl flex items-center justify-center p-6 text-center",children:j.jsxs("div",{className:"w-full max-w-xs space-y-6 animate-pulse",children:[j.jsx("div",{className:"w-10 h-10 border-4 border-rose-600 border-t-transparent rounded-full animate-spin mx-auto"}),j.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-white",children:"Syncing Workspace"}),j.jsx("div",{className:"h-1 w-full bg-zinc-800 rounded-full overflow-hidden",children:j.jsx("div",{className:"h-full bg-rose-600 transition-all",style:{width:`${lt}%`}})})]})}),tt&&j.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 px-6 py-2.5 rounded-full shadow-2xl z-[110] animate-in slide-in-from-bottom duration-300 ${tt.type==="success"?"bg-emerald-600":tt.type==="error"?"bg-rose-600":"bg-zinc-100 text-zinc-950"} text-[9px] font-black uppercase tracking-[0.2em]`,children:tt.message})]})},xE=document.getElementById("root");if(!xE)throw new Error("Could not find root element to mount to");const MR=g1.createRoot(xE);MR.render(j.jsx(Av.StrictMode,{children:j.jsx(VR,{})}));
